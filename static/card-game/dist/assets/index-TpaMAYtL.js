(function(){const H=document.createElement("link").relList;if(H&&H.supports&&H.supports("modulepreload"))return;for(const K of document.querySelectorAll('link[rel="modulepreload"]'))ne(K);new MutationObserver(K=>{for(const le of K)if(le.type==="childList")for(const me of le.addedNodes)me.tagName==="LINK"&&me.rel==="modulepreload"&&ne(me)}).observe(document,{childList:!0,subtree:!0});function k(K){const le={};return K.integrity&&(le.integrity=K.integrity),K.referrerPolicy&&(le.referrerPolicy=K.referrerPolicy),K.crossOrigin==="use-credentials"?le.credentials="include":K.crossOrigin==="anonymous"?le.credentials="omit":le.credentials="same-origin",le}function ne(K){if(K.ep)return;K.ep=!0;const le=k(K);fetch(K.href,le)}})();function Oc(D){return D&&D.__esModule&&Object.prototype.hasOwnProperty.call(D,"default")?D.default:D}var ho={exports:{}},ki={},go={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cc;function Ud(){if(Cc)return pe;Cc=1;var D=Symbol.for("react.element"),H=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),me=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Qe=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),_e=Symbol.iterator;function Z(h){return h===null||typeof h!="object"?null:(h=_e&&h[_e]||h["@@iterator"],typeof h=="function"?h:null)}var Ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},at=Object.assign,ge={};function ae(h,S,re){this.props=h,this.context=S,this.refs=ge,this.updater=re||Ee}ae.prototype.isReactComponent={},ae.prototype.setState=function(h,S){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,S,"setState")},ae.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function Je(){}Je.prototype=ae.prototype;function st(h,S,re){this.props=h,this.context=S,this.refs=ge,this.updater=re||Ee}var Xe=st.prototype=new Je;Xe.constructor=st,at(Xe,ae.prototype),Xe.isPureReactComponent=!0;var Me=Array.isArray,ce=Object.prototype.hasOwnProperty,Re={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function Ze(h,S,re){var G,de={},q=null,xe=null;if(S!=null)for(G in S.ref!==void 0&&(xe=S.ref),S.key!==void 0&&(q=""+S.key),S)ce.call(S,G)&&!Q.hasOwnProperty(G)&&(de[G]=S[G]);var fe=arguments.length-2;if(fe===1)de.children=re;else if(1<fe){for(var Te=Array(fe),Ue=0;Ue<fe;Ue++)Te[Ue]=arguments[Ue+2];de.children=Te}if(h&&h.defaultProps)for(G in fe=h.defaultProps,fe)de[G]===void 0&&(de[G]=fe[G]);return{$$typeof:D,type:h,key:q,ref:xe,props:de,_owner:Re.current}}function It(h,S){return{$$typeof:D,type:h.type,key:S,ref:h.ref,props:h.props,_owner:h._owner}}function he(h){return typeof h=="object"&&h!==null&&h.$$typeof===D}function je(h){var S={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(re){return S[re]})}var b=/\/+/g;function ot(h,S){return typeof h=="object"&&h!==null&&h.key!=null?je(""+h.key):S.toString(36)}function ut(h,S,re,G,de){var q=typeof h;(q==="undefined"||q==="boolean")&&(h=null);var xe=!1;if(h===null)xe=!0;else switch(q){case"string":case"number":xe=!0;break;case"object":switch(h.$$typeof){case D:case H:xe=!0}}if(xe)return xe=h,de=de(xe),h=G===""?"."+ot(xe,0):G,Me(de)?(re="",h!=null&&(re=h.replace(b,"$&/")+"/"),ut(de,S,re,"",function(Ue){return Ue})):de!=null&&(he(de)&&(de=It(de,re+(!de.key||xe&&xe.key===de.key?"":(""+de.key).replace(b,"$&/")+"/")+h)),S.push(de)),1;if(xe=0,G=G===""?".":G+":",Me(h))for(var fe=0;fe<h.length;fe++){q=h[fe];var Te=G+ot(q,fe);xe+=ut(q,S,re,Te,de)}else if(Te=Z(h),typeof Te=="function")for(h=Te.call(h),fe=0;!(q=h.next()).done;)q=q.value,Te=G+ot(q,fe++),xe+=ut(q,S,re,Te,de);else if(q==="object")throw S=String(h),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.");return xe}function ve(h,S,re){if(h==null)return h;var G=[],de=0;return ut(h,G,"","",function(q){return S.call(re,q,de++)}),G}function ye(h){if(h._status===-1){var S=h._result;S=S(),S.then(function(re){(h._status===0||h._status===-1)&&(h._status=1,h._result=re)},function(re){(h._status===0||h._status===-1)&&(h._status=2,h._result=re)}),h._status===-1&&(h._status=0,h._result=S)}if(h._status===1)return h._result.default;throw h._result}var De={current:null},I={transition:null},J={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:I,ReactCurrentOwner:Re};function M(){throw Error("act(...) is not supported in production builds of React.")}return pe.Children={map:ve,forEach:function(h,S,re){ve(h,function(){S.apply(this,arguments)},re)},count:function(h){var S=0;return ve(h,function(){S++}),S},toArray:function(h){return ve(h,function(S){return S})||[]},only:function(h){if(!he(h))throw Error("React.Children.only expected to receive a single React element child.");return h}},pe.Component=ae,pe.Fragment=k,pe.Profiler=K,pe.PureComponent=st,pe.StrictMode=ne,pe.Suspense=ue,pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,pe.act=M,pe.cloneElement=function(h,S,re){if(h==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+h+".");var G=at({},h.props),de=h.key,q=h.ref,xe=h._owner;if(S!=null){if(S.ref!==void 0&&(q=S.ref,xe=Re.current),S.key!==void 0&&(de=""+S.key),h.type&&h.type.defaultProps)var fe=h.type.defaultProps;for(Te in S)ce.call(S,Te)&&!Q.hasOwnProperty(Te)&&(G[Te]=S[Te]===void 0&&fe!==void 0?fe[Te]:S[Te])}var Te=arguments.length-2;if(Te===1)G.children=re;else if(1<Te){fe=Array(Te);for(var Ue=0;Ue<Te;Ue++)fe[Ue]=arguments[Ue+2];G.children=fe}return{$$typeof:D,type:h.type,key:de,ref:q,props:G,_owner:xe}},pe.createContext=function(h){return h={$$typeof:me,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},h.Provider={$$typeof:le,_context:h},h.Consumer=h},pe.createElement=Ze,pe.createFactory=function(h){var S=Ze.bind(null,h);return S.type=h,S},pe.createRef=function(){return{current:null}},pe.forwardRef=function(h){return{$$typeof:N,render:h}},pe.isValidElement=he,pe.lazy=function(h){return{$$typeof:Ie,_payload:{_status:-1,_result:h},_init:ye}},pe.memo=function(h,S){return{$$typeof:Qe,type:h,compare:S===void 0?null:S}},pe.startTransition=function(h){var S=I.transition;I.transition={};try{h()}finally{I.transition=S}},pe.unstable_act=M,pe.useCallback=function(h,S){return De.current.useCallback(h,S)},pe.useContext=function(h){return De.current.useContext(h)},pe.useDebugValue=function(){},pe.useDeferredValue=function(h){return De.current.useDeferredValue(h)},pe.useEffect=function(h,S){return De.current.useEffect(h,S)},pe.useId=function(){return De.current.useId()},pe.useImperativeHandle=function(h,S,re){return De.current.useImperativeHandle(h,S,re)},pe.useInsertionEffect=function(h,S){return De.current.useInsertionEffect(h,S)},pe.useLayoutEffect=function(h,S){return De.current.useLayoutEffect(h,S)},pe.useMemo=function(h,S){return De.current.useMemo(h,S)},pe.useReducer=function(h,S,re){return De.current.useReducer(h,S,re)},pe.useRef=function(h){return De.current.useRef(h)},pe.useState=function(h){return De.current.useState(h)},pe.useSyncExternalStore=function(h,S,re){return De.current.useSyncExternalStore(h,S,re)},pe.useTransition=function(){return De.current.useTransition()},pe.version="18.3.1",pe}var jc;function xo(){return jc||(jc=1,go.exports=Ud()),go.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c;function Ad(){if(_c)return ki;_c=1;var D=xo(),H=Symbol.for("react.element"),k=Symbol.for("react.fragment"),ne=Object.prototype.hasOwnProperty,K=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,le={key:!0,ref:!0,__self:!0,__source:!0};function me(N,ue,Qe){var Ie,_e={},Z=null,Ee=null;Qe!==void 0&&(Z=""+Qe),ue.key!==void 0&&(Z=""+ue.key),ue.ref!==void 0&&(Ee=ue.ref);for(Ie in ue)ne.call(ue,Ie)&&!le.hasOwnProperty(Ie)&&(_e[Ie]=ue[Ie]);if(N&&N.defaultProps)for(Ie in ue=N.defaultProps,ue)_e[Ie]===void 0&&(_e[Ie]=ue[Ie]);return{$$typeof:H,type:N,key:Z,ref:Ee,props:_e,_owner:K.current}}return ki.Fragment=k,ki.jsx=me,ki.jsxs=me,ki}var Ec;function Gd(){return Ec||(Ec=1,ho.exports=Ad()),ho.exports}var a=Gd(),j=xo();const Bd=Oc(j);var za={},vo={exports:{}},$t={},yo={exports:{}},ko={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc;function Hd(){return Tc||(Tc=1,function(D){function H(I,J){var M=I.length;I.push(J);e:for(;0<M;){var h=M-1>>>1,S=I[h];if(0<K(S,J))I[h]=J,I[M]=S,M=h;else break e}}function k(I){return I.length===0?null:I[0]}function ne(I){if(I.length===0)return null;var J=I[0],M=I.pop();if(M!==J){I[0]=M;e:for(var h=0,S=I.length,re=S>>>1;h<re;){var G=2*(h+1)-1,de=I[G],q=G+1,xe=I[q];if(0>K(de,M))q<S&&0>K(xe,de)?(I[h]=xe,I[q]=M,h=q):(I[h]=de,I[G]=M,h=G);else if(q<S&&0>K(xe,M))I[h]=xe,I[q]=M,h=q;else break e}}return J}function K(I,J){var M=I.sortIndex-J.sortIndex;return M!==0?M:I.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var le=performance;D.unstable_now=function(){return le.now()}}else{var me=Date,N=me.now();D.unstable_now=function(){return me.now()-N}}var ue=[],Qe=[],Ie=1,_e=null,Z=3,Ee=!1,at=!1,ge=!1,ae=typeof setTimeout=="function"?setTimeout:null,Je=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Xe(I){for(var J=k(Qe);J!==null;){if(J.callback===null)ne(Qe);else if(J.startTime<=I)ne(Qe),J.sortIndex=J.expirationTime,H(ue,J);else break;J=k(Qe)}}function Me(I){if(ge=!1,Xe(I),!at)if(k(ue)!==null)at=!0,ye(ce);else{var J=k(Qe);J!==null&&De(Me,J.startTime-I)}}function ce(I,J){at=!1,ge&&(ge=!1,Je(Ze),Ze=-1),Ee=!0;var M=Z;try{for(Xe(J),_e=k(ue);_e!==null&&(!(_e.expirationTime>J)||I&&!je());){var h=_e.callback;if(typeof h=="function"){_e.callback=null,Z=_e.priorityLevel;var S=h(_e.expirationTime<=J);J=D.unstable_now(),typeof S=="function"?_e.callback=S:_e===k(ue)&&ne(ue),Xe(J)}else ne(ue);_e=k(ue)}if(_e!==null)var re=!0;else{var G=k(Qe);G!==null&&De(Me,G.startTime-J),re=!1}return re}finally{_e=null,Z=M,Ee=!1}}var Re=!1,Q=null,Ze=-1,It=5,he=-1;function je(){return!(D.unstable_now()-he<It)}function b(){if(Q!==null){var I=D.unstable_now();he=I;var J=!0;try{J=Q(!0,I)}finally{J?ot():(Re=!1,Q=null)}}else Re=!1}var ot;if(typeof st=="function")ot=function(){st(b)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,ve=ut.port2;ut.port1.onmessage=b,ot=function(){ve.postMessage(null)}}else ot=function(){ae(b,0)};function ye(I){Q=I,Re||(Re=!0,ot())}function De(I,J){Ze=ae(function(){I(D.unstable_now())},J)}D.unstable_IdlePriority=5,D.unstable_ImmediatePriority=1,D.unstable_LowPriority=4,D.unstable_NormalPriority=3,D.unstable_Profiling=null,D.unstable_UserBlockingPriority=2,D.unstable_cancelCallback=function(I){I.callback=null},D.unstable_continueExecution=function(){at||Ee||(at=!0,ye(ce))},D.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):It=0<I?Math.floor(1e3/I):5},D.unstable_getCurrentPriorityLevel=function(){return Z},D.unstable_getFirstCallbackNode=function(){return k(ue)},D.unstable_next=function(I){switch(Z){case 1:case 2:case 3:var J=3;break;default:J=Z}var M=Z;Z=J;try{return I()}finally{Z=M}},D.unstable_pauseExecution=function(){},D.unstable_requestPaint=function(){},D.unstable_runWithPriority=function(I,J){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var M=Z;Z=I;try{return J()}finally{Z=M}},D.unstable_scheduleCallback=function(I,J,M){var h=D.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?h+M:h):M=h,I){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=M+S,I={id:Ie++,callback:J,priorityLevel:I,startTime:M,expirationTime:S,sortIndex:-1},M>h?(I.sortIndex=M,H(Qe,I),k(ue)===null&&I===k(Qe)&&(ge?(Je(Ze),Ze=-1):ge=!0,De(Me,M-h))):(I.sortIndex=S,H(ue,I),at||Ee||(at=!0,ye(ce))),I},D.unstable_shouldYield=je,D.unstable_wrapCallback=function(I){var J=Z;return function(){var M=Z;Z=J;try{return I.apply(this,arguments)}finally{Z=M}}}}(ko)),ko}var Pc;function Vd(){return Pc||(Pc=1,yo.exports=Hd()),yo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic;function Wd(){if(Ic)return $t;Ic=1;var D=xo(),H=Vd();function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ne=new Set,K={};function le(e,t){me(e,t),me(e+"Capture",t)}function me(e,t){for(K[e]=t,e=0;e<t.length;e++)ne.add(t[e])}var N=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ue=Object.prototype.hasOwnProperty,Qe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ie={},_e={};function Z(e){return ue.call(_e,e)?!0:ue.call(Ie,e)?!1:Qe.test(e)?_e[e]=!0:(Ie[e]=!0,!1)}function Ee(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function at(e,t,n,r){if(t===null||typeof t>"u"||Ee(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ge(e,t,n,r,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ae[e]=new ge(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ae[t]=new ge(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ae[e]=new ge(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ae[e]=new ge(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ae[e]=new ge(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ae[e]=new ge(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){ae[e]=new ge(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){ae[e]=new ge(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){ae[e]=new ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Je=/[\-:]([a-z])/g;function st(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Je,st);ae[t]=new ge(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Je,st);ae[t]=new ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Je,st);ae[t]=new ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){ae[e]=new ge(e,1,!1,e.toLowerCase(),null,!1,!1)}),ae.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){ae[e]=new ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xe(e,t,n,r){var l=ae.hasOwnProperty(t)?ae[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(at(t,n,l,r)&&(n=null),r||l===null?Z(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Me=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),Re=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),Ze=Symbol.for("react.strict_mode"),It=Symbol.for("react.profiler"),he=Symbol.for("react.provider"),je=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),I=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var M=Object.assign,h;function S(e){if(h===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);h=t&&t[1]||""}return`
`+h+e}var re=!1;function G(e,t){if(!e||re)return"";re=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(y){var r=y}Reflect.construct(e,[],t)}else{try{t.call()}catch(y){r=y}e.call(t.prototype)}else{try{throw Error()}catch(y){r=y}e()}}catch(y){if(y&&r&&typeof y.stack=="string"){for(var l=y.stack.split(`
`),i=r.stack.split(`
`),o=l.length-1,d=i.length-1;1<=o&&0<=d&&l[o]!==i[d];)d--;for(;1<=o&&0<=d;o--,d--)if(l[o]!==i[d]){if(o!==1||d!==1)do if(o--,d--,0>d||l[o]!==i[d]){var p=`
`+l[o].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=o&&0<=d);break}}}finally{re=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?S(e):""}function de(e){switch(e.tag){case 5:return S(e.type);case 16:return S("Lazy");case 13:return S("Suspense");case 19:return S("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1),e;case 11:return e=G(e.type.render,!1),e;case 1:return e=G(e.type,!0),e;default:return""}}function q(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case Re:return"Portal";case It:return"Profiler";case Ze:return"StrictMode";case ot:return"Suspense";case ut:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case je:return(e.displayName||"Context")+".Consumer";case he:return(e._context.displayName||"Context")+".Provider";case b:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:q(e.type)||"Memo";case ye:t=e._payload,e=e._init;try{return q(e(t))}catch{}}return null}function xe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===Ze?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ue(e){var t=Te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mn(e){e._valueTracker||(e._valueTracker=Ue(e))}function hn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Te(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wt(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gn(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fe(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ft(e,t){t=t.checked,t!=null&&Xe(e,"checked",t,!1)}function Jn(e,t){Ft(e,t);var n=fe(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nn(e,t.type,n):t.hasOwnProperty("defaultValue")&&nn(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nn(e,t,n){(t!=="number"||zn(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var L=Array.isArray;function gt(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fe(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function z(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kt(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(L(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fe(n)}}function Se(e,t){var n=fe(t.value),r=fe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ct(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ct(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ct(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tt,Ml=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tt=tt||document.createElement("div"),tt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nt=["Webkit","ms","Moz","O"];Object.keys(rn).forEach(function(e){nt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rn[t]=rn[e]})});function hr(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rn.hasOwnProperty(e)&&rn[e]?(""+t).trim():t+"px"}function zl(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=hr(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Qr=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jt(e,t){if(t){if(Qr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function vn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gr=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ln=null,Ut=null,W=null;function Jr(e){if(e=li(e)){if(typeof ln!="function")throw Error(k(280));var t=e.stateNode;t&&(t=Yi(t),ln(e.stateNode,e.type,t))}}function $(e){Ut?W?W.push(e):W=[e]:Ut=e}function rt(){if(Ut){var e=Ut,t=W;if(W=Ut=null,Jr(e),t)for(e=0;e<t.length;e++)Jr(t[e])}}function qe(e,t){return e(t)}function Rl(){}var Qt=!1;function Ol(e,t,n){if(Qt)return e(t,n);Qt=!0;try{return qe(e,t,n)}finally{Qt=!1,(Ut!==null||W!==null)&&(Rl(),rt())}}function Yn(e,t){var n=e.stateNode;if(n===null)return null;var r=Yi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var we=!1;if(N)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){we=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch{we=!1}function $l(e,t,n,r,l,i,o,d,p){var y=Array.prototype.slice.call(arguments,3);try{t.apply(n,y)}catch(_){this.onError(_)}}var _t=!1,yn=null,Jt=!1,On=null,vr={onError:function(e){_t=!0,yn=e}};function Si(e,t,n,r,l,i,o,d,p){_t=!1,yn=null,$l.apply(vr,arguments)}function an(e,t,n,r,l,i,o,d,p){if(Si.apply(this,arguments),_t){if(_t){var y=yn;_t=!1,yn=null}else throw Error(k(198));Jt||(Jt=!0,On=y)}}function kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Kr(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yr(e){if(kn(e)!==e)throw Error(k(188))}function Oa(e){var t=e.alternate;if(!t){if(t=kn(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return yr(l),e;if(i===r)return yr(l),t;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=l,r=i;else{for(var o=!1,d=l.child;d;){if(d===n){o=!0,n=l,r=i;break}if(d===r){o=!0,r=l,n=i;break}d=d.sibling}if(!o){for(d=i.child;d;){if(d===n){o=!0,n=i,r=l;break}if(d===r){o=!0,r=i,n=l;break}d=d.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function Fl(e){return e=Oa(e),e!==null?wi(e):null}function wi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wi(e);if(t!==null)return t;e=e.sibling}return null}var Ni=H.unstable_scheduleCallback,F=H.unstable_cancelCallback,Ul=H.unstable_shouldYield,Ci=H.unstable_requestPaint,Le=H.unstable_now,ji=H.unstable_getCurrentPriorityLevel,$n=H.unstable_ImmediatePriority,kr=H.unstable_UserBlockingPriority,xr=H.unstable_NormalPriority,dt=H.unstable_LowPriority,Xn=H.unstable_IdlePriority,Sr=null,ft=null;function Al(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Sr,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Xr,xn=Math.log,Yr=Math.LN2;function Xr(e){return e>>>=0,e===0?32:31-(xn(e)/Yr|0)|0}var At=64,wr=4194304;function Nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var d=o&~l;d!==0?r=Nr(d):(i&=o,i!==0&&(r=Nr(i)))}else o=n&~l,o!==0?r=Nr(o):i!==0&&(r=Nr(i));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dt(t),l=1<<n,r|=e[n],t&=~l;return r}function _i(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $a(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Dt(i),d=1<<o,p=l[o];p===-1?((d&n)===0||(d&r)!==0)&&(l[o]=_i(d,t)):p<=t&&(e.expiredLanes|=d),i&=~d}}function Gl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ei(){var e=At;return At<<=1,(At&4194240)===0&&(At=64),e}function Sn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function Fa(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Dt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function Bl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Ce=0;function Ti(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var wn,Hl,Pi,Ii,Di,Vl=!1,Zr=[],Nn=null,Cn=null,jn=null,_r=new Map,Er=new Map,_n=[],Ua="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Li(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":_r.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(t.pointerId)}}function Tr(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=li(t),t!==null&&Hl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Aa(e,t,n,r,l){switch(t){case"focusin":return Nn=Tr(Nn,e,t,n,r,l),!0;case"dragenter":return Cn=Tr(Cn,e,t,n,r,l),!0;case"mouseover":return jn=Tr(jn,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return _r.set(i,Tr(_r.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,Er.set(i,Tr(Er.get(i)||null,e,t,n,r,l)),!0}return!1}function Mi(e){var t=Mr(e.target);if(t!==null){var n=kn(t);if(n!==null){if(t=n.tag,t===13){if(t=Kr(n),t!==null){e.blockedOn=t,Di(e.priority,function(){Pi(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gr=r,n.target.dispatchEvent(r),gr=null}else return t=li(n),t!==null&&Hl(t),e.blockedOn=n,!1;t.shift()}return!0}function zi(e,t,n){qr(e)&&n.delete(t)}function Wl(){Vl=!1,Nn!==null&&qr(Nn)&&(Nn=null),Cn!==null&&qr(Cn)&&(Cn=null),jn!==null&&qr(jn)&&(jn=null),_r.forEach(zi),Er.forEach(zi)}function Pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Vl||(Vl=!0,H.unstable_scheduleCallback(H.unstable_NormalPriority,Wl)))}function Zn(e){function t(l){return Pr(l,e)}if(0<Zr.length){Pr(Zr[0],e);for(var n=1;n<Zr.length;n++){var r=Zr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Nn!==null&&Pr(Nn,e),Cn!==null&&Pr(Cn,e),jn!==null&&Pr(jn,e),_r.forEach(t),Er.forEach(t),n=0;n<_n.length;n++)r=_n[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)Mi(n),n.blockedOn===null&&_n.shift()}var qn=Me.ReactCurrentBatchConfig,Ir=!0;function Ri(e,t,n,r){var l=Ce,i=qn.transition;qn.transition=null;try{Ce=1,Ql(e,t,n,r)}finally{Ce=l,qn.transition=i}}function Kt(e,t,n,r){var l=Ce,i=qn.transition;qn.transition=null;try{Ce=4,Ql(e,t,n,r)}finally{Ce=l,qn.transition=i}}function Ql(e,t,n,r){if(Ir){var l=Jl(e,t,n,r);if(l===null)ls(e,t,r,br,n),Li(e,r);else if(Aa(l,e,t,n,r))r.stopPropagation();else if(Li(e,r),t&4&&-1<Ua.indexOf(e)){for(;l!==null;){var i=li(l);if(i!==null&&wn(i),i=Jl(e,t,n,r),i===null&&ls(e,t,r,br,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else ls(e,t,r,null,n)}}var br=null;function Jl(e,t,n,r){if(br=null,e=Rn(r),e=Mr(e),e!==null)if(t=kn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Kr(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return br=e,null}function Oi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ji()){case $n:return 1;case kr:return 4;case xr:case dt:return 16;case Xn:return 536870912;default:return 16}default:return 16}}var En=null,el=null,tl=null;function $i(){if(tl)return tl;var e,t=el,n=t.length,r,l="value"in En?En.value:En.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[i-r];r++);return tl=l.slice(e,1<r?1-r:void 0)}function nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rl(){return!0}function Fi(){return!1}function Et(e){function t(n,r,l,i,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rl:Fi,this.isPropagationStopped=Fi,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),t}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=Et(Tn),bn=M({},Tn,{view:0,detail:0}),Ga=Et(bn),ll,il,Dr,al=M({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dr&&(Dr&&e.type==="mousemove"?(ll=e.screenX-Dr.screenX,il=e.screenY-Dr.screenY):il=ll=0,Dr=e),ll)},movementY:function(e){return"movementY"in e?e.movementY:il}}),Ui=Et(al),Ba=M({},al,{dataTransfer:0}),Ha=Et(Ba),Pn=M({},bn,{relatedTarget:0}),er=Et(Pn),sl=M({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),ol=Et(sl),ul=M({},Tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cl=Et(ul),dl=M({},Tn,{data:0}),Lr=Et(dl),fl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Va={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Va[e])?!!t[e]:!1}function Yl(){return Wa}var Qa=M({},bn,{key:function(e){if(e.key){var t=fl[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ai[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ja=Et(Qa),Ka=M({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u=Et(Ka),c=M({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),s=Et(c),f=M({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Et(f),w=M({},al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P=Et(w),U=[9,13,27,32],ee=N&&"CompositionEvent"in window,se=null;N&&"documentMode"in document&&(se=document.documentMode);var Ae=N&&"TextEvent"in window&&!se,Pe=N&&(!ee||se&&8<se&&11>=se),oe=" ",Ge=!1;function Yt(e,t){switch(e){case"keyup":return U.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sn(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function Gi(e,t){switch(e){case"compositionend":return sn(t);case"keypress":return t.which!==32?null:(Ge=!0,oe);case"textInput":return e=t.data,e===oe&&Ge?null:e;default:return null}}function $c(e,t){if(Fn)return e==="compositionend"||!ee&&Yt(e,t)?(e=$i(),tl=el=En=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pe&&t.locale!=="ko"?null:t.data;default:return null}}var Fc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function So(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fc[e.type]:t==="textarea"}function wo(e,t,n,r){$(r),t=Qi(t,"onChange"),0<t.length&&(n=new Kl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xl=null,Zl=null;function Uc(e){Ao(e,0)}function Bi(e){var t=vl(e);if(hn(t))return e}function Ac(e,t){if(e==="change")return t}var No=!1;if(N){var Ya;if(N){var Xa="oninput"in document;if(!Xa){var Co=document.createElement("div");Co.setAttribute("oninput","return;"),Xa=typeof Co.oninput=="function"}Ya=Xa}else Ya=!1;No=Ya&&(!document.documentMode||9<document.documentMode)}function jo(){Xl&&(Xl.detachEvent("onpropertychange",_o),Zl=Xl=null)}function _o(e){if(e.propertyName==="value"&&Bi(Zl)){var t=[];wo(t,Zl,e,Rn(e)),Ol(Uc,t)}}function Gc(e,t,n){e==="focusin"?(jo(),Xl=t,Zl=n,Xl.attachEvent("onpropertychange",_o)):e==="focusout"&&jo()}function Bc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi(Zl)}function Hc(e,t){if(e==="click")return Bi(t)}function Vc(e,t){if(e==="input"||e==="change")return Bi(t)}function Wc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:Wc;function ql(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ue.call(t,l)||!on(e[l],t[l]))return!1}return!0}function Eo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function To(e,t){var n=Eo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Eo(n)}}function Po(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Po(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Io(){for(var e=window,t=zn();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zn(e.document)}return t}function Za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qc(e){var t=Io(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Po(n.ownerDocument.documentElement,n)){if(r!==null&&Za(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=To(n,i);var o=To(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jc=N&&"documentMode"in document&&11>=document.documentMode,pl=null,qa=null,bl=null,ba=!1;function Do(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ba||pl==null||pl!==zn(r)||(r=pl,"selectionStart"in r&&Za(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bl&&ql(bl,r)||(bl=r,r=Qi(qa,"onSelect"),0<r.length&&(t=new Kl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pl)))}function Hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ml={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionend:Hi("Transition","TransitionEnd")},es={},Lo={};N&&(Lo=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function Vi(e){if(es[e])return es[e];if(!ml[e])return e;var t=ml[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lo)return es[e]=t[n];return e}var Mo=Vi("animationend"),zo=Vi("animationiteration"),Ro=Vi("animationstart"),Oo=Vi("transitionend"),$o=new Map,Fo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){$o.set(e,t),le(t,[e])}for(var ts=0;ts<Fo.length;ts++){var ns=Fo[ts],Kc=ns.toLowerCase(),Yc=ns[0].toUpperCase()+ns.slice(1);tr(Kc,"on"+Yc)}tr(Mo,"onAnimationEnd"),tr(zo,"onAnimationIteration"),tr(Ro,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(Oo,"onTransitionEnd"),me("onMouseEnter",["mouseout","mouseover"]),me("onMouseLeave",["mouseout","mouseover"]),me("onPointerEnter",["pointerout","pointerover"]),me("onPointerLeave",["pointerout","pointerover"]),le("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),le("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),le("onBeforeInput",["compositionend","keypress","textInput","paste"]),le("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xc=new Set("cancel close invalid load scroll toggle".split(" ").concat(ei));function Uo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,an(r,t,void 0,e),e.currentTarget=null}function Ao(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var d=r[o],p=d.instance,y=d.currentTarget;if(d=d.listener,p!==i&&l.isPropagationStopped())break e;Uo(l,d,y),i=p}else for(o=0;o<r.length;o++){if(d=r[o],p=d.instance,y=d.currentTarget,d=d.listener,p!==i&&l.isPropagationStopped())break e;Uo(l,d,y),i=p}}}if(Jt)throw e=On,Jt=!1,On=null,e}function Oe(e,t){var n=t[cs];n===void 0&&(n=t[cs]=new Set);var r=e+"__bubble";n.has(r)||(Go(t,e,2,!1),n.add(r))}function rs(e,t,n){var r=0;t&&(r|=4),Go(n,e,r,t)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[Wi]){e[Wi]=!0,ne.forEach(function(n){n!=="selectionchange"&&(Xc.has(n)||rs(n,!1,e),rs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wi]||(t[Wi]=!0,rs("selectionchange",!1,t))}}function Go(e,t,n,r){switch(Oi(t)){case 1:var l=Ri;break;case 4:l=Kt;break;default:l=Ql}n=l.bind(null,t,n,e),l=void 0,!we||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ls(e,t,n,r,l){var i=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var d=r.stateNode.containerInfo;if(d===l||d.nodeType===8&&d.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var p=o.tag;if((p===3||p===4)&&(p=o.stateNode.containerInfo,p===l||p.nodeType===8&&p.parentNode===l))return;o=o.return}for(;d!==null;){if(o=Mr(d),o===null)return;if(p=o.tag,p===5||p===6){r=i=o;continue e}d=d.parentNode}}r=r.return}Ol(function(){var y=i,_=Rn(n),E=[];e:{var C=$o.get(e);if(C!==void 0){var R=Kl,A=e;switch(e){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":R=Ja;break;case"focusin":A="focus",R=er;break;case"focusout":A="blur",R=er;break;case"beforeblur":case"afterblur":R=er;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Ha;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=s;break;case Mo:case zo:case Ro:R=ol;break;case Oo:R=x;break;case"scroll":R=Ga;break;case"wheel":R=P;break;case"copy":case"cut":case"paste":R=cl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=u}var B=(t&4)!==0,Ye=!B&&e==="scroll",g=B?C!==null?C+"Capture":null:C;B=[];for(var m=y,v;m!==null;){v=m;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,g!==null&&(T=Yn(m,g),T!=null&&B.push(ni(m,T,v)))),Ye)break;m=m.return}0<B.length&&(C=new R(C,A,null,n,_),E.push({event:C,listeners:B}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",C&&n!==gr&&(A=n.relatedTarget||n.fromElement)&&(Mr(A)||A[Un]))break e;if((R||C)&&(C=_.window===_?_:(C=_.ownerDocument)?C.defaultView||C.parentWindow:window,R?(A=n.relatedTarget||n.toElement,R=y,A=A?Mr(A):null,A!==null&&(Ye=kn(A),A!==Ye||A.tag!==5&&A.tag!==6)&&(A=null)):(R=null,A=y),R!==A)){if(B=Ui,T="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(B=u,T="onPointerLeave",g="onPointerEnter",m="pointer"),Ye=R==null?C:vl(R),v=A==null?C:vl(A),C=new B(T,m+"leave",R,n,_),C.target=Ye,C.relatedTarget=v,T=null,Mr(_)===y&&(B=new B(g,m+"enter",A,n,_),B.target=v,B.relatedTarget=Ye,T=B),Ye=T,R&&A)t:{for(B=R,g=A,m=0,v=B;v;v=hl(v))m++;for(v=0,T=g;T;T=hl(T))v++;for(;0<m-v;)B=hl(B),m--;for(;0<v-m;)g=hl(g),v--;for(;m--;){if(B===g||g!==null&&B===g.alternate)break t;B=hl(B),g=hl(g)}B=null}else B=null;R!==null&&Bo(E,C,R,B,!1),A!==null&&Ye!==null&&Bo(E,Ye,A,B,!0)}}e:{if(C=y?vl(y):window,R=C.nodeName&&C.nodeName.toLowerCase(),R==="select"||R==="input"&&C.type==="file")var V=Ac;else if(So(C))if(No)V=Vc;else{V=Bc;var Y=Gc}else(R=C.nodeName)&&R.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(V=Hc);if(V&&(V=V(e,y))){wo(E,V,n,_);break e}Y&&Y(e,C,y),e==="focusout"&&(Y=C._wrapperState)&&Y.controlled&&C.type==="number"&&nn(C,"number",C.value)}switch(Y=y?vl(y):window,e){case"focusin":(So(Y)||Y.contentEditable==="true")&&(pl=Y,qa=y,bl=null);break;case"focusout":bl=qa=pl=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,Do(E,n,_);break;case"selectionchange":if(Jc)break;case"keydown":case"keyup":Do(E,n,_)}var X;if(ee)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else Fn?Yt(e,n)&&(te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(te="onCompositionStart");te&&(Pe&&n.locale!=="ko"&&(Fn||te!=="onCompositionStart"?te==="onCompositionEnd"&&Fn&&(X=$i()):(En=_,el="value"in En?En.value:En.textContent,Fn=!0)),Y=Qi(y,te),0<Y.length&&(te=new Lr(te,e,null,n,_),E.push({event:te,listeners:Y}),X?te.data=X:(X=sn(n),X!==null&&(te.data=X)))),(X=Ae?Gi(e,n):$c(e,n))&&(y=Qi(y,"onBeforeInput"),0<y.length&&(_=new Lr("onBeforeInput","beforeinput",null,n,_),E.push({event:_,listeners:y}),_.data=X))}Ao(E,t)})}function ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qi(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Yn(e,n),i!=null&&r.unshift(ni(e,i,l)),i=Yn(e,t),i!=null&&r.push(ni(e,i,l))),e=e.return}return r}function hl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bo(e,t,n,r,l){for(var i=t._reactName,o=[];n!==null&&n!==r;){var d=n,p=d.alternate,y=d.stateNode;if(p!==null&&p===r)break;d.tag===5&&y!==null&&(d=y,l?(p=Yn(n,i),p!=null&&o.unshift(ni(n,p,d))):l||(p=Yn(n,i),p!=null&&o.push(ni(n,p,d)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Zc=/\r\n?/g,qc=/\u0000|\uFFFD/g;function Ho(e){return(typeof e=="string"?e:""+e).replace(Zc,`
`).replace(qc,"")}function Ji(e,t,n){if(t=Ho(t),Ho(e)!==t&&n)throw Error(k(425))}function Ki(){}var is=null,as=null;function ss(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var os=typeof setTimeout=="function"?setTimeout:void 0,bc=typeof clearTimeout=="function"?clearTimeout:void 0,Vo=typeof Promise=="function"?Promise:void 0,ed=typeof queueMicrotask=="function"?queueMicrotask:typeof Vo<"u"?function(e){return Vo.resolve(null).then(e).catch(td)}:os;function td(e){setTimeout(function(){throw e})}function us(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Zn(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Zn(t)}function nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gl=Math.random().toString(36).slice(2),In="__reactFiber$"+gl,ri="__reactProps$"+gl,Un="__reactContainer$"+gl,cs="__reactEvents$"+gl,nd="__reactListeners$"+gl,rd="__reactHandles$"+gl;function Mr(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Un]||n[In]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wo(e);e!==null;){if(n=e[In])return n;e=Wo(e)}return t}e=n,n=e.parentNode}return null}function li(e){return e=e[In]||e[Un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function Yi(e){return e[ri]||null}var ds=[],yl=-1;function rr(e){return{current:e}}function $e(e){0>yl||(e.current=ds[yl],ds[yl]=null,yl--)}function ze(e,t){yl++,ds[yl]=e.current,e.current=t}var lr={},xt=rr(lr),Lt=rr(!1),zr=lr;function kl(e,t){var n=e.type.contextTypes;if(!n)return lr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Mt(e){return e=e.childContextTypes,e!=null}function Xi(){$e(Lt),$e(xt)}function Qo(e,t,n){if(xt.current!==lr)throw Error(k(168));ze(xt,t),ze(Lt,n)}function Jo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(k(108,xe(e)||"Unknown",l));return M({},n,r)}function Zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,zr=xt.current,ze(xt,e),ze(Lt,Lt.current),!0}function Ko(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=Jo(e,t,zr),r.__reactInternalMemoizedMergedChildContext=e,$e(Lt),$e(xt),ze(xt,e)):$e(Lt),ze(Lt,n)}var An=null,qi=!1,fs=!1;function Yo(e){An===null?An=[e]:An.push(e)}function ld(e){qi=!0,Yo(e)}function ir(){if(!fs&&An!==null){fs=!0;var e=0,t=Ce;try{var n=An;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}An=null,qi=!1}catch(l){throw An!==null&&(An=An.slice(e+1)),Ni($n,ir),l}finally{Ce=t,fs=!1}}return null}var xl=[],Sl=0,bi=null,ea=0,Xt=[],Zt=0,Rr=null,Gn=1,Bn="";function Or(e,t){xl[Sl++]=ea,xl[Sl++]=bi,bi=e,ea=t}function Xo(e,t,n){Xt[Zt++]=Gn,Xt[Zt++]=Bn,Xt[Zt++]=Rr,Rr=e;var r=Gn;e=Bn;var l=32-Dt(r)-1;r&=~(1<<l),n+=1;var i=32-Dt(t)+l;if(30<i){var o=l-l%5;i=(r&(1<<o)-1).toString(32),r>>=o,l-=o,Gn=1<<32-Dt(t)+l|n<<l|r,Bn=i+e}else Gn=1<<i|n<<l|r,Bn=e}function ps(e){e.return!==null&&(Or(e,1),Xo(e,1,0))}function ms(e){for(;e===bi;)bi=xl[--Sl],xl[Sl]=null,ea=xl[--Sl],xl[Sl]=null;for(;e===Rr;)Rr=Xt[--Zt],Xt[Zt]=null,Bn=Xt[--Zt],Xt[Zt]=null,Gn=Xt[--Zt],Xt[Zt]=null}var Gt=null,Bt=null,Fe=!1,un=null;function Zo(e,t){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Bt=nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rr!==null?{id:Gn,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gt=e,Bt=null,!0):!1;default:return!1}}function hs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gs(e){if(Fe){var t=Bt;if(t){var n=t;if(!qo(e,t)){if(hs(e))throw Error(k(418));t=nr(n.nextSibling);var r=Gt;t&&qo(e,t)?Zo(r,n):(e.flags=e.flags&-4097|2,Fe=!1,Gt=e)}}else{if(hs(e))throw Error(k(418));e.flags=e.flags&-4097|2,Fe=!1,Gt=e}}}function bo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function ta(e){if(e!==Gt)return!1;if(!Fe)return bo(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ss(e.type,e.memoizedProps)),t&&(t=Bt)){if(hs(e))throw eu(),Error(k(418));for(;t;)Zo(e,t),t=nr(t.nextSibling)}if(bo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bt=nr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=Gt?nr(e.stateNode.nextSibling):null;return!0}function eu(){for(var e=Bt;e;)e=nr(e.nextSibling)}function wl(){Bt=Gt=null,Fe=!1}function vs(e){un===null?un=[e]:un.push(e)}var id=Me.ReactCurrentBatchConfig;function ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var d=l.refs;o===null?delete d[i]:d[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function na(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tu(e){var t=e._init;return t(e._payload)}function nu(e){function t(g,m){if(e){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function l(g,m){return g=pr(g,m),g.index=0,g.sibling=null,g}function i(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function d(g,m,v,T){return m===null||m.tag!==6?(m=oo(v,g.mode,T),m.return=g,m):(m=l(m,v),m.return=g,m)}function p(g,m,v,T){var V=v.type;return V===Q?_(g,m,v.props.children,T,v.key):m!==null&&(m.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ye&&tu(V)===m.type)?(T=l(m,v.props),T.ref=ii(g,m,v),T.return=g,T):(T=_a(v.type,v.key,v.props,null,g.mode,T),T.ref=ii(g,m,v),T.return=g,T)}function y(g,m,v,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=uo(v,g.mode,T),m.return=g,m):(m=l(m,v.children||[]),m.return=g,m)}function _(g,m,v,T,V){return m===null||m.tag!==7?(m=Vr(v,g.mode,T,V),m.return=g,m):(m=l(m,v),m.return=g,m)}function E(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=oo(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ce:return v=_a(m.type,m.key,m.props,null,g.mode,v),v.ref=ii(g,null,m),v.return=g,v;case Re:return m=uo(m,g.mode,v),m.return=g,m;case ye:var T=m._init;return E(g,T(m._payload),v)}if(L(m)||J(m))return m=Vr(m,g.mode,v,null),m.return=g,m;na(g,m)}return null}function C(g,m,v,T){var V=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return V!==null?null:d(g,m,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ce:return v.key===V?p(g,m,v,T):null;case Re:return v.key===V?y(g,m,v,T):null;case ye:return V=v._init,C(g,m,V(v._payload),T)}if(L(v)||J(v))return V!==null?null:_(g,m,v,T,null);na(g,v)}return null}function R(g,m,v,T,V){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(v)||null,d(m,g,""+T,V);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ce:return g=g.get(T.key===null?v:T.key)||null,p(m,g,T,V);case Re:return g=g.get(T.key===null?v:T.key)||null,y(m,g,T,V);case ye:var Y=T._init;return R(g,m,v,Y(T._payload),V)}if(L(T)||J(T))return g=g.get(v)||null,_(m,g,T,V,null);na(m,T)}return null}function A(g,m,v,T){for(var V=null,Y=null,X=m,te=m=0,ht=null;X!==null&&te<v.length;te++){X.index>te?(ht=X,X=null):ht=X.sibling;var Ne=C(g,X,v[te],T);if(Ne===null){X===null&&(X=ht);break}e&&X&&Ne.alternate===null&&t(g,X),m=i(Ne,m,te),Y===null?V=Ne:Y.sibling=Ne,Y=Ne,X=ht}if(te===v.length)return n(g,X),Fe&&Or(g,te),V;if(X===null){for(;te<v.length;te++)X=E(g,v[te],T),X!==null&&(m=i(X,m,te),Y===null?V=X:Y.sibling=X,Y=X);return Fe&&Or(g,te),V}for(X=r(g,X);te<v.length;te++)ht=R(X,g,te,v[te],T),ht!==null&&(e&&ht.alternate!==null&&X.delete(ht.key===null?te:ht.key),m=i(ht,m,te),Y===null?V=ht:Y.sibling=ht,Y=ht);return e&&X.forEach(function(mr){return t(g,mr)}),Fe&&Or(g,te),V}function B(g,m,v,T){var V=J(v);if(typeof V!="function")throw Error(k(150));if(v=V.call(v),v==null)throw Error(k(151));for(var Y=V=null,X=m,te=m=0,ht=null,Ne=v.next();X!==null&&!Ne.done;te++,Ne=v.next()){X.index>te?(ht=X,X=null):ht=X.sibling;var mr=C(g,X,Ne.value,T);if(mr===null){X===null&&(X=ht);break}e&&X&&mr.alternate===null&&t(g,X),m=i(mr,m,te),Y===null?V=mr:Y.sibling=mr,Y=mr,X=ht}if(Ne.done)return n(g,X),Fe&&Or(g,te),V;if(X===null){for(;!Ne.done;te++,Ne=v.next())Ne=E(g,Ne.value,T),Ne!==null&&(m=i(Ne,m,te),Y===null?V=Ne:Y.sibling=Ne,Y=Ne);return Fe&&Or(g,te),V}for(X=r(g,X);!Ne.done;te++,Ne=v.next())Ne=R(X,g,te,Ne.value,T),Ne!==null&&(e&&Ne.alternate!==null&&X.delete(Ne.key===null?te:Ne.key),m=i(Ne,m,te),Y===null?V=Ne:Y.sibling=Ne,Y=Ne);return e&&X.forEach(function(Fd){return t(g,Fd)}),Fe&&Or(g,te),V}function Ye(g,m,v,T){if(typeof v=="object"&&v!==null&&v.type===Q&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ce:e:{for(var V=v.key,Y=m;Y!==null;){if(Y.key===V){if(V=v.type,V===Q){if(Y.tag===7){n(g,Y.sibling),m=l(Y,v.props.children),m.return=g,g=m;break e}}else if(Y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ye&&tu(V)===Y.type){n(g,Y.sibling),m=l(Y,v.props),m.ref=ii(g,Y,v),m.return=g,g=m;break e}n(g,Y);break}else t(g,Y);Y=Y.sibling}v.type===Q?(m=Vr(v.props.children,g.mode,T,v.key),m.return=g,g=m):(T=_a(v.type,v.key,v.props,null,g.mode,T),T.ref=ii(g,m,v),T.return=g,g=T)}return o(g);case Re:e:{for(Y=v.key;m!==null;){if(m.key===Y)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=l(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=uo(v,g.mode,T),m.return=g,g=m}return o(g);case ye:return Y=v._init,Ye(g,m,Y(v._payload),T)}if(L(v))return A(g,m,v,T);if(J(v))return B(g,m,v,T);na(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=l(m,v),m.return=g,g=m):(n(g,m),m=oo(v,g.mode,T),m.return=g,g=m),o(g)):n(g,m)}return Ye}var Nl=nu(!0),ru=nu(!1),ra=rr(null),la=null,Cl=null,ys=null;function ks(){ys=Cl=la=null}function xs(e){var t=ra.current;$e(ra),e._currentValue=t}function Ss(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jl(e,t){la=e,ys=Cl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(zt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(ys!==e)if(e={context:e,memoizedValue:t,next:null},Cl===null){if(la===null)throw Error(k(308));Cl=e,la.dependencies={lanes:0,firstContext:e}}else Cl=Cl.next=e;return t}var $r=null;function ws(e){$r===null?$r=[e]:$r.push(e)}function lu(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ws(t)):(n.next=l.next,l.next=n),t.interleaved=n,Hn(e,r)}function Hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ar=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ke&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Hn(e,n)}return l=r.interleaved,l===null?(t.next=t,ws(r)):(t.next=l.next,l.next=t),r.interleaved=t,Hn(e,n)}function ia(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bl(e,n)}}function au(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var l=e.updateQueue;ar=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,d=l.shared.pending;if(d!==null){l.shared.pending=null;var p=d,y=p.next;p.next=null,o===null?i=y:o.next=y,o=p;var _=e.alternate;_!==null&&(_=_.updateQueue,d=_.lastBaseUpdate,d!==o&&(d===null?_.firstBaseUpdate=y:d.next=y,_.lastBaseUpdate=p))}if(i!==null){var E=l.baseState;o=0,_=y=p=null,d=i;do{var C=d.lane,R=d.eventTime;if((r&C)===C){_!==null&&(_=_.next={eventTime:R,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var A=e,B=d;switch(C=t,R=n,B.tag){case 1:if(A=B.payload,typeof A=="function"){E=A.call(R,E,C);break e}E=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=B.payload,C=typeof A=="function"?A.call(R,E,C):A,C==null)break e;E=M({},E,C);break e;case 2:ar=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,C=l.effects,C===null?l.effects=[d]:C.push(d))}else R={eventTime:R,lane:C,tag:d.tag,payload:d.payload,callback:d.callback,next:null},_===null?(y=_=R,p=E):_=_.next=R,o|=C;if(d=d.next,d===null){if(d=l.shared.pending,d===null)break;C=d,d=C.next,C.next=null,l.lastBaseUpdate=C,l.shared.pending=null}}while(!0);if(_===null&&(p=E),l.baseState=p,l.firstBaseUpdate=y,l.lastBaseUpdate=_,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Ar|=o,e.lanes=o,e.memoizedState=E}}function su(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(k(191,l));l.call(r)}}}var ai={},Dn=rr(ai),si=rr(ai),oi=rr(ai);function Fr(e){if(e===ai)throw Error(k(174));return e}function Cs(e,t){switch(ze(oi,t),ze(si,e),ze(Dn,ai),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wr(t,e)}$e(Dn),ze(Dn,t)}function _l(){$e(Dn),$e(si),$e(oi)}function ou(e){Fr(oi.current);var t=Fr(Dn.current),n=Wr(t,e.type);t!==n&&(ze(si,e),ze(Dn,n))}function js(e){si.current===e&&($e(Dn),$e(si))}var Be=rr(0);function sa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _s=[];function Es(){for(var e=0;e<_s.length;e++)_s[e]._workInProgressVersionPrimary=null;_s.length=0}var oa=Me.ReactCurrentDispatcher,Ts=Me.ReactCurrentBatchConfig,Ur=0,He=null,lt=null,pt=null,ua=!1,ui=!1,ci=0,ad=0;function St(){throw Error(k(321))}function Ps(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Is(e,t,n,r,l,i){if(Ur=i,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=e===null||e.memoizedState===null?cd:dd,e=n(r,l),ui){i=0;do{if(ui=!1,ci=0,25<=i)throw Error(k(301));i+=1,pt=lt=null,t.updateQueue=null,oa.current=fd,e=n(r,l)}while(ui)}if(oa.current=fa,t=lt!==null&&lt.next!==null,Ur=0,pt=lt=He=null,ua=!1,t)throw Error(k(300));return e}function Ds(){var e=ci!==0;return ci=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?He.memoizedState=pt=e:pt=pt.next=e,pt}function bt(){if(lt===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=pt===null?He.memoizedState:pt.next;if(t!==null)pt=t,lt=e;else{if(e===null)throw Error(k(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},pt===null?He.memoizedState=pt=e:pt=pt.next=e}return pt}function di(e,t){return typeof t=="function"?t(e):t}function Ls(e){var t=bt(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=lt,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var d=o=null,p=null,y=i;do{var _=y.lane;if((Ur&_)===_)p!==null&&(p=p.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),r=y.hasEagerState?y.eagerState:e(r,y.action);else{var E={lane:_,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};p===null?(d=p=E,o=r):p=p.next=E,He.lanes|=_,Ar|=_}y=y.next}while(y!==null&&y!==i);p===null?o=r:p.next=d,on(r,t.memoizedState)||(zt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,He.lanes|=i,Ar|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ms(e){var t=bt(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);on(i,t.memoizedState)||(zt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function uu(){}function cu(e,t){var n=He,r=bt(),l=t(),i=!on(r.memoizedState,l);if(i&&(r.memoizedState=l,zt=!0),r=r.queue,zs(pu.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,fi(9,fu.bind(null,n,r,l,t),void 0,null),mt===null)throw Error(k(349));(Ur&30)!==0||du(n,t,l)}return l}function du(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fu(e,t,n,r){t.value=n,t.getSnapshot=r,mu(t)&&hu(e)}function pu(e,t,n){return n(function(){mu(t)&&hu(e)})}function mu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function hu(e){var t=Hn(e,1);t!==null&&pn(t,e,1,-1)}function gu(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:e},t.queue=e,e=e.dispatch=ud.bind(null,He,e),[t.memoizedState,e]}function fi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vu(){return bt().memoizedState}function ca(e,t,n,r){var l=Ln();He.flags|=e,l.memoizedState=fi(1|t,n,void 0,r===void 0?null:r)}function da(e,t,n,r){var l=bt();r=r===void 0?null:r;var i=void 0;if(lt!==null){var o=lt.memoizedState;if(i=o.destroy,r!==null&&Ps(r,o.deps)){l.memoizedState=fi(t,n,i,r);return}}He.flags|=e,l.memoizedState=fi(1|t,n,i,r)}function yu(e,t){return ca(8390656,8,e,t)}function zs(e,t){return da(2048,8,e,t)}function ku(e,t){return da(4,2,e,t)}function xu(e,t){return da(4,4,e,t)}function Su(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wu(e,t,n){return n=n!=null?n.concat([e]):null,da(4,4,Su.bind(null,t,e),n)}function Rs(){}function Nu(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cu(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ju(e,t,n){return(Ur&21)===0?(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=n):(on(n,t)||(n=Ei(),He.lanes|=n,Ar|=n,e.baseState=!0),t)}function sd(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=Ts.transition;Ts.transition={};try{e(!1),t()}finally{Ce=n,Ts.transition=r}}function _u(){return bt().memoizedState}function od(e,t,n){var r=dr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Eu(e))Tu(t,n);else if(n=lu(e,t,n,r),n!==null){var l=Pt();pn(n,e,r,l),Pu(n,t,r)}}function ud(e,t,n){var r=dr(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Eu(e))Tu(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,d=i(o,n);if(l.hasEagerState=!0,l.eagerState=d,on(d,o)){var p=t.interleaved;p===null?(l.next=l,ws(t)):(l.next=p.next,p.next=l),t.interleaved=l;return}}catch{}finally{}n=lu(e,t,l,r),n!==null&&(l=Pt(),pn(n,e,r,l),Pu(n,t,r))}}function Eu(e){var t=e.alternate;return e===He||t!==null&&t===He}function Tu(e,t){ui=ua=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pu(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bl(e,n)}}var fa={readContext:qt,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},cd={readContext:qt,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:yu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ca(4194308,4,Su.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ca(4194308,4,e,t)},useInsertionEffect:function(e,t){return ca(4,2,e,t)},useMemo:function(e,t){var n=Ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=od.bind(null,He,e),[r.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:gu,useDebugValue:Rs,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=gu(!1),t=e[0];return e=sd.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=He,l=Ln();if(Fe){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),mt===null)throw Error(k(349));(Ur&30)!==0||du(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,yu(pu.bind(null,r,i,e),[e]),r.flags|=2048,fi(9,fu.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ln(),t=mt.identifierPrefix;if(Fe){var n=Bn,r=Gn;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ci++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ad++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dd={readContext:qt,useCallback:Nu,useContext:qt,useEffect:zs,useImperativeHandle:wu,useInsertionEffect:ku,useLayoutEffect:xu,useMemo:Cu,useReducer:Ls,useRef:vu,useState:function(){return Ls(di)},useDebugValue:Rs,useDeferredValue:function(e){var t=bt();return ju(t,lt.memoizedState,e)},useTransition:function(){var e=Ls(di)[0],t=bt().memoizedState;return[e,t]},useMutableSource:uu,useSyncExternalStore:cu,useId:_u,unstable_isNewReconciler:!1},fd={readContext:qt,useCallback:Nu,useContext:qt,useEffect:zs,useImperativeHandle:wu,useInsertionEffect:ku,useLayoutEffect:xu,useMemo:Cu,useReducer:Ms,useRef:vu,useState:function(){return Ms(di)},useDebugValue:Rs,useDeferredValue:function(e){var t=bt();return lt===null?t.memoizedState=e:ju(t,lt.memoizedState,e)},useTransition:function(){var e=Ms(di)[0],t=bt().memoizedState;return[e,t]},useMutableSource:uu,useSyncExternalStore:cu,useId:_u,unstable_isNewReconciler:!1};function cn(e,t){if(e&&e.defaultProps){t=M({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Os(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:M({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pt(),l=dr(e),i=Vn(r,l);i.payload=t,n!=null&&(i.callback=n),t=sr(e,i,l),t!==null&&(pn(t,e,l,r),ia(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pt(),l=dr(e),i=Vn(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=sr(e,i,l),t!==null&&(pn(t,e,l,r),ia(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pt(),r=dr(e),l=Vn(n,r);l.tag=2,t!=null&&(l.callback=t),t=sr(e,l,r),t!==null&&(pn(t,e,r,n),ia(t,e,r))}};function Iu(e,t,n,r,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ql(n,r)||!ql(l,i):!0}function Du(e,t,n){var r=!1,l=lr,i=t.contextType;return typeof i=="object"&&i!==null?i=qt(i):(l=Mt(t)?zr:xt.current,r=t.contextTypes,i=(r=r!=null)?kl(e,l):lr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function $s(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ns(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=qt(i):(i=Mt(t)?zr:xt.current,l.context=kl(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Os(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&pa.enqueueReplaceState(l,l.state,null),aa(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function El(e,t){try{var n="",r=t;do n+=de(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Fs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Us(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pd=typeof WeakMap=="function"?WeakMap:Map;function Mu(e,t,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xa||(xa=!0,eo=r),Us(e,t)},n}function zu(e,t,n){n=Vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Us(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Us(e,t),typeof r!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ru(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pd;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Ed.bind(null,e,t,n),t.then(e,e))}function Ou(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $u(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vn(-1,1),t.tag=2,sr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var md=Me.ReactCurrentOwner,zt=!1;function Tt(e,t,n,r){t.child=e===null?ru(t,null,n,r):Nl(t,e.child,n,r)}function Fu(e,t,n,r,l){n=n.render;var i=t.ref;return jl(t,l),r=Is(e,t,n,r,i,l),n=Ds(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wn(e,t,l)):(Fe&&n&&ps(t),t.flags|=1,Tt(e,t,r,l),t.child)}function Uu(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!so(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Au(e,t,i,r,l)):(e=_a(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&l)===0){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ql,n(o,r)&&e.ref===t.ref)return Wn(e,t,l)}return t.flags|=1,e=pr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Au(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(ql(i,r)&&e.ref===t.ref)if(zt=!1,t.pendingProps=r=i,(e.lanes&l)!==0)(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,Wn(e,t,l)}return As(e,t,n,r,l)}function Gu(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Pl,Ht),Ht|=n;else{if((n&1073741824)===0)return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Pl,Ht),Ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ze(Pl,Ht),Ht|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ze(Pl,Ht),Ht|=r;return Tt(e,t,l,n),t.child}function Bu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,l){var i=Mt(n)?zr:xt.current;return i=kl(t,i),jl(t,l),n=Is(e,t,n,r,i,l),r=Ds(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wn(e,t,l)):(Fe&&r&&ps(t),t.flags|=1,Tt(e,t,n,l),t.child)}function Hu(e,t,n,r,l){if(Mt(n)){var i=!0;Zi(t)}else i=!1;if(jl(t,l),t.stateNode===null)ha(e,t),Du(t,n,r),$s(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,d=t.memoizedProps;o.props=d;var p=o.context,y=n.contextType;typeof y=="object"&&y!==null?y=qt(y):(y=Mt(n)?zr:xt.current,y=kl(t,y));var _=n.getDerivedStateFromProps,E=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function";E||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==r||p!==y)&&Lu(t,o,r,y),ar=!1;var C=t.memoizedState;o.state=C,aa(t,r,o,l),p=t.memoizedState,d!==r||C!==p||Lt.current||ar?(typeof _=="function"&&(Os(t,n,_,r),p=t.memoizedState),(d=ar||Iu(t,n,d,r,C,p,y))?(E||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=y,r=d):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,iu(e,t),d=t.memoizedProps,y=t.type===t.elementType?d:cn(t.type,d),o.props=y,E=t.pendingProps,C=o.context,p=n.contextType,typeof p=="object"&&p!==null?p=qt(p):(p=Mt(n)?zr:xt.current,p=kl(t,p));var R=n.getDerivedStateFromProps;(_=typeof R=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==E||C!==p)&&Lu(t,o,r,p),ar=!1,C=t.memoizedState,o.state=C,aa(t,r,o,l);var A=t.memoizedState;d!==E||C!==A||Lt.current||ar?(typeof R=="function"&&(Os(t,n,R,r),A=t.memoizedState),(y=ar||Iu(t,n,y,r,C,A,p)||!1)?(_||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,p),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,p)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),o.props=r,o.state=A,o.context=p,r=y):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),r=!1)}return Gs(e,t,n,r,i,l)}function Gs(e,t,n,r,l,i){Bu(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&Ko(t,n,!1),Wn(e,t,i);r=t.stateNode,md.current=t;var d=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Nl(t,e.child,null,i),t.child=Nl(t,null,d,i)):Tt(e,t,d,i),t.memoizedState=r.state,l&&Ko(t,n,!0),t.child}function Vu(e){var t=e.stateNode;t.pendingContext?Qo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qo(e,t.context,!1),Cs(e,t.containerInfo)}function Wu(e,t,n,r,l){return wl(),vs(l),t.flags|=256,Tt(e,t,n,r),t.child}var Bs={dehydrated:null,treeContext:null,retryLane:0};function Hs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qu(e,t,n){var r=t.pendingProps,l=Be.current,i=!1,o=(t.flags&128)!==0,d;if((d=o)||(d=e!==null&&e.memoizedState===null?!1:(l&2)!==0),d?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ze(Be,l&1),e===null)return gs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ea(o,r,0,null),e=Vr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hs(n),t.memoizedState=Bs,e):Vs(t,o));if(l=e.memoizedState,l!==null&&(d=l.dehydrated,d!==null))return hd(e,t,o,r,d,l,n);if(i){i=r.fallback,o=t.mode,l=e.child,d=l.sibling;var p={mode:"hidden",children:r.children};return(o&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=pr(l,p),r.subtreeFlags=l.subtreeFlags&14680064),d!==null?i=pr(d,i):(i=Vr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Hs(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Bs,r}return i=e.child,e=i.sibling,r=pr(i,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vs(e,t){return t=Ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ma(e,t,n,r){return r!==null&&vs(r),Nl(t,e.child,null,n),e=Vs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hd(e,t,n,r,l,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Fs(Error(k(422))),ma(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=Ea({mode:"visible",children:r.children},l,0,null),i=Vr(i,l,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,(t.mode&1)!==0&&Nl(t,e.child,null,o),t.child.memoizedState=Hs(o),t.memoizedState=Bs,i);if((t.mode&1)===0)return ma(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var d=r.dgst;return r=d,i=Error(k(419)),r=Fs(i,r,void 0),ma(e,t,o,r)}if(d=(o&e.childLanes)!==0,zt||d){if(r=mt,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|o))!==0?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Hn(e,l),pn(r,e,l,-1))}return ao(),r=Fs(Error(k(421))),ma(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Td.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Bt=nr(l.nextSibling),Gt=t,Fe=!0,un=null,e!==null&&(Xt[Zt++]=Gn,Xt[Zt++]=Bn,Xt[Zt++]=Rr,Gn=e.id,Bn=e.overflow,Rr=t),t=Vs(t,r.children),t.flags|=4096,t)}function Ju(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ss(e.return,t,n)}function Ws(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Ku(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(Tt(e,t,r.children,n),r=Be.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ju(e,n,t);else if(e.tag===19)Ju(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(Be,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&sa(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ws(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&sa(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ws(t,!0,n,null,i);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ar|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gd(e,t,n){switch(t.tag){case 3:Vu(t),wl();break;case 5:ou(t);break;case 1:Mt(t.type)&&Zi(t);break;case 4:Cs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ze(ra,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(Be,Be.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Qu(e,t,n):(ze(Be,Be.current&1),e=Wn(e,t,n),e!==null?e.sibling:null);ze(Be,Be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Ku(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ze(Be,Be.current),r)break;return null;case 22:case 23:return t.lanes=0,Gu(e,t,n)}return Wn(e,t,n)}var Yu,Qs,Xu,Zu;Yu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qs=function(){},Xu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Fr(Dn.current);var i=null;switch(n){case"input":l=Wt(e,l),r=Wt(e,r),i=[];break;case"select":l=M({},l,{value:void 0}),r=M({},r,{value:void 0}),i=[];break;case"textarea":l=z(e,l),r=z(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ki)}jt(n,r);var o;n=null;for(y in l)if(!r.hasOwnProperty(y)&&l.hasOwnProperty(y)&&l[y]!=null)if(y==="style"){var d=l[y];for(o in d)d.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(K.hasOwnProperty(y)?i||(i=[]):(i=i||[]).push(y,null));for(y in r){var p=r[y];if(d=l!=null?l[y]:void 0,r.hasOwnProperty(y)&&p!==d&&(p!=null||d!=null))if(y==="style")if(d){for(o in d)!d.hasOwnProperty(o)||p&&p.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in p)p.hasOwnProperty(o)&&d[o]!==p[o]&&(n||(n={}),n[o]=p[o])}else n||(i||(i=[]),i.push(y,n)),n=p;else y==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,d=d?d.__html:void 0,p!=null&&d!==p&&(i=i||[]).push(y,p)):y==="children"?typeof p!="string"&&typeof p!="number"||(i=i||[]).push(y,""+p):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(K.hasOwnProperty(y)?(p!=null&&y==="onScroll"&&Oe("scroll",e),i||d===p||(i=[])):(i=i||[]).push(y,p))}n&&(i=i||[]).push("style",n);var y=i;(t.updateQueue=y)&&(t.flags|=4)}},Zu=function(e,t,n,r){n!==r&&(t.flags|=4)};function pi(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vd(e,t,n){var r=t.pendingProps;switch(ms(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Mt(t.type)&&Xi(),wt(t),null;case 3:return r=t.stateNode,_l(),$e(Lt),$e(xt),Es(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ta(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,un!==null&&(ro(un),un=null))),Qs(e,t),wt(t),null;case 5:js(t);var l=Fr(oi.current);if(n=t.type,e!==null&&t.stateNode!=null)Xu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return wt(t),null}if(e=Fr(Dn.current),ta(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[In]=t,r[ri]=i,e=(t.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(l=0;l<ei.length;l++)Oe(ei[l],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":gn(r,i),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Oe("invalid",r);break;case"textarea":kt(r,i),Oe("invalid",r)}jt(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var d=i[o];o==="children"?typeof d=="string"?r.textContent!==d&&(i.suppressHydrationWarning!==!0&&Ji(r.textContent,d,e),l=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(i.suppressHydrationWarning!==!0&&Ji(r.textContent,d,e),l=["children",""+d]):K.hasOwnProperty(o)&&d!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":mn(r),Ke(r,i,!0);break;case"textarea":mn(r),Ct(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ki)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ct(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[In]=t,e[ri]=r,Yu(e,t,!1,!1),t.stateNode=e;e:{switch(o=vn(n,r),n){case"dialog":Oe("cancel",e),Oe("close",e),l=r;break;case"iframe":case"object":case"embed":Oe("load",e),l=r;break;case"video":case"audio":for(l=0;l<ei.length;l++)Oe(ei[l],e);l=r;break;case"source":Oe("error",e),l=r;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),l=r;break;case"details":Oe("toggle",e),l=r;break;case"input":gn(e,r),l=Wt(e,r),Oe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=M({},r,{value:void 0}),Oe("invalid",e);break;case"textarea":kt(e,r),l=z(e,r),Oe("invalid",e);break;default:l=r}jt(n,l),d=l;for(i in d)if(d.hasOwnProperty(i)){var p=d[i];i==="style"?zl(e,p):i==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Ml(e,p)):i==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Kn(e,p):typeof p=="number"&&Kn(e,""+p):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(K.hasOwnProperty(i)?p!=null&&i==="onScroll"&&Oe("scroll",e):p!=null&&Xe(e,i,p,o))}switch(n){case"input":mn(e),Ke(e,r,!1);break;case"textarea":mn(e),Ct(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fe(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?gt(e,!!r.multiple,i,!1):r.defaultValue!=null&&gt(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ki)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)Zu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=Fr(oi.current),Fr(Dn.current),ta(t)){if(r=t.stateNode,n=t.memoizedProps,r[In]=t,(i=r.nodeValue!==n)&&(e=Gt,e!==null))switch(e.tag){case 3:Ji(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ji(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=t,t.stateNode=r}return wt(t),null;case 13:if($e(Be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Bt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)eu(),wl(),t.flags|=98560,i=!1;else if(i=ta(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(k(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[In]=t}else wl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),i=!1}else un!==null&&(ro(un),un=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Be.current&1)!==0?it===0&&(it=3):ao())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return _l(),Qs(e,t),e===null&&ti(t.stateNode.containerInfo),wt(t),null;case 10:return xs(t.type._context),wt(t),null;case 17:return Mt(t.type)&&Xi(),wt(t),null;case 19:if($e(Be),i=t.memoizedState,i===null)return wt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)pi(i,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=sa(e),o!==null){for(t.flags|=128,pi(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(Be,Be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>Il&&(t.flags|=128,r=!0,pi(i,!1),t.lanes=4194304)}else{if(!r)if(e=sa(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),pi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Fe)return wt(t),null}else 2*Le()-i.renderingStartTime>Il&&n!==1073741824&&(t.flags|=128,r=!0,pi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,n=Be.current,ze(Be,r?n&1|2:n&1),t):(wt(t),null);case 22:case 23:return io(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Ht&1073741824)!==0&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function yd(e,t){switch(ms(t),t.tag){case 1:return Mt(t.type)&&Xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _l(),$e(Lt),$e(xt),Es(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return js(t),null;case 13:if($e(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));wl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(Be),null;case 4:return _l(),null;case 10:return xs(t.type._context),null;case 22:case 23:return io(),null;case 24:return null;default:return null}}var ga=!1,Nt=!1,kd=typeof WeakSet=="function"?WeakSet:Set,O=null;function Tl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(e,t,r)}else n.current=null}function Js(e,t,n){try{n()}catch(r){We(e,t,r)}}var qu=!1;function xd(e,t){if(is=Ir,e=Io(),Za(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,d=-1,p=-1,y=0,_=0,E=e,C=null;t:for(;;){for(var R;E!==n||l!==0&&E.nodeType!==3||(d=o+l),E!==i||r!==0&&E.nodeType!==3||(p=o+r),E.nodeType===3&&(o+=E.nodeValue.length),(R=E.firstChild)!==null;)C=E,E=R;for(;;){if(E===e)break t;if(C===n&&++y===l&&(d=o),C===i&&++_===r&&(p=o),(R=E.nextSibling)!==null)break;E=C,C=E.parentNode}E=R}n=d===-1||p===-1?null:{start:d,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(as={focusedElem:e,selectionRange:n},Ir=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var A=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var B=A.memoizedProps,Ye=A.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?B:cn(t.type,B),Ye);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(T){We(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return A=qu,qu=!1,A}function mi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Js(t,n,i)}l=l.next}while(l!==r)}}function va(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ks(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bu(e){var t=e.alternate;t!==null&&(e.alternate=null,bu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[In],delete t[ri],delete t[cs],delete t[nd],delete t[rd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ec(e){return e.tag===5||e.tag===3||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ec(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ys(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ki));else if(r!==4&&(e=e.child,e!==null))for(Ys(e,t,n),e=e.sibling;e!==null;)Ys(e,t,n),e=e.sibling}function Xs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xs(e,t,n),e=e.sibling;e!==null;)Xs(e,t,n),e=e.sibling}var vt=null,dn=!1;function or(e,t,n){for(n=n.child;n!==null;)nc(e,t,n),n=n.sibling}function nc(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Sr,n)}catch{}switch(n.tag){case 5:Nt||Tl(n,t);case 6:var r=vt,l=dn;vt=null,or(e,t,n),vt=r,dn=l,vt!==null&&(dn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(dn?(e=vt,n=n.stateNode,e.nodeType===8?us(e.parentNode,n):e.nodeType===1&&us(e,n),Zn(e)):us(vt,n.stateNode));break;case 4:r=vt,l=dn,vt=n.stateNode.containerInfo,dn=!0,or(e,t,n),vt=r,dn=l;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&((i&2)!==0||(i&4)!==0)&&Js(n,t,o),l=l.next}while(l!==r)}or(e,t,n);break;case 1:if(!Nt&&(Tl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){We(n,t,d)}or(e,t,n);break;case 21:or(e,t,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,or(e,t,n),Nt=r):or(e,t,n);break;default:or(e,t,n)}}function rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kd),t.forEach(function(r){var l=Pd.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function fn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,o=t,d=o;e:for(;d!==null;){switch(d.tag){case 5:vt=d.stateNode,dn=!1;break e;case 3:vt=d.stateNode.containerInfo,dn=!0;break e;case 4:vt=d.stateNode.containerInfo,dn=!0;break e}d=d.return}if(vt===null)throw Error(k(160));nc(i,o,l),vt=null,dn=!1;var p=l.alternate;p!==null&&(p.return=null),l.return=null}catch(y){We(l,t,y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lc(t,e),t=t.sibling}function lc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fn(t,e),Mn(e),r&4){try{mi(3,e,e.return),va(3,e)}catch(B){We(e,e.return,B)}try{mi(5,e,e.return)}catch(B){We(e,e.return,B)}}break;case 1:fn(t,e),Mn(e),r&512&&n!==null&&Tl(n,n.return);break;case 5:if(fn(t,e),Mn(e),r&512&&n!==null&&Tl(n,n.return),e.flags&32){var l=e.stateNode;try{Kn(l,"")}catch(B){We(e,e.return,B)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,d=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{d==="input"&&i.type==="radio"&&i.name!=null&&Ft(l,i),vn(d,o);var y=vn(d,i);for(o=0;o<p.length;o+=2){var _=p[o],E=p[o+1];_==="style"?zl(l,E):_==="dangerouslySetInnerHTML"?Ml(l,E):_==="children"?Kn(l,E):Xe(l,_,E,y)}switch(d){case"input":Jn(l,i);break;case"textarea":Se(l,i);break;case"select":var C=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var R=i.value;R!=null?gt(l,!!i.multiple,R,!1):C!==!!i.multiple&&(i.defaultValue!=null?gt(l,!!i.multiple,i.defaultValue,!0):gt(l,!!i.multiple,i.multiple?[]:"",!1))}l[ri]=i}catch(B){We(e,e.return,B)}}break;case 6:if(fn(t,e),Mn(e),r&4){if(e.stateNode===null)throw Error(k(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(B){We(e,e.return,B)}}break;case 3:if(fn(t,e),Mn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zn(t.containerInfo)}catch(B){We(e,e.return,B)}break;case 4:fn(t,e),Mn(e);break;case 13:fn(t,e),Mn(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(bs=Le())),r&4&&rc(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(Nt=(y=Nt)||_,fn(t,e),Nt=y):fn(t,e),Mn(e),r&8192){if(y=e.memoizedState!==null,(e.stateNode.isHidden=y)&&!_&&(e.mode&1)!==0)for(O=e,_=e.child;_!==null;){for(E=O=_;O!==null;){switch(C=O,R=C.child,C.tag){case 0:case 11:case 14:case 15:mi(4,C,C.return);break;case 1:Tl(C,C.return);var A=C.stateNode;if(typeof A.componentWillUnmount=="function"){r=C,n=C.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(B){We(r,n,B)}}break;case 5:Tl(C,C.return);break;case 22:if(C.memoizedState!==null){sc(E);continue}}R!==null?(R.return=C,O=R):sc(E)}_=_.sibling}e:for(_=null,E=e;;){if(E.tag===5){if(_===null){_=E;try{l=E.stateNode,y?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(d=E.stateNode,p=E.memoizedProps.style,o=p!=null&&p.hasOwnProperty("display")?p.display:null,d.style.display=hr("display",o))}catch(B){We(e,e.return,B)}}}else if(E.tag===6){if(_===null)try{E.stateNode.nodeValue=y?"":E.memoizedProps}catch(B){We(e,e.return,B)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;_===E&&(_=null),E=E.return}_===E&&(_=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:fn(t,e),Mn(e),r&4&&rc(e);break;case 21:break;default:fn(t,e),Mn(e)}}function Mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ec(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Kn(l,""),r.flags&=-33);var i=tc(e);Xs(e,i,l);break;case 3:case 4:var o=r.stateNode.containerInfo,d=tc(e);Ys(e,d,o);break;default:throw Error(k(161))}}catch(p){We(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sd(e,t,n){O=e,ic(e)}function ic(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var l=O,i=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||ga;if(!o){var d=l.alternate,p=d!==null&&d.memoizedState!==null||Nt;d=ga;var y=Nt;if(ga=o,(Nt=p)&&!y)for(O=l;O!==null;)o=O,p=o.child,o.tag===22&&o.memoizedState!==null?oc(l):p!==null?(p.return=o,O=p):oc(l);for(;i!==null;)O=i,ic(i),i=i.sibling;O=l,ga=d,Nt=y}ac(e)}else(l.subtreeFlags&8772)!==0&&i!==null?(i.return=l,O=i):ac(e)}}function ac(e){for(;O!==null;){var t=O;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Nt||va(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:cn(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&su(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}su(t,o,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var y=t.alternate;if(y!==null){var _=y.memoizedState;if(_!==null){var E=_.dehydrated;E!==null&&Zn(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Nt||t.flags&512&&Ks(t)}catch(C){We(t,t.return,C)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function sc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function oc(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{va(4,t)}catch(p){We(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(p){We(t,l,p)}}var i=t.return;try{Ks(t)}catch(p){We(t,i,p)}break;case 5:var o=t.return;try{Ks(t)}catch(p){We(t,o,p)}}}catch(p){We(t,t.return,p)}if(t===e){O=null;break}var d=t.sibling;if(d!==null){d.return=t.return,O=d;break}O=t.return}}var wd=Math.ceil,ya=Me.ReactCurrentDispatcher,Zs=Me.ReactCurrentOwner,en=Me.ReactCurrentBatchConfig,ke=0,mt=null,be=null,yt=0,Ht=0,Pl=rr(0),it=0,hi=null,Ar=0,ka=0,qs=0,gi=null,Rt=null,bs=0,Il=1/0,Qn=null,xa=!1,eo=null,ur=null,Sa=!1,cr=null,wa=0,vi=0,to=null,Na=-1,Ca=0;function Pt(){return(ke&6)!==0?Le():Na!==-1?Na:Na=Le()}function dr(e){return(e.mode&1)===0?1:(ke&2)!==0&&yt!==0?yt&-yt:id.transition!==null?(Ca===0&&(Ca=Ei()),Ca):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Oi(e.type)),e)}function pn(e,t,n,r){if(50<vi)throw vi=0,to=null,Error(k(185));jr(e,n,r),((ke&2)===0||e!==mt)&&(e===mt&&((ke&2)===0&&(ka|=n),it===4&&fr(e,yt)),Ot(e,r),n===1&&ke===0&&(t.mode&1)===0&&(Il=Le()+500,qi&&ir()))}function Ot(e,t){var n=e.callbackNode;$a(e,t);var r=Cr(e,e===mt?yt:0);if(r===0)n!==null&&F(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&F(n),t===1)e.tag===0?ld(cc.bind(null,e)):Yo(cc.bind(null,e)),ed(function(){(ke&6)===0&&ir()}),n=null;else{switch(Ti(r)){case 1:n=$n;break;case 4:n=kr;break;case 16:n=xr;break;case 536870912:n=Xn;break;default:n=xr}n=yc(n,uc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uc(e,t){if(Na=-1,Ca=0,(ke&6)!==0)throw Error(k(327));var n=e.callbackNode;if(Dl()&&e.callbackNode!==n)return null;var r=Cr(e,e===mt?yt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=ja(e,r);else{t=r;var l=ke;ke|=2;var i=fc();(mt!==e||yt!==t)&&(Qn=null,Il=Le()+500,Br(e,t));do try{jd();break}catch(d){dc(e,d)}while(!0);ks(),ya.current=i,ke=l,be!==null?t=0:(mt=null,yt=0,t=it)}if(t!==0){if(t===2&&(l=Gl(e),l!==0&&(r=l,t=no(e,l))),t===1)throw n=hi,Br(e,0),fr(e,r),Ot(e,Le()),n;if(t===6)fr(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Nd(l)&&(t=ja(e,r),t===2&&(i=Gl(e),i!==0&&(r=i,t=no(e,i))),t===1))throw n=hi,Br(e,0),fr(e,r),Ot(e,Le()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:Hr(e,Rt,Qn);break;case 3:if(fr(e,r),(r&130023424)===r&&(t=bs+500-Le(),10<t)){if(Cr(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Pt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=os(Hr.bind(null,e,Rt,Qn),t);break}Hr(e,Rt,Qn);break;case 4:if(fr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-Dt(r);i=1<<o,o=t[o],o>l&&(l=o),r&=~i}if(r=l,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wd(r/1960))-r,10<r){e.timeoutHandle=os(Hr.bind(null,e,Rt,Qn),r);break}Hr(e,Rt,Qn);break;case 5:Hr(e,Rt,Qn);break;default:throw Error(k(329))}}}return Ot(e,Le()),e.callbackNode===n?uc.bind(null,e):null}function no(e,t){var n=gi;return e.current.memoizedState.isDehydrated&&(Br(e,t).flags|=256),e=ja(e,t),e!==2&&(t=Rt,Rt=n,t!==null&&ro(t)),e}function ro(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function Nd(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!on(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t){for(t&=~qs,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if((ke&6)!==0)throw Error(k(327));Dl();var t=Cr(e,0);if((t&1)===0)return Ot(e,Le()),null;var n=ja(e,t);if(e.tag!==0&&n===2){var r=Gl(e);r!==0&&(t=r,n=no(e,r))}if(n===1)throw n=hi,Br(e,0),fr(e,t),Ot(e,Le()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hr(e,Rt,Qn),Ot(e,Le()),null}function lo(e,t){var n=ke;ke|=1;try{return e(t)}finally{ke=n,ke===0&&(Il=Le()+500,qi&&ir())}}function Gr(e){cr!==null&&cr.tag===0&&(ke&6)===0&&Dl();var t=ke;ke|=1;var n=en.transition,r=Ce;try{if(en.transition=null,Ce=1,e)return e()}finally{Ce=r,en.transition=n,ke=t,(ke&6)===0&&ir()}}function io(){Ht=Pl.current,$e(Pl)}function Br(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bc(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(ms(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xi();break;case 3:_l(),$e(Lt),$e(xt),Es();break;case 5:js(r);break;case 4:_l();break;case 13:$e(Be);break;case 19:$e(Be);break;case 10:xs(r.type._context);break;case 22:case 23:io()}n=n.return}if(mt=e,be=e=pr(e.current,null),yt=Ht=t,it=0,hi=null,qs=ka=Ar=0,Rt=gi=null,$r!==null){for(t=0;t<$r.length;t++)if(n=$r[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,r.next=o}n.pending=r}$r=null}return e}function dc(e,t){do{var n=be;try{if(ks(),oa.current=fa,ua){for(var r=He.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}ua=!1}if(Ur=0,pt=lt=He=null,ui=!1,ci=0,Zs.current=null,n===null||n.return===null){it=1,hi=t,be=null;break}e:{var i=e,o=n.return,d=n,p=t;if(t=yt,d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var y=p,_=d,E=_.tag;if((_.mode&1)===0&&(E===0||E===11||E===15)){var C=_.alternate;C?(_.updateQueue=C.updateQueue,_.memoizedState=C.memoizedState,_.lanes=C.lanes):(_.updateQueue=null,_.memoizedState=null)}var R=Ou(o);if(R!==null){R.flags&=-257,$u(R,o,d,i,t),R.mode&1&&Ru(i,y,t),t=R,p=y;var A=t.updateQueue;if(A===null){var B=new Set;B.add(p),t.updateQueue=B}else A.add(p);break e}else{if((t&1)===0){Ru(i,y,t),ao();break e}p=Error(k(426))}}else if(Fe&&d.mode&1){var Ye=Ou(o);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),$u(Ye,o,d,i,t),vs(El(p,d));break e}}i=p=El(p,d),it!==4&&(it=2),gi===null?gi=[i]:gi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Mu(i,p,t);au(i,g);break e;case 1:d=p;var m=i.type,v=i.stateNode;if((i.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ur===null||!ur.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var T=zu(i,d,t);au(i,T);break e}}i=i.return}while(i!==null)}mc(n)}catch(V){t=V,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function fc(){var e=ya.current;return ya.current=fa,e===null?fa:e}function ao(){(it===0||it===3||it===2)&&(it=4),mt===null||(Ar&268435455)===0&&(ka&268435455)===0||fr(mt,yt)}function ja(e,t){var n=ke;ke|=2;var r=fc();(mt!==e||yt!==t)&&(Qn=null,Br(e,t));do try{Cd();break}catch(l){dc(e,l)}while(!0);if(ks(),ke=n,ya.current=r,be!==null)throw Error(k(261));return mt=null,yt=0,it}function Cd(){for(;be!==null;)pc(be)}function jd(){for(;be!==null&&!Ul();)pc(be)}function pc(e){var t=vc(e.alternate,e,Ht);e.memoizedProps=e.pendingProps,t===null?mc(e):be=t,Zs.current=null}function mc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=vd(n,t,Ht),n!==null){be=n;return}}else{if(n=yd(n,t),n!==null){n.flags&=32767,be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,be=null;return}}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);it===0&&(it=5)}function Hr(e,t,n){var r=Ce,l=en.transition;try{en.transition=null,Ce=1,_d(e,t,n,r)}finally{en.transition=l,Ce=r}return null}function _d(e,t,n,r){do Dl();while(cr!==null);if((ke&6)!==0)throw Error(k(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Fa(e,i),e===mt&&(be=mt=null,yt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Sa||(Sa=!0,yc(xr,function(){return Dl(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=en.transition,en.transition=null;var o=Ce;Ce=1;var d=ke;ke|=4,Zs.current=null,xd(e,n),lc(n,e),Qc(as),Ir=!!is,as=is=null,e.current=n,Sd(n),Ci(),ke=d,Ce=o,en.transition=i}else e.current=n;if(Sa&&(Sa=!1,cr=e,wa=l),i=e.pendingLanes,i===0&&(ur=null),Al(n.stateNode),Ot(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(xa)throw xa=!1,e=eo,eo=null,e;return(wa&1)!==0&&e.tag!==0&&Dl(),i=e.pendingLanes,(i&1)!==0?e===to?vi++:(vi=0,to=e):vi=0,ir(),null}function Dl(){if(cr!==null){var e=Ti(wa),t=en.transition,n=Ce;try{if(en.transition=null,Ce=16>e?16:e,cr===null)var r=!1;else{if(e=cr,cr=null,wa=0,(ke&6)!==0)throw Error(k(331));var l=ke;for(ke|=4,O=e.current;O!==null;){var i=O,o=i.child;if((O.flags&16)!==0){var d=i.deletions;if(d!==null){for(var p=0;p<d.length;p++){var y=d[p];for(O=y;O!==null;){var _=O;switch(_.tag){case 0:case 11:case 15:mi(8,_,i)}var E=_.child;if(E!==null)E.return=_,O=E;else for(;O!==null;){_=O;var C=_.sibling,R=_.return;if(bu(_),_===y){O=null;break}if(C!==null){C.return=R,O=C;break}O=R}}}var A=i.alternate;if(A!==null){var B=A.child;if(B!==null){A.child=null;do{var Ye=B.sibling;B.sibling=null,B=Ye}while(B!==null)}}O=i}}if((i.subtreeFlags&2064)!==0&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:mi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var m=e.current;for(O=m;O!==null;){o=O;var v=o.child;if((o.subtreeFlags&2064)!==0&&v!==null)v.return=o,O=v;else e:for(o=m;O!==null;){if(d=O,(d.flags&2048)!==0)try{switch(d.tag){case 0:case 11:case 15:va(9,d)}}catch(V){We(d,d.return,V)}if(d===o){O=null;break e}var T=d.sibling;if(T!==null){T.return=d.return,O=T;break e}O=d.return}}if(ke=l,ir(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Sr,e)}catch{}r=!0}return r}finally{Ce=n,en.transition=t}}return!1}function hc(e,t,n){t=El(n,t),t=Mu(e,t,1),e=sr(e,t,1),t=Pt(),e!==null&&(jr(e,1,t),Ot(e,t))}function We(e,t,n){if(e.tag===3)hc(e,e,n);else for(;t!==null;){if(t.tag===3){hc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ur===null||!ur.has(r))){e=El(n,e),e=zu(t,e,1),t=sr(t,e,1),e=Pt(),t!==null&&(jr(t,1,e),Ot(t,e));break}}t=t.return}}function Ed(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&n,mt===e&&(yt&n)===n&&(it===4||it===3&&(yt&130023424)===yt&&500>Le()-bs?Br(e,0):qs|=n),Ot(e,t)}function gc(e,t){t===0&&((e.mode&1)===0?t=1:(t=wr,wr<<=1,(wr&130023424)===0&&(wr=4194304)));var n=Pt();e=Hn(e,t),e!==null&&(jr(e,t,n),Ot(e,n))}function Td(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gc(e,n)}function Pd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),gc(e,n)}var vc;vc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)zt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return zt=!1,gd(e,t,n);zt=(e.flags&131072)!==0}else zt=!1,Fe&&(t.flags&1048576)!==0&&Xo(t,ea,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ha(e,t),e=t.pendingProps;var l=kl(t,xt.current);jl(t,n),l=Is(null,t,r,e,l,n);var i=Ds();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(r)?(i=!0,Zi(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ns(t),l.updater=pa,t.stateNode=l,l._reactInternals=t,$s(t,r,e,n),t=Gs(null,t,r,!0,i,n)):(t.tag=0,Fe&&i&&ps(t),Tt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ha(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Dd(r),e=cn(r,e),l){case 0:t=As(null,t,r,e,n);break e;case 1:t=Hu(null,t,r,e,n);break e;case 11:t=Fu(null,t,r,e,n);break e;case 14:t=Uu(null,t,r,cn(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:cn(r,l),As(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:cn(r,l),Hu(e,t,r,l,n);case 3:e:{if(Vu(t),e===null)throw Error(k(387));r=t.pendingProps,i=t.memoizedState,l=i.element,iu(e,t),aa(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=El(Error(k(423)),t),t=Wu(e,t,r,n,l);break e}else if(r!==l){l=El(Error(k(424)),t),t=Wu(e,t,r,n,l);break e}else for(Bt=nr(t.stateNode.containerInfo.firstChild),Gt=t,Fe=!0,un=null,n=ru(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wl(),r===l){t=Wn(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return ou(t),e===null&&gs(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,ss(r,l)?o=null:i!==null&&ss(r,i)&&(t.flags|=32),Bu(e,t),Tt(e,t,o,n),t.child;case 6:return e===null&&gs(t),null;case 13:return Qu(e,t,n);case 4:return Cs(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Nl(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:cn(r,l),Fu(e,t,r,l,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,ze(ra,r._currentValue),r._currentValue=o,i!==null)if(on(i.value,o)){if(i.children===l.children&&!Lt.current){t=Wn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var d=i.dependencies;if(d!==null){o=i.child;for(var p=d.firstContext;p!==null;){if(p.context===r){if(i.tag===1){p=Vn(-1,n&-n),p.tag=2;var y=i.updateQueue;if(y!==null){y=y.shared;var _=y.pending;_===null?p.next=p:(p.next=_.next,_.next=p),y.pending=p}}i.lanes|=n,p=i.alternate,p!==null&&(p.lanes|=n),Ss(i.return,n,t),d.lanes|=n;break}p=p.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Ss(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,jl(t,n),l=qt(l),r=r(l),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,l=cn(r,t.pendingProps),l=cn(r.type,l),Uu(e,t,r,l,n);case 15:return Au(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:cn(r,l),ha(e,t),t.tag=1,Mt(r)?(e=!0,Zi(t)):e=!1,jl(t,n),Du(t,r,l),$s(t,r,l,n),Gs(null,t,r,!0,e,n);case 19:return Ku(e,t,n);case 22:return Gu(e,t,n)}throw Error(k(156,t.tag))};function yc(e,t){return Ni(e,t)}function Id(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,n,r){return new Id(e,t,n,r)}function so(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dd(e){if(typeof e=="function")return so(e)?1:0;if(e!=null){if(e=e.$$typeof,e===b)return 11;if(e===ve)return 14}return 2}function pr(e,t){var n=e.alternate;return n===null?(n=tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _a(e,t,n,r,l,i){var o=2;if(r=e,typeof e=="function")so(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Q:return Vr(n.children,l,i,t);case Ze:o=8,l|=8;break;case It:return e=tn(12,n,t,l|2),e.elementType=It,e.lanes=i,e;case ot:return e=tn(13,n,t,l),e.elementType=ot,e.lanes=i,e;case ut:return e=tn(19,n,t,l),e.elementType=ut,e.lanes=i,e;case De:return Ea(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case he:o=10;break e;case je:o=9;break e;case b:o=11;break e;case ve:o=14;break e;case ye:o=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=tn(o,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function Vr(e,t,n,r){return e=tn(7,e,r,t),e.lanes=n,e}function Ea(e,t,n,r){return e=tn(22,e,r,t),e.elementType=De,e.lanes=n,e.stateNode={isHidden:!1},e}function oo(e,t,n){return e=tn(6,e,null,t),e.lanes=n,e}function uo(e,t,n){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ld(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sn(0),this.expirationTimes=Sn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sn(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function co(e,t,n,r,l,i,o,d,p){return e=new Ld(e,t,n,d,p),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(i),e}function Md(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kc(e){if(!e)return lr;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(Mt(n))return Jo(e,n,t)}return t}function xc(e,t,n,r,l,i,o,d,p){return e=co(n,r,!0,e,l,i,o,d,p),e.context=kc(null),n=e.current,r=Pt(),l=dr(n),i=Vn(r,l),i.callback=t??null,sr(n,i,l),e.current.lanes=l,jr(e,l,r),Ot(e,r),e}function Ta(e,t,n,r){var l=t.current,i=Pt(),o=dr(l);return n=kc(n),t.context===null?t.context=n:t.pendingContext=n,t=Vn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sr(l,t,o),e!==null&&(pn(e,l,o,i),ia(e,l,o)),o}function Pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fo(e,t){Sc(e,t),(e=e.alternate)&&Sc(e,t)}function zd(){return null}var wc=typeof reportError=="function"?reportError:function(e){console.error(e)};function po(e){this._internalRoot=e}Ia.prototype.render=po.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));Ta(e,t,null,null)},Ia.prototype.unmount=po.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gr(function(){Ta(null,e,null,null)}),t[Un]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ii();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_n.length&&t!==0&&t<_n[n].priority;n++);_n.splice(n,0,e),n===0&&Mi(e)}};function mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nc(){}function Rd(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var y=Pa(o);i.call(y)}}var o=xc(t,r,e,0,null,!1,!1,"",Nc);return e._reactRootContainer=o,e[Un]=o.current,ti(e.nodeType===8?e.parentNode:e),Gr(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var d=r;r=function(){var y=Pa(p);d.call(y)}}var p=co(e,0,!1,null,null,!1,!1,"",Nc);return e._reactRootContainer=p,e[Un]=p.current,ti(e.nodeType===8?e.parentNode:e),Gr(function(){Ta(t,p,n,r)}),p}function La(e,t,n,r,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var d=l;l=function(){var p=Pa(o);d.call(p)}}Ta(t,o,e,l)}else o=Rd(n,t,e,l,r);return Pa(o)}wn=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nr(t.pendingLanes);n!==0&&(Bl(t,n|1),Ot(t,Le()),(ke&6)===0&&(Il=Le()+500,ir()))}break;case 13:Gr(function(){var r=Hn(e,1);if(r!==null){var l=Pt();pn(r,e,1,l)}}),fo(e,1)}},Hl=function(e){if(e.tag===13){var t=Hn(e,134217728);if(t!==null){var n=Pt();pn(t,e,134217728,n)}fo(e,134217728)}},Pi=function(e){if(e.tag===13){var t=dr(e),n=Hn(e,t);if(n!==null){var r=Pt();pn(n,e,t,r)}fo(e,t)}},Ii=function(){return Ce},Di=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}},ln=function(e,t,n){switch(t){case"input":if(Jn(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Yi(r);if(!l)throw Error(k(90));hn(r),Jn(r,l)}}}break;case"textarea":Se(e,n);break;case"select":t=n.value,t!=null&&gt(e,!!n.multiple,t,!1)}},qe=lo,Rl=Gr;var Od={usingClientEntryPoint:!1,Events:[li,vl,Yi,$,rt,lo]},yi={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$d={bundleType:yi.bundleType,version:yi.version,rendererPackageName:yi.rendererPackageName,rendererConfig:yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Me.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fl(e),e===null?null:e.stateNode},findFiberByHostInstance:yi.findFiberByHostInstance||zd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{Sr=Ma.inject($d),ft=Ma}catch{}}return $t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Od,$t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mo(t))throw Error(k(200));return Md(e,t,null,n)},$t.createRoot=function(e,t){if(!mo(e))throw Error(k(299));var n=!1,r="",l=wc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=co(e,1,!1,null,null,n,!1,r,l),e[Un]=t.current,ti(e.nodeType===8?e.parentNode:e),new po(t)},$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=Fl(t),e=e===null?null:e.stateNode,e},$t.flushSync=function(e){return Gr(e)},$t.hydrate=function(e,t,n){if(!Da(t))throw Error(k(200));return La(null,e,t,!0,n)},$t.hydrateRoot=function(e,t,n){if(!mo(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",o=wc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=xc(t,null,e,1,n??null,l,!1,i,o),e[Un]=t.current,ti(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ia(t)},$t.render=function(e,t,n){if(!Da(t))throw Error(k(200));return La(null,e,t,!1,n)},$t.unmountComponentAtNode=function(e){if(!Da(e))throw Error(k(40));return e._reactRootContainer?(Gr(function(){La(null,null,e,!1,function(){e._reactRootContainer=null,e[Un]=null})}),!0):!1},$t.unstable_batchedUpdates=lo,$t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Da(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return La(e,t,n,!1,r)},$t.version="18.3.1-next-f1338f8080-20240426",$t}var Dc;function Qd(){if(Dc)return vo.exports;Dc=1;function D(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D)}catch(H){console.error(H)}}return D(),vo.exports=Wd(),vo.exports}var Lc;function Jd(){if(Lc)return za;Lc=1;var D=Qd();return za.createRoot=D.createRoot,za.hydrateRoot=D.hydrateRoot,za}var Kd=Jd();const Yd=Oc(Kd),Mc=["P2Pチャットルーム1"],Ll=20,et=7,zc=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}],Xd="https://p2p-sample.metered.live/api/v1/turn/credentials?apiKey=d51424dc9b80232dbc239f680b412cdbfe33",ie=()=>Date.now().toString(36)+Math.random().toString(36).substring(2,9),Zd=()=>Math.random().toString(36).substring(2,10);function xi(D){const H=[...D];for(let k=H.length-1;k>0;k--){const ne=Math.floor(Math.random()*(k+1));[H[k],H[ne]]=[H[ne],H[k]]}return H}function Ra(D){const H=new Map;return D.forEach((ne,K)=>{if(H.has(ne.id)){const le=H.get(ne.id);le.count++,le.indices.push(K)}else H.set(ne.id,{cardDef:ne,count:1,indices:[K]})}),Array.from(H.values()).sort((ne,K)=>Math.min(...ne.indices)-Math.min(...K.indices)).map(ne=>({card:ne.cardDef,count:ne.count,originalIndices:ne.indices.sort((K,le)=>K-le)}))}const Vt=({card:D,tokenInstance:H,isTokenDisplay:k,context:ne,count:K,originalIndex:le,isMyCard:me,isSelected:N,onAddToDeck:ue,onRemoveFromDeck:Qe,cardsInDeckCount:Ie,onDragStartItem:_e,onDragEndItem:Z,isDraggable:Ee,isDragging:at,isDisabled:ge,onClick:ae,isSelectable:Je,onMoveFromGraveyardToHand:st,onMoveFromGraveyardToField:Xe,isGameActive:Me})=>{var ut;const ce=k?H==null?void 0:H.definition:D;if(!ce)return null;const Re=k?ce.isCreature||ce.power!==void 0&&ce.power>0||ce.toughness!==void 0&&ce.toughness>0:ce.attack>0||ce.defense>0,Q=ve=>{_e&&typeof le=="number"&&Ee&&!ge&&(_e(ve,k?H:D,k?"token":"card",ne==="hand"?"hand":"field",le),ve.dataTransfer&&(ve.dataTransfer.effectAllowed="move"))},Ze=ve=>{Z&&Ee&&!ge&&Z(ve)},It=()=>{ae&&!ge&&Je&&(ne==="token-selector"&&k?ae(ce.id):typeof le=="number"&&ae(le))},he=ve=>{ve.stopPropagation(),st&&typeof le=="number"&&me&&Me&&D&&st(D,le)},je=ve=>{ve.stopPropagation(),Xe&&typeof le=="number"&&me&&Me&&D&&Xe(D,le)},b=ve=>!ve||ve.length===0?null:a.jsx("div",{className:"mtg-card-token-colors",children:ve.map(ye=>a.jsx("span",{className:`color-indicator color-${ye.toLowerCase()}`,title:ye},ye))}),ot=()=>{if(!k||!(H!=null&&H.definition.colors)||H.definition.colors.length===0)return;const ve=H.definition.colors;return ve.length===1?{w:"#f0f0c0",u:"#c0d8f0",b:"#c0c0c0",r:"#f0c0c0",g:"#c0f0c0",c:"#d0d0d0",gold:"#f0e0a0"}[ve[0].toLowerCase()]:"#e0d0b0"};return a.jsxs("div",{className:`mtg-card context-${ne} ${k?"token-display":""} ${N?"selected":""} ${at?"dragging":""} ${ge?"disabled-card":""} ${Je?"selectable-card-overlay":""}`,"aria-label":`${ce.name} ${k?"token":"card"} ${Je?"(選択可能)":""} ${ge?"(操作不可)":""}`,draggable:Ee&&me&&(ne==="hand"||ne==="field")&&!ge,onDragStart:Q,onDragEnd:Ze,onClick:It,role:Je?"button":void 0,tabIndex:Je?0:void 0,onKeyPress:Je?ve=>(ve.key==="Enter"||ve.key===" ")&&It():void 0,children:[a.jsxs("div",{className:"mtg-card-header",style:k?{backgroundColor:ot()}:{},children:[a.jsx("span",{className:"mtg-card-name",title:ce.name,children:ce.name}),!k&&a.jsx("span",{className:"mtg-card-cost",children:ce.cost}),k&&b(ce.colors)]}),a.jsx("div",{className:"mtg-card-image-area",children:ce.imageUrl?a.jsx("img",{src:ce.imageUrl,alt:ce.name}):a.jsx("div",{className:"mtg-card-no-image",children:a.jsx("span",{children:k?"Token":"No Image"})})}),(ne==="field"||ne==="editor-list"||ne==="token-editor-list"||ne==="graveyard-viewer"||ne==="hand"||ne==="token-selector")&&a.jsx("div",{className:"mtg-card-type-line",children:k?((ut=ce.types)==null?void 0:ut.join(" / "))||(Re?"Token Creature":"Token"):Re?"Creature":"Spell"}),a.jsx("div",{className:"mtg-card-text-box scrollable-text",children:a.jsx("p",{children:ce.text||" "})}),Re&&a.jsx("div",{className:"mtg-card-pt",children:k?`${ce.power||0}/${ce.toughness||0}`:`${ce.attack}/${ce.defense}`}),K&&K>1&&ne==="field"&&!k&&a.jsxs("span",{className:"mtg-card-count-badge",children:["x",K]}),ne==="deck-selector"&&ue&&Qe&&D&&a.jsxs("div",{className:"mtg-card-actions deck-selector-actions",children:[a.jsxs("span",{children:["In deck: ",Ie]}),a.jsx("button",{onClick:()=>ue(D.id),"aria-label":`Add ${D.name}`,children:"Add"}),a.jsx("button",{onClick:()=>Qe(D.id),disabled:Ie===0,"aria-label":`Remove ${D.name}`,children:"Remove"})]}),ne==="graveyard-viewer"&&me&&Me&&!k&&D&&a.jsxs("div",{className:"mtg-card-actions graveyard-actions",children:[st&&a.jsx("button",{onClick:he,className:"card-action-button gy-to-hand",children:"To Hand"}),Xe&&a.jsx("button",{onClick:je,className:"card-action-button gy-to-field",children:"To Field"})]})]})};function qd(){const[D,H]=j.useState("main"),[k,ne]=j.useState(""),[K,le]=j.useState(null),[me,N]=j.useState(null),[ue,Qe]=j.useState(!1),[Ie,_e]=j.useState(!1),Z=j.useRef(null),Ee=j.useRef(null),[at,ge]=j.useState(""),[ae,Je]=j.useState(""),[st,Xe]=j.useState([]),[Me,ce]=j.useState(""),[Re,Q]=j.useState([]),[Ze,It]=j.useState(""),[he,je]=j.useState("disconnected"),[b,ot]=j.useState(""),[ut,ve]=j.useState(null),[ye,De]=j.useState(!1),I=j.useRef(null),J=j.useRef(null),M=j.useRef(null),h=j.useRef(null),[S,re]=j.useState(()=>{try{const u=localStorage.getItem("cardGame_allCards");return u?JSON.parse(u):[]}catch(u){return console.error("Error loading cards from localStorage",u),[]}}),[G,de]=j.useState(()=>{try{const u=localStorage.getItem("cardGame_allDecks");return u?JSON.parse(u):[]}catch(u){return console.error("Error loading decks from localStorage",u),[]}}),[q,xe]=j.useState(()=>{try{const u=localStorage.getItem("cardGame_allTokenDefinitions");return u?JSON.parse(u):[]}catch(u){return console.error("Error loading token definitions from localStorage",u),[]}}),[fe,Te]=j.useState(null),[Ue,mn]=j.useState({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""}),[hn,zn]=j.useState(null),[Wt,gn]=j.useState({name:"",selectedCardIds:[]}),[Ft,Jn]=j.useState(null),[Ke,nn]=j.useState({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""}),[L,gt]=j.useState("chat_only"),[z,kt]=j.useState(null),[Se,Ct]=j.useState(null),[ct,Wr]=j.useState(null),[tt,Ml]=j.useState(null),[Kn,rn]=j.useState(!1),[nt,hr]=j.useState(0),[zl,Qr]=j.useState(0),[jt,vn]=j.useState("deciding"),[gr,Rn]=j.useState("deciding"),[ln,Ut]=j.useState([]),[W,Jr]=j.useState("deck_selection"),[$,rt]=j.useState(null),[qe,Rl]=j.useState(null),[Qt,Ol]=j.useState(null),[Yn,we]=j.useState(null),[Ve,$l]=j.useState(0),[_t,yn]=j.useState("deciding"),[Jt,On]=j.useState([]),[vr,Si]=j.useState(!1),[an,kn]=j.useState(null),[Kr,yr]=j.useState([]),[Oa,Fl]=j.useState(!1),[wi,Ni]=j.useState(!1),[F,Ul]=j.useState(null),[Ci,Le]=j.useState(!1),[ji,$n]=j.useState(!1);j.useEffect(()=>{try{localStorage.setItem("cardGame_allCards",JSON.stringify(S))}catch(u){console.error("Failed to save cards:",u),N("カードの保存に失敗しました。")}},[S]),j.useEffect(()=>{try{localStorage.setItem("cardGame_allDecks",JSON.stringify(G))}catch(u){console.error("Failed to save decks:",u),N("デッキの保存に失敗しました。")}},[G]),j.useEffect(()=>{try{localStorage.setItem("cardGame_allTokenDefinitions",JSON.stringify(q))}catch(u){console.error("Failed to save token definitions:",u),N("トークン定義の保存に失敗しました。")}},[q]),j.useEffect(()=>{if(K&&Re)try{localStorage.setItem(`chatHistory_${K}`,JSON.stringify(Re))}catch(u){console.error("Failed to save chat history to localStorage:",u),N("チャット履歴の保存に失敗しました。")}},[Re,K]),j.useEffect(()=>{I.current&&(I.current.scrollTop=I.current.scrollHeight)},[Re]);const kr=j.useCallback(u=>S.find(c=>c.id===u),[S]),xr=j.useCallback(u=>q.find(c=>c.id===u),[q]),dt=j.useCallback(u=>{if(Ee.current&&Ee.current.readyState==="open")try{Ee.current.send(JSON.stringify(u))}catch(c){console.error("Failed to send data channel message:",c),N("データチャネルでのメッセージ送信に失敗しました。")}else console.warn("Data channel not open, cannot send game message:",u),N("P2P接続が確立していないか、データチャネルが開いていません。")},[]),Xn=j.useCallback(()=>{Si(!1),kn(null),yr([])},[]),Sr=u=>{Ni(u),Fl(!0)},ft=()=>Fl(!1);j.useEffect(()=>{L==="MULLIGAN"&&jt==="kept"&&gr==="kept"&&(gt("game_active"),Q(u=>[...u,{id:ie(),sender:"system",text:`両プレイヤーが手札をキープしました。ゲーム開始！${ye?"あなたのターンです。":"相手のターンです。"}`,timestamp:Date.now()}]))},[jt,gr,L,ye]);const Al=j.useCallback(u=>{switch(u.peerId&&u.peerId!==b&&ve(u.peerId),u.type){case"deck_selected":if(u.peerId!==b){const c=tt==null?void 0:tt.name;Ml({name:u.deckName,size:u.deckSize,peerId:u.peerId});let s=`相手 (${u.peerId.substring(0,6)}) がデッキ「${u.deckName}」(${u.deckSize}枚)`;c&&c!==u.deckName?s+=" に変更しました。":c&&c===u.deckName?s+=" を再度選択しました。":s+=" を選択しました。",ct?(s+=" あなたも選択済みです。",rn(!0)):s+=" あなたの選択を待っています。",Q(f=>[...f,{id:ie(),sender:"system",text:s,timestamp:Date.now()}])}break;case"game_start_request":if(u.peerId!==b&&ct&&tt){const c=G.find(s=>s.id===ct);if(c){const s=c.cardIds.map(ee=>kr(ee)).filter(Boolean),f=xi(s),x=f.slice(0,et),w=f.slice(et),P=[{id:ie(),title:"Note 1",text:"",isShared:!1}],U=[{id:ie(),title:"Note 1",text:"",isShared:!1}];kt({life:u.initialOpponentLife,deck:w,hand:x,field:[],fieldTokens:[],graveyard:[],myNotes:P}),Ct({life:Ll,deckCount:tt.size-et,handCount:et,field:[],fieldTokens:[],graveyard:[],opponentNotes:U}),gt("MULLIGAN"),hr(0),Qr(0),vn("deciding"),Rn("deciding"),Ut([]),Q(ee=>[...ee,{id:ie(),sender:"system",text:`ゲームセットアップ完了。マリガンフェイズです。両プレイヤーは手札${et}枚で開始。`,timestamp:Date.now()}])}else console.error("game_start_request: My selected deck not found. mySelectedDeckId:",ct),N("ゲーム開始エラー：自分の選択したデッキが見つかりません。")}break;case"player_decision_mulligan":if(u.peerId!==b){Qr(u.mulligansTakenThisGame),Ct(s=>s?{...s,handCount:u.resultingHandSize}:null);let c="";u.actionTaken==="kept_hand"?(Rn("kept"),c=`手札をキープしました (最終手札 ${u.resultingHandSize}枚、マリガン ${u.mulligansTakenThisGame}回)。`):(Rn("deciding"),c=`マリガンを行い、手札を ${u.resultingHandSize}枚にしました (マリガン ${u.mulligansTakenThisGame}回目)。`),Q(s=>[...s,{id:ie(),sender:"system",text:`相手(${u.peerId.substring(0,6)})が${c}`,timestamp:Date.now()}])}break;case"draw_card":u.peerId!==b&&Se&&(Ct(c=>c?{...c,deckCount:c.deckCount-1,handCount:c.handCount+1}:null),Q(c=>[...c,{id:ie(),sender:"system",text:`相手(${u.peerId.substring(0,6)})がカードを1枚ドローしました。`,timestamp:Date.now()}]));break;case"play_card":u.peerId!==b&&Se&&u.card&&(Ct(c=>c?{...c,handCount:c.handCount-1,field:[...c.field,u.card]}:null),Q(c=>[...c,{id:ie(),sender:"system",text:`相手(${u.peerId.substring(0,6)})がカード「${u.card.name}」をプレイしました。`,timestamp:Date.now()}]));break;case"move_to_graveyard":if(u.peerId!==b&&Se&&u.card){const{card:c,fromZone:s}=u;let f=`相手(${u.peerId.substring(0,6)})がカード「${c.name}」を`;Ct(x=>{if(!x)return null;let w=x.handCount,P=[...x.field];const U=x.graveyard?[...x.graveyard,c]:[c];if(s==="hand")w--,f+="手札から墓地へ送りました。";else if(s==="field"){const ee=P.findIndex(se=>se.id===c.id);ee>-1?(P.splice(ee,1),f+="フィールドから墓地へ送りました。"):(console.warn(`Opponent move_to_graveyard from field: card ${c.name} (ID: ${c.id}) not found.`),f+="フィールドから墓地へ送ろうとしましたが、見つかりませんでした。")}return{...x,handCount:w,field:P,graveyard:U}}),Q(x=>[...x,{id:ie(),sender:"system",text:f,timestamp:Date.now()}])}break;case"update_life":u.peerId!==b&&Se&&(Ct(c=>c?{...c,life:u.newLifeTotal}:null),Q(c=>[...c,{id:ie(),sender:"system",text:`相手(${u.peerId.substring(0,6)})がライフを ${u.newLifeTotal} に変更しました。`,timestamp:Date.now()}]));break;case"move_from_graveyard":if(u.peerId!==b&&Se){const{card:c,toZone:s}=u;let f=`相手(${u.peerId.substring(0,6)})がカード「${c.name}」を墓地から`;Ct(x=>{if(!x)return null;const w=[...x.graveyard],P=w.findIndex(se=>se.id===c.id);P>-1?w.splice(P,1):console.warn(`Opponent move_from_graveyard: card ${c.name} (ID: ${c.id}) not found in their graveyard representation. Decrementing count only.`);let U=x.handCount,ee=[...x.field];return s==="hand"?(U++,f+="手札へ移動しました。"):(ee.push(c),f+="フィールドへ移動しました。"),{...x,handCount:U,field:ee,graveyard:w}}),Q(x=>[...x,{id:ie(),sender:"system",text:f,timestamp:Date.now()}])}break;case"update_notes":u.peerId!==b&&(Ct(c=>c?{...c,opponentNotes:u.notes}:null),Q(c=>[...c,{id:ie(),sender:"system",text:`相手(${u.peerId.substring(0,6)})がメモを更新しました。`,timestamp:Date.now()}]));break;case"create_token":if(u.peerId!==b&&Se){q.find(s=>s.id===u.tokenDefinition.id)||xe(s=>[...s,u.tokenDefinition]);const c={instanceId:u.instanceId,definition:u.tokenDefinition};Ct(s=>s?{...s,fieldTokens:[...s.fieldTokens,c]}:null),Q(s=>[...s,{id:ie(),sender:"system",text:`相手(${u.peerId.substring(0,6)})がトークン「${u.tokenDefinition.name}」を生成しました。`,timestamp:Date.now()}])}break;case"remove_token_from_field":if(u.peerId!==b&&Se){const c=Se.fieldTokens.find(s=>s.instanceId===u.instanceId);Ct(s=>s?{...s,fieldTokens:s.fieldTokens.filter(f=>f.instanceId!==u.instanceId)}:null),c&&Q(s=>[...s,{id:ie(),sender:"system",text:`相手(${u.peerId.substring(0,6)})のトークン「${c.definition.name}」がフィールドを離れました。`,timestamp:Date.now()}])}break}},[b,Se,ct,G,kr,tt,rn,gt,N,q]),Dt=j.useRef(Al);j.useEffect(()=>{Dt.current=Al},[Al]);const xn=j.useCallback(()=>{gt("chat_only"),kt(null),Ct(null),Wr(null),Ml(null),rn(!1),hr(0),Qr(0),vn("deciding"),Rn("deciding"),Ut([]),ve(null),Xn(),ft()},[Xn,ft]),Yr=j.useCallback(u=>{u.onopen=()=>{console.log("Data channel opened"),je("connected"),Q(c=>[...c,{id:Date.now().toString(),sender:"system",text:"P2P接続が確立しました！チャットまたはゲームを開始できます。",timestamp:Date.now()}]),N(null),K&&L==="chat_only"&&gt("deck_selection")},u.onmessage=c=>{try{const s=JSON.parse(c.data);s.messageType==="chat"&&s.payload&&typeof s.payload.text=="string"&&typeof s.payload.sender=="string"?(s.payload.sender!==b&&ve(s.payload.sender),Q(f=>[...f,{id:Date.now().toString(),sender:"peer",text:s.payload.text,timestamp:Date.now()}])):s.messageType==="game_action"&&s.payload?Dt.current(s.payload):console.warn("Unknown data channel message structure:",s)}catch(s){const f=c.data;Q(x=>[...x,{id:Date.now().toString(),sender:"peer",text:`[RAW] ${f}`,timestamp:Date.now()}]),console.warn("Received non-JSON message on data channel, treating as raw text:",f,s)}},u.onclose=()=>{console.log("Data channel closed"),Z.current?(he!=="failed"&&je("disconnected"),Q(c=>[...c,{id:Date.now().toString(),sender:"system",text:"データチャネルが閉じました。接続が失われたかリセットされた可能性があります。",timestamp:Date.now()}]),xn()):console.log("Data channel closed, but peer connection already handled/null (likely local reset).")},u.onerror=c=>{console.error("Data channel error:",c),N("データチャネルエラーが発生しました。"),je("failed")}},[he,K,b,L,gt,N,xn]),Xr=j.useCallback(async()=>{Z.current&&(Z.current.close(),Z.current=null),_e(!0),N(null);let u=null;try{console.log("Fetching TURN credentials...");const c=await fetch(Xd);let s=[];if(c.ok)s=await c.json(),console.log("Successfully fetched TURN credentials:",s),(!Array.isArray(s)||s.length===0)&&(console.warn("Fetched TURN credentials are not a valid array or are empty. Using fallback STUN servers."),N("取得したTURNサーバー情報が空です。STUNサーバーで試行します。"),s=[...zc]);else{const x=await c.text();console.error(`Failed to fetch TURN credentials: ${c.status} ${c.statusText}`,x),N(`TURNサーバー情報の取得に失敗: ${c.status}. STUNサーバーで試行します。`),s=[...zc]}const f={iceServers:s};console.log("Initializing RTCPeerConnection with config:",f),u=new RTCPeerConnection(f),Z.current=u,u.onicecandidate=x=>{x.candidate&&(console.log("New local ICE candidate:",x.candidate),Xe(w=>[...w,x.candidate.toJSON()]))},u.onicegatheringstatechange=()=>{Z.current&&(console.log("P2P ICE Gathering State:",Z.current.iceGatheringState),Z.current.iceGatheringState==="complete"&&Q(x=>[...x,{id:ie(),sender:"system",text:"ローカルICE候補の収集が完了しました。全ての候補を相手に伝えてください。",timestamp:Date.now()}]))},u.oniceconnectionstatechange=()=>{if(Z.current)switch(console.log("P2P ICE Connection State:",Z.current.iceConnectionState),Z.current.iceConnectionState){case"checking":he!=="connected"&&je("connecting");break;case"connected":case"completed":Ee.current&&Ee.current.readyState==="open"?(je("connected"),K&&L==="chat_only"&&gt("deck_selection")):!Ee.current&&he!=="connected"&&je("connecting");break;case"disconnected":he!=="failed"&&he!=="disconnected"&&(je("disconnected"),N("P2P接続が切断されました。再接続を試みてください。"),xn());break;case"failed":he!=="failed"&&(je("failed"),N("P2P接続に失敗しました。ネットワーク設定や相手との情報交換を確認してください。"),xn());break;case"closed":he!=="disconnected"&&he!=="failed"&&(je("disconnected"),N("P2P接続が閉じられました。"),xn());break;default:he!=="connected"&&he!=="failed"&&je("connecting")}},u.ondatachannel=x=>{console.log("Data channel received"),Ee.current=x.channel,Yr(x.channel),Z.current&&(Z.current.iceConnectionState==="connected"||Z.current.iceConnectionState==="completed")&&(je("connected"),K&&L==="chat_only"&&gt("deck_selection"))}}catch(c){console.error("Error in initializePeerConnection:",c),N(`P2P初期化エラー: ${c.message}`),je("failed"),u&&u.close(),Z.current=null,u=null}finally{_e(!1)}return u},[Yr,K,L,gt,xn,he,N]),At=j.useCallback(async()=>{console.log("Manual P2P disconnect initiated."),Ee.current&&(Ee.current.onclose=null,Ee.current.close(),Ee.current=null),Z.current&&(Z.current.onicecandidate=null,Z.current.oniceconnectionstatechange=null,Z.current.ondatachannel=null,Z.current.onicegatheringstatechange=null,Z.current.close(),Z.current=null),ge(""),Je(""),Xe([]),ce(""),he!=="failed"&&je("disconnected"),De(!1),xn()},[xn,he]),wr=()=>{Ze.trim()?(dt({messageType:"chat",payload:{text:Ze,sender:b}}),Q(u=>[...u,{id:Date.now().toString(),sender:"me",text:Ze,timestamp:Date.now()}]),It("")):Ze.trim()||N("メッセージが空です。")},Nr=j.useCallback(async()=>{Q(u=>[...u,{id:ie(),sender:"system",text:`ルーム「${K}」から退出しました。`,timestamp:Date.now()}]),await At(),le(null),H("main"),N(null),ot("")},[At,K]),Cr=j.useCallback(async u=>{if(!u.trim()&&D==="main"&&!k.trim()){N("部屋名を入力するか、既存の部屋を選択してください。");return}const c=D==="main"&&k.trim()?k:u;Qe(!0),await At();const s=Zd();ot(s),le(c),H("room"),ne(""),N(null);const f=`chatHistory_${c}`,x=localStorage.getItem(f);let w=[];if(x)try{w=JSON.parse(x)}catch(P){console.error("Failed to parse stored chat history:",P),w.push({id:Date.now().toString(),sender:"system",text:"チャット履歴の読み込みに失敗しました。",timestamp:Date.now()})}Q([...w,{id:Date.now().toString(),sender:"system",text:`ルーム「${c}」に入室しました。あなたのP2P ID: ${s.substring(0,6)}`,timestamp:Date.now()}]),Qe(!1)},[D,k,At]),_i=async(u,c)=>{if(u)try{await navigator.clipboard.writeText(u),alert(`${c} をクリップボードにコピーしました。`)}catch(s){console.error(`クリップボードへのコピーに失敗しました (${c}):`,s),N("クリップボードへのコピーに失敗しました。手動でコピーしてください。")}},$a=j.useCallback(async()=>{await At(),De(!0),Xe([]);const u=await Xr();if(!u){N("P2P接続の初期化に失敗しました。TURNサーバー情報を確認してください。"),je("failed");return}const c=u.createDataChannel("game_and_chat_manual");Ee.current=c,Yr(c);try{je("connecting");const s=await u.createOffer();await u.setLocalDescription(s),ge(JSON.stringify(s)),Q(f=>[...f,{id:Date.now().toString(),sender:"system",text:"オファーを作成しました。SDPを相手に伝えてください。ICE候補は集まり次第表示されます。",timestamp:Date.now()}])}catch(s){console.error("Error creating offer:",s),N(`手動オファー作成失敗: ${s.message}`),je("failed")}},[Xr,Yr,At,N]),Gl=j.useCallback(async()=>{if(!ae.trim()){N("相手のオファーSDP(手動)を入力してください。");return}await At(),De(!1),Xe([]);const u=await Xr();if(!u){N("P2P接続の初期化に失敗しました。TURNサーバー情報を確認してください。"),je("failed");return}try{je("connecting");const c=JSON.parse(ae);if(c.type!=="offer"){N("入力されたSDPはオファーではありません。相手のオファーSDPを正しく入力してください。"),je("failed");return}await u.setRemoteDescription(new RTCSessionDescription(c));const s=await u.createAnswer();await u.setLocalDescription(s),ge(JSON.stringify(s)),Je(""),Q(f=>[...f,{id:Date.now().toString(),sender:"system",text:"アンサーを作成しました。SDPを相手に伝えてください。ICE候補は集まり次第表示されます。",timestamp:Date.now()}])}catch(c){console.error("Error creating answer:",c),N(`手動アンサー作成失敗: ${c.message}. オファーSDPが正しいか確認してください。`),je("failed")}},[ae,Xr,At,N]),Ei=j.useCallback(async()=>{const u=Z.current;if(!u){N("P2P接続が初期化されていません。まずオファーまたはアンサーを作成してください。");return}let c=!1;if(ae.trim())try{const s=JSON.parse(ae);ye?s.type==="answer"&&u.signalingState==="have-local-offer"?(await u.setRemoteDescription(new RTCSessionDescription(s)),Q(f=>[...f,{id:Date.now().toString(),sender:"system",text:"相手のアンサーSDPを設定しました。",timestamp:Date.now()}]),c=!0):N("無効なSDPタイプまたはP2P状態です。オファー側はアンサーSDPを期待しています。現在の状態: "+u.signalingState):(N("アンサー側は通常、このステップでSDPを再設定しません。オファーSDPはアンサー作成時に設定されます。"),console.warn("Answerer attempting to set remote SDP via handleSetRemoteInfoManual. This is unusual.")),c&&Je("")}catch(s){console.error("Error setting remote SDP:",s),N(`相手のSDP設定失敗(手動): ${s.message}. 有効なJSON形式のSDPを入力してください。`)}if(Me.trim())try{let s=JSON.parse(Me);if(!Array.isArray(s))if(typeof s=="object"&&s!==null&&(s.candidate||s.sdpMid))console.warn("Remote ICE input was a single candidate object, wrapping in an array. Please provide a JSON array of candidates."),s=[s];else throw new Error("ICE候補はJSON配列形式である必要があります。");const f=s;let x=0;for(const w of f)if(w&&(typeof w.candidate=="string"||typeof w.sdpMid=="string"||typeof w.sdpMLineIndex=="number"))if(u.remoteDescription)await u.addIceCandidate(new RTCIceCandidate(w)),x++;else{console.warn("Skipping ICE candidate, remote description not yet set.",w),N("ICE候補を追加する前に、相手のSDP（オファー/アンサー）を設定する必要があります。");break}else console.warn("Skipping invalid remote ICE candidate object:",w);x>0?(Q(w=>[...w,{id:Date.now().toString(),sender:"system",text:`${x}件の相手ICE候補を設定しました。`,timestamp:Date.now()}]),ce("")):f.length>0&&x===0&&!me&&N("ICE候補の追加に失敗しました。有効な候補か、または相手のSDPが先に設定されているか確認してください。")}catch(s){console.error("Error processing remote ICE candidates:",s),N(`相手ICE候補設定失敗(手動): ${s.message}. 有効なJSON配列を入力してください。`)}},[ye,ae,Me,N,me]),Sn=u=>{const{name:c,value:s}=u.target;mn(f=>({...f,[c]:c==="cost"||c==="attack"||c==="defense"?parseInt(s)||0:s}))},jr=()=>{var u;if(!((u=Ue.name)!=null&&u.trim())){N("カード名を入力してください。");return}fe!=null&&fe.id?re(S.map(c=>c.id===fe.id?{...c,...Ue,id:fe.id}:c)):re([...S,{...Ue,id:ie()}]),mn({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""}),Te(null),N(null)},Fa=u=>{Te(u),mn(u)},Bl=u=>{window.confirm("このカードを本当に削除しますか？このカードを使用しているデッキからも削除されます。")&&(re(S.filter(c=>c.id!==u)),de(c=>c.map(s=>({...s,cardIds:s.cardIds.filter(f=>f!==u)}))),N(null))},Ce=()=>{if(S.length===0){N("エクスポートするカードがありません。");return}try{const u=JSON.stringify(S,null,2),c=new Blob([u],{type:"application/json"}),s=URL.createObjectURL(c),f=document.createElement("a");f.href=s,f.download="cards.json",document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(s),N(null)}catch(u){console.error("カードのエクスポートに失敗しました:",u),N("カードのエクスポートに失敗しました。")}},Ti=u=>{var f;const c=(f=u.target.files)==null?void 0:f[0];if(!c)return;const s=new FileReader;s.onload=x=>{var w;try{const P=(w=x.target)==null?void 0:w.result;if(typeof P!="string"){N("ファイル内容の読み取りに失敗しました。");return}const U=JSON.parse(P);if(!Array.isArray(U)){N("無効なJSON形式です。カードの配列ではありません。");return}re(ee=>{const se=new Map(ee.map(oe=>[oe.id,oe]));let Ae=0,Pe=0;return U.forEach(oe=>{oe&&typeof oe.id=="string"&&typeof oe.name=="string"&&typeof oe.cost=="number"&&typeof oe.attack=="number"&&typeof oe.defense=="number"&&typeof oe.text=="string"?(se.set(oe.id,{...se.get(oe.id),...oe}),Ae++):(console.warn("インポート中に無効なカード構造をスキップ:",oe),Pe++)}),Pe>0?N(`${Pe}件のカードが無効な構造のためスキップされました。`):N(null),alert(`${Ae}件のカードがインポート/更新されました。${Pe>0?Pe+"件はスキップされました。":""}`),Array.from(se.values())})}catch(P){console.error("カードのインポートに失敗しました:",P),N("カードのインポートに失敗しました。ファイルが正しいJSON形式であることを確認してください。")}finally{J.current&&(J.current.value="")}},s.onerror=()=>{N("ファイル読み込みエラーが発生しました。"),J.current&&(J.current.value="")},s.readAsText(c)},wn=u=>{const{name:c,value:s,type:f}=u.target;if(f==="checkbox"){const{checked:x}=u.target;nn(w=>{const P=w.colors||[];return x?{...w,colors:[...P,c]}:{...w,colors:P.filter(U=>U!==c)}})}else nn(c==="types"?x=>({...x,types:s.split(",").map(w=>w.trim()).filter(Boolean)}):x=>({...x,[c]:c==="power"||c==="toughness"?parseInt(s)||0:s}))},Hl=()=>{var c;if(!((c=Ke.name)!=null&&c.trim())){N("トークン名を入力してください。");return}const u={id:(Ft==null?void 0:Ft.id)||ie(),name:Ke.name,power:Ke.power||0,toughness:Ke.toughness||0,colors:Ke.colors||[],types:Ke.types||[],text:Ke.text||"",imageUrl:Ke.imageUrl||"",isCreature:(Ke.power||0)>0||(Ke.toughness||0)>0||(Ke.types||[]).some(s=>s.toLowerCase().includes("creature"))};Ft!=null&&Ft.id?xe(q.map(s=>s.id===Ft.id?u:s)):xe([...q,u]),nn({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""}),Jn(null),N(null)},Pi=u=>{Jn(u),nn(u)},Ii=u=>{window.confirm("このトークン定義を本当に削除しますか？")&&(xe(q.filter(c=>c.id!==u)),N(null))},Di=()=>{if(q.length===0){N("エクスポートするトークン定義がありません。");return}try{const u=JSON.stringify(q,null,2),c=new Blob([u],{type:"application/json"}),s=URL.createObjectURL(c),f=document.createElement("a");f.href=s,f.download="token_definitions.json",document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(s),N(null)}catch(u){console.error("トークン定義のエクスポートに失敗:",u),N("トークン定義のエクスポートに失敗。")}},Vl=u=>{var f;const c=(f=u.target.files)==null?void 0:f[0];if(!c)return;const s=new FileReader;s.onload=x=>{var w;try{const P=(w=x.target)==null?void 0:w.result;if(typeof P!="string"){N("ファイル内容の読み取り失敗。");return}const U=JSON.parse(P);if(!Array.isArray(U)){N("無効なJSON形式。トークン定義の配列ではありません。");return}xe(ee=>{const se=new Map(ee.map(oe=>[oe.id,oe]));let Ae=0,Pe=0;return U.forEach(oe=>{oe&&typeof oe.id=="string"&&typeof oe.name=="string"?(se.set(oe.id,{...se.get(oe.id),...oe}),Ae++):(console.warn("インポート中に無効なトークン定義構造をスキップ:",oe),Pe++)}),Pe>0?N(`${Pe}件のトークン定義が無効な構造のためスキップ。`):N(null),alert(`${Ae}件のトークン定義がインポート/更新されました。${Pe>0?Pe+"件はスキップ。":""}`),Array.from(se.values())})}catch(P){console.error("トークン定義のインポート失敗:",P),N("トークン定義のインポート失敗。JSON形式確認。")}finally{h.current&&(h.current.value="")}},s.onerror=()=>{N("ファイル読み込みエラー。"),h.current&&(h.current.value="")},s.readAsText(c)},Zr=u=>{gn(c=>({...c,name:u.target.value}))},Nn=u=>{gn(c=>({...c,selectedCardIds:[...c.selectedCardIds,u]}))},Cn=u=>{gn(c=>{const s=c.selectedCardIds.indexOf(u);if(s===-1)return c;const f=[...c.selectedCardIds];return f.splice(s,1),{...c,selectedCardIds:f}})},jn=()=>{if(!Wt.name.trim()){N("デッキ名を入力してください。");return}hn!=null&&hn.id?de(G.map(u=>u.id===hn.id?{...u,name:Wt.name,cardIds:Wt.selectedCardIds}:u)):de([...G,{id:ie(),name:Wt.name,cardIds:Wt.selectedCardIds}]),gn({name:"",selectedCardIds:[]}),zn(null),N(null)},_r=u=>{zn(u),gn({name:u.name,selectedCardIds:[...u.cardIds]})},Er=u=>{window.confirm("このデッキを本当に削除しますか？")&&(de(G.filter(c=>c.id!==u)),N(null))},_n=()=>{if(G.length===0){N("エクスポートするデッキがありません。");return}try{const u=JSON.stringify(G,null,2),c=new Blob([u],{type:"application/json"}),s=URL.createObjectURL(c),f=document.createElement("a");f.href=s,f.download="decks.json",document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(s),N(null)}catch(u){console.error("デッキのエクスポートに失敗しました:",u),N("デッキのエクスポートに失敗しました。")}},Ua=u=>{var f;const c=(f=u.target.files)==null?void 0:f[0];if(!c)return;const s=new FileReader;s.onload=x=>{var w;try{const P=(w=x.target)==null?void 0:w.result;if(typeof P!="string"){N("ファイル内容の読み取りに失敗しました。");return}const U=JSON.parse(P);if(!Array.isArray(U)){N("無効なJSON形式です。デッキの配列ではありません。");return}const ee=new Set(S.map(Ge=>Ge.id));let se=0,Ae=[];const Pe=U.map(Ge=>{if(!Ge||typeof Ge.id!="string"||typeof Ge.name!="string"||!Array.isArray(Ge.cardIds))return console.warn("インポート中に無効なデッキ構造をスキップ:",Ge),se++,null;let Yt=0;const sn=Ge.cardIds.filter(Fn=>{const Gi=ee.has(Fn);return Gi||(console.warn(`デッキ "${Ge.name}" (ID: ${Ge.id}) - 存在しないカードID "${Fn}" を発見。除去します。`),Yt++),Gi});return Yt>0&&Ae.push(`デッキ「${Ge.name}」から存在しないカードID ${Yt}件を除去。`),{...Ge,cardIds:sn}}).filter(Boolean);de(Ge=>{const Yt=new Map(Ge.map(sn=>[sn.id,sn]));return Pe.forEach(sn=>{Yt.set(sn.id,{...Yt.get(sn.id),...sn})}),Array.from(Yt.values())});let oe=`${Pe.length}件のデッキがインポート/更新されました。`;se>0&&(oe+=` ${se}件はスキップ。`),Ae.length>0&&(oe+=`
詳細:
${Ae.join(`
`)}`),alert(oe),N(Ae.length>0||se>0?oe.split(`
`)[0]+" (詳細はコンソール確認)":null)}catch(P){console.error("デッキのインポートに失敗:",P),N("デッキのインポート失敗。JSON形式確認。")}finally{M.current&&(M.current.value="")}},s.onerror=()=>{N("ファイル読み込みエラー。"),M.current&&(M.current.value="")},s.readAsText(c)},Li=u=>{var s;const c=G.find(f=>f.id===u);if(c){const f=ct===u,x=ct?(s=G.find(U=>U.id===ct))==null?void 0:s.name:null;Wr(u);const w={type:"deck_selected",deckName:c.name,deckSize:c.cardIds.length,peerId:b};dt({messageType:"game_action",payload:w});let P="";f?P=`デッキ「${c.name}」(${c.cardIds.length}枚) を再度選択しました。`:x?P=`デッキ「${x}」から「${c.name}」(${c.cardIds.length}枚) に変更しました。`:P=`デッキ「${c.name}」(${c.cardIds.length}枚) を選択しました。`,tt?(P+=" 相手も選択済みです。",rn(!0)):P+=" 相手の選択を待っています...",Q(U=>[...U,{id:ie(),sender:"system",text:P,timestamp:Date.now()}])}},Tr=()=>{if(!ct||!tt||!ye){N("両プレイヤーがデッキを選択し、あなたがオファー作成者である必要があります。"),ye||N("あなたはゲーム開始者(オファー作成者)ではありません。");return}const u=G.find(ee=>ee.id===ct);if(!u){N("選択したデッキが見つかりません。");return}if(!tt){N("相手のデッキ情報がありません。");return}const c=u.cardIds.map(ee=>kr(ee)).filter(Boolean),s=xi(c),f=s.slice(0,et),x=s.slice(et),w=[{id:ie(),title:"Note 1",text:"",isShared:!1}],P=[{id:ie(),title:"Note 1",text:"",isShared:!1}];kt({life:Ll,deck:x,hand:f,field:[],fieldTokens:[],graveyard:[],myNotes:w}),Ct({life:Ll,deckCount:tt.size-et,handCount:et,field:[],fieldTokens:[],graveyard:[],opponentNotes:P}),gt("MULLIGAN"),hr(0),Qr(0),vn("deciding"),Rn("deciding"),Ut([]),Q(ee=>[...ee,{id:ie(),sender:"system",text:`ゲームセットアップ完了。マリガンフェイズです。両プレイヤーは手札${et}枚で開始。`,timestamp:Date.now()}]),dt({messageType:"game_action",payload:{type:"game_start_request",peerId:b,initialOpponentHandSize:et,initialOpponentLife:Ll}}),rn(!1)},Aa=()=>{if(!z||jt==="kept")return;vn("kept");const u=z.hand.length;dt({messageType:"game_action",payload:{type:"player_decision_mulligan",peerId:b,actionTaken:"kept_hand",mulligansTakenThisGame:nt,resultingHandSize:u}}),Q(s=>[...s,{id:ie(),sender:"system",text:`あなたは手札をキープしました (手札${u}枚、マリガン${nt}回)。相手の決定を待っています...`,timestamp:Date.now()}])},Mi=()=>{if(!z||jt==="kept"||nt>=7)return;vn("selecting_bottom");const u=xi([...z.hand,...z.deck]),c=u.slice(0,et),s=u.slice(et);kt(x=>x?{...x,hand:c,deck:s}:null),Ut([]);const f=nt+1;Q(x=>[...x,{id:ie(),sender:"system",text:`マリガン ${nt+1}回目: 7枚ドローしました。${f}枚をデッキボトムに送ってください。`,timestamp:Date.now()}])},qr=()=>{if(!z||jt!=="selecting_bottom")return;const u=nt+1;if(ln.length!==u){N(`マリガンエラー: ${u}枚のカードを選択してボトムに送る必要があります。現在${ln.length}枚選択されています。`);return}N(null);const c=z.hand.filter((w,P)=>!ln.includes(P)),s=z.hand.filter((w,P)=>ln.includes(P)),f=nt+1;kt(w=>w?{...w,hand:c,deck:[...w.deck,...s]}:null),hr(f),vn("deciding"),Ut([]);const x={type:"player_decision_mulligan",peerId:b,actionTaken:"performed_mulligan_step",mulligansTakenThisGame:f,resultingHandSize:c.length};dt({messageType:"game_action",payload:x}),Q(w=>[...w,{id:ie(),sender:"system",text:`マリガン ${f}回目完了。新しい手札は ${c.length}枚です。この手札でキープしますか？`,timestamp:Date.now()}])},zi=u=>{if(jt!=="selecting_bottom")return;const c=nt+1;Ut(s=>{const f=[...s],x=f.indexOf(u);return x>-1?f.splice(x,1):f.length<c?f.push(u):N(`既に ${c}枚選択済みです。選択済みのカードをクリックして解除してください。`),f})},Wl=j.useCallback(u=>{if(!z||L!=="game_active")return;let c=typeof u=="string"?parseInt(u,10):u;if(isNaN(c))return;c=Math.max(0,c),kt(f=>f?{...f,life:c}:null),dt({messageType:"game_action",payload:{type:"update_life",newLifeTotal:c,peerId:b}}),Q(f=>[...f,{id:ie(),sender:"system",text:`あなたはライフを ${c} に変更しました。`,timestamp:Date.now()}])},[z,L,b,dt]),Pr=()=>{if(!z||z.deck.length===0||L!=="game_active"){N(L!=="game_active"?"まだゲームがアクティブではありません。":"デッキにカードがありません。");return}const[u,...c]=z.deck;kt(f=>f?{...f,deck:c,hand:[...f.hand,u]}:null),dt({messageType:"game_action",payload:{type:"draw_card",peerId:b}}),Q(f=>[...f,{id:ie(),sender:"system",text:`カード「${u.name}」をドローしました。`,timestamp:Date.now()}])},Zn=(u,c)=>{if(!z||L!=="game_active"){N(L!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}const s=z.hand.filter((x,w)=>w!==c);kt(x=>x?{...x,hand:s,field:[...x.field,u]}:null),dt({messageType:"game_action",payload:{type:"play_card",card:u,peerId:b}}),Q(x=>[...x,{id:ie(),sender:"system",text:`カード「${u.name}」をプレイしました。`,timestamp:Date.now()}])},qn=u=>{if(!z||L!=="game_active"){N("ゲームがアクティブでないためトークンを生成できません。");return}const c=xr(u);if(!c){N("選択されたトークン定義が見つかりません。");return}const s=ie(),f={instanceId:s,definition:c};kt(w=>w?{...w,fieldTokens:[...w.fieldTokens,f]}:null),dt({messageType:"game_action",payload:{type:"create_token",tokenDefinition:c,instanceId:s,peerId:b}}),Q(w=>[...w,{id:ie(),sender:"system",text:`トークン「${c.name}」を生成しました。`,timestamp:Date.now()}]),ft()},Ir=(u,c,s,f)=>{if(!z||L!=="game_active"){N(L!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}if(c==="card"){const x=u;let w=`カード「${x.name}」を`;kt(U=>{if(!U)return null;let ee=[...U.hand],se=[...U.field];const Ae=[...U.graveyard,x];if(s==="hand")ee.splice(f,1),w+="手札から墓地へ送りました。";else if(s==="field"){const Pe=se.findIndex((oe,Ge)=>Ge===f&&oe.id===x.id);if(Pe>-1)se.splice(Pe,1),w+="フィールドから墓地へ送りました。";else{const oe=se.findIndex(Ge=>Ge.id===x.id);oe>-1?(se.splice(oe,1),w+="フィールドから墓地へ送りました (フォールバックIDマッチ)。"):(console.warn(`SendToGraveyard (P2P Card): card ID ${x.id} not found on field at index ${f} or by ID.`),w+="フィールドから墓地へ送ろうとしましたが、見つかりませんでした。")}}return{...U,hand:ee,field:se,graveyard:Ae}}),dt({messageType:"game_action",payload:{type:"move_to_graveyard",card:x,fromZone:s,fromZoneIndex:f,peerId:b}}),Q(U=>[...U,{id:ie(),sender:"system",text:w,timestamp:Date.now()}])}else if(c==="token"){const x=u;kt(P=>P?{...P,fieldTokens:P.fieldTokens.filter(U=>U.instanceId!==x.instanceId)}:null);const w={type:"remove_token_from_field",instanceId:x.instanceId,peerId:b};dt({messageType:"game_action",payload:w}),Q(P=>[...P,{id:ie(),sender:"system",text:`トークン「${x.definition.name}」がフィールドを離れました。`,timestamp:Date.now()}])}},Ri=j.useCallback((u,c,s)=>{if(!z||L!=="game_active")return;let f=`あなたはカード「${u.name}」を墓地から`;const x=[...z.graveyard];x.splice(c,1);let w=[...z.hand],P=[...z.field];s==="hand"?(w.push(u),f+="手札へ移動しました。"):(P.push(u),f+="フィールドへ移動しました。"),kt(ee=>ee?{...ee,graveyard:x,hand:w,field:P}:null),vr&&an==="my"&&yr(x),dt({messageType:"game_action",payload:{type:"move_from_graveyard",card:u,toZone:s,graveyardCardIndex:c,peerId:b}}),Q(ee=>[...ee,{id:ie(),sender:"system",text:f,timestamp:Date.now()}])},[z,L,b,dt,vr,an]),Kt=j.useCallback(u=>{kt(s=>s?{...s,myNotes:u}:null),dt({messageType:"game_action",payload:{type:"update_notes",peerId:b,notes:u}})},[b,dt]),Ql=j.useCallback((u,c)=>{if(!z||L!=="game_active")return;const s=z.myNotes.map(f=>f.id===u?{...f,text:c}:f);Kt(s)},[z,L,Kt]),br=j.useCallback((u,c)=>{if(!z||L!=="game_active")return;const s=z.myNotes.map(f=>f.id===u?{...f,title:c}:f);Kt(s)},[z,L,Kt]),Jl=j.useCallback(u=>{if(!z||L!=="game_active")return;let c=!1;const s=z.myNotes.map(f=>f.id===u?(c=!f.isShared,{...f,isShared:c}):f);Kt(s),Q(f=>{var x;return[...f,{id:ie(),sender:"system",text:`あなたのメモ「${((x=s.find(w=>w.id===u))==null?void 0:x.title)||"無題"}」を ${c?"公開":"非公開"} にしました。`,timestamp:Date.now()}]})},[z,L,Kt]),Oi=j.useCallback(()=>{if(!z||L!=="game_active")return;const c={id:ie(),title:`Note ${z.myNotes.length+1}`,text:"",isShared:!1},s=[...z.myNotes,c];Kt(s),Q(f=>[...f,{id:ie(),sender:"system",text:`新しいメモ「${c.title}」を追加しました。`,timestamp:Date.now()}])},[z,L,Kt]),En=j.useCallback(u=>{if(!z||L!=="game_active"||z.myNotes.length<=1)return;const c=z.myNotes.find(f=>f.id===u),s=z.myNotes.filter(f=>f.id!==u);Kt(s),Q(f=>[...f,{id:ie(),sender:"system",text:`メモ「${(c==null?void 0:c.title)||"無題"}」を削除しました。`,timestamp:Date.now()}])},[z,L,Kt]),el=()=>{Jr("deck_selection"),rt(null),Rl(null),Ol(null),we(null),$l(0),yn("deciding"),On([]),Xn(),ft()},tl=u=>{Ol(u),we(null)},$i=()=>{if(!Qt){we("テスト用のデッキを選択してください。");return}const u=G.find(U=>U.id===Qt);if(!u){we("選択されたデッキが見つかりません。");return}if(u.cardIds.length===0){we("選択されたデッキにカードがありません。");return}const c=u.cardIds.map(U=>kr(U)).filter(Boolean),s=xi(c),f=s.slice(0,et),x=s.slice(et),w=[{id:ie(),title:"Test Note 1",text:"",isShared:!1}],P=[{id:ie(),title:"Opponent Note 1",text:"Mock opponent notes visible for testing.",isShared:!0}];rt({life:Ll,deck:x,hand:f,field:[],fieldTokens:[],graveyard:[],myNotes:w}),Rl({life:Ll,deckCount:Math.max(0,u.cardIds.length-et),handCount:et,field:[],fieldTokens:[],graveyard:[],opponentNotes:P}),Jr("MULLIGAN"),$l(0),yn("deciding"),On([]),we(`マリガンフェイズ。初期手札${et}枚。`)},nl=()=>{!$||_t==="kept"||(yn("kept"),Jr("game_active"),we(`手札をキープしました (手札${$.hand.length}枚、マリガン${Ve}回)。テストゲーム開始！`))},rl=()=>{if(!$||_t==="kept"||Ve>=7)return;yn("selecting_bottom");const u=xi([...$.hand,...$.deck]),c=u.slice(0,et),s=u.slice(et);rt(x=>x?{...x,hand:c,deck:s}:null),On([]);const f=Ve+1;we(`マリガン ${Ve+1}回目: 7枚ドローしました。${f}枚をデッキボトムに送ってください。`)},Fi=()=>{if(!$||_t!=="selecting_bottom")return;const u=Ve+1;if(Jt.length!==u){we(`マリガンエラー: ${u}枚のカードを選択してボトムに送る必要があります。現在${Jt.length}枚選択されています。`);return}we(null);const c=$.hand.filter((x,w)=>!Jt.includes(w)),s=$.hand.filter((x,w)=>Jt.includes(w)),f=Ve+1;rt(x=>x?{...x,hand:c,deck:[...x.deck,...s]}:null),$l(f),yn("deciding"),On([]),we(`マリガン ${f}回目完了。新しい手札は ${c.length}枚です。この手札でキープしますか？`)},Et=u=>{if(_t!=="selecting_bottom")return;const c=Ve+1;On(s=>{const f=[...s],x=f.indexOf(u);return x>-1?f.splice(x,1):f.length<c?f.push(u):we(`既に ${c}枚選択済みです。選択済みのカードをクリックして解除してください。`),f})},Tn=j.useCallback(u=>{if(!$||W!=="game_active")return;let c=typeof u=="string"?parseInt(u,10):u;if(isNaN(c)){we("無効なライフ値です。");return}c=Math.max(0,c),rt(s=>s?{...s,life:c}:null),we(`ライフを ${c} に変更しました。`)},[$,W]),Kl=()=>{if(!$||$.deck.length===0||W!=="game_active"){we(W!=="game_active"?"まだゲームがアクティブではありません。":"デッキにカードがありません。");return}const[u,...c]=$.deck;rt(s=>s?{...s,deck:c,hand:[...s.hand,u]}:null),we(null)},bn=(u,c)=>{if(!$||W!=="game_active"){we(W!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}const s=$.hand.filter((f,x)=>x!==c);rt(f=>f?{...f,hand:s,field:[...f.field,u]}:null),we(null)},Ga=u=>{if(!$||W!=="game_active"){we("テストゲームがアクティブでないためトークンを生成できません。");return}const c=xr(u);if(!c){we("選択されたトークン定義が見つかりません。");return}const f={instanceId:ie(),definition:c};rt(x=>x?{...x,fieldTokens:[...x.fieldTokens,f]}:null),we(`テストトークン「${c.name}」を生成しました。`),ft()},ll=(u,c,s,f)=>{if(!$||W!=="game_active"){we(W!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}if(c==="card"){const x=u;rt(w=>{if(!w)return null;let P=[...w.hand],U=[...w.field];const ee=[...w.graveyard,x];if(s==="hand")P.splice(f,1);else if(s==="field"){const se=U.findIndex((Ae,Pe)=>Pe===f&&Ae.id===x.id);if(se>-1)U.splice(se,1);else{const Ae=U.findIndex(Pe=>Pe.id===x.id);Ae>-1?U.splice(Ae,1):console.warn(`TestSendToGraveyard (Card): card ID ${x.id} not found on field.`)}}return{...w,hand:P,field:U,graveyard:ee}})}else if(c==="token"){const x=u;rt(w=>w?{...w,fieldTokens:w.fieldTokens.filter(P=>P.instanceId!==x.instanceId)}:null),we(`テストトークン「${x.definition.name}」がフィールドを離れました。`)}we(null)},il=j.useCallback((u,c,s)=>{if(!$||W!=="game_active")return;let f=`カード「${u.name}」を墓地から`;const x=[...$.graveyard];x.splice(c,1);let w=[...$.hand],P=[...$.field];s==="hand"?(w.push(u),f+="手札へ移動しました。"):(P.push(u),f+="フィールドへ移動しました。"),rt(U=>U?{...U,graveyard:x,hand:w,field:P}:null),vr&&an==="my"&&yr(x),we(f)},[$,W,vr,an]),Dr=j.useCallback((u,c)=>{!$||W!=="game_active"||rt(s=>s?{...s,myNotes:s.myNotes.map(f=>f.id===u?{...f,text:c}:f)}:null)},[$,W]),al=j.useCallback((u,c)=>{!$||W!=="game_active"||rt(s=>s?{...s,myNotes:s.myNotes.map(f=>f.id===u?{...f,title:c}:f)}:null)},[$,W]),Ui=j.useCallback(u=>{if(!$||W!=="game_active")return;let c=!1,s="";rt(f=>{if(!f)return null;const x=f.myNotes.map(w=>w.id===u?(c=!w.isShared,s=w.title,{...w,isShared:c}):w);return{...f,myNotes:x}}),we(`テストメモ「${s||"無題"}」を ${c?"公開":"非公開"} にしました。`)},[$,W]),Ba=j.useCallback(()=>{if(!$||W!=="game_active")return;const c={id:ie(),title:`Test Note ${$.myNotes.length+1}`,text:"",isShared:!1};rt(s=>s?{...s,myNotes:[...s.myNotes,c]}:null),we(`新しいテストメモ「${c.title}」を追加しました。`)},[$,W]),Ha=j.useCallback(u=>{if(!$||W!=="game_active"||$.myNotes.length<=1)return;const c=$.myNotes.find(s=>s.id===u);rt(s=>s?{...s,myNotes:s.myNotes.filter(f=>f.id!==u)}:null),we(`テストメモ「${(c==null?void 0:c.title)||"無題"}」を削除しました。`)},[$,W]),Pn=j.useCallback((u,c=!1)=>{let s=[];c?u==="my"&&$?s=$.graveyard:u==="opponent"&&qe&&(s=qe.graveyard):u==="my"&&z?s=z.graveyard:u==="opponent"&&Se&&(s=Se.graveyard),yr(s),kn(u),Si(!0)},[z,Se,$,qe]),er=j.useCallback((u,c,s,f,x,w)=>{if((w?W:L)!=="game_active")return;const U={type:s,data:c,fromZone:f,originalIndex:x,isTestGame:w};u.dataTransfer.setData("application/json",JSON.stringify(U)),u.dataTransfer.effectAllowed="move",Ul(U)},[L,W]),sl=j.useCallback(()=>{Ul(null),Le(!1),$n(!1)},[]),ol=j.useCallback((u,c)=>{if(u.preventDefault(),F){if((F.isTestGame?W:L)!=="game_active"){u.dataTransfer.dropEffect="none";return}c==="field"&&F.fromZone==="hand"&&F.type==="card"?(u.dataTransfer.dropEffect="move",Le(!0)):c==="graveyard"&&(F.fromZone==="hand"||F.fromZone==="field")?(u.dataTransfer.dropEffect="move",$n(!0)):u.dataTransfer.dropEffect="none"}},[F,L,W]),ul=j.useCallback(u=>{if(F){if((F.isTestGame?W:L)!=="game_active")return;u==="field"&&F.fromZone==="hand"&&F.type==="card"?Le(!0):u==="graveyard"&&(F.fromZone==="hand"||F.fromZone==="field")&&$n(!0)}},[F,L,W]),cl=j.useCallback(u=>{u==="field"&&Le(!1),u==="graveyard"&&$n(!1)},[]),dl=j.useCallback((u,c)=>{u.preventDefault();const s=u.dataTransfer.getData("application/json");if(s){try{const f=JSON.parse(s),{type:x,data:w,fromZone:P,originalIndex:U,isTestGame:ee}=f;if((ee?W:L)!=="game_active")return;c==="field"&&P==="hand"&&x==="card"?ee?bn(w,U):Zn(w,U):c==="graveyard"&&(ee?ll(w,x,P,U):Ir(w,x,P,U))}catch(f){console.error("Error processing dropped item data:",f)}Ul(null),Le(!1),$n(!1)}},[Zn,Ir,bn,ll,L,W]),Lr=(u,c,s=!1)=>{const{card:f,count:x,originalIndices:w}=u,P=w[w.length-1],U=(F==null?void 0:F.type)==="card"&&(F==null?void 0:F.data).id===f.id&&(F==null?void 0:F.originalIndex)===P&&(F==null?void 0:F.fromZone)==="field"&&(F==null?void 0:F.isTestGame)===s,ee=s?W:L,se=ee!=="game_active";return a.jsx(Vt,{card:f,context:"field",count:x>1?x:void 0,isMyCard:c,originalIndex:P,onDragStartItem:c?(Ae,Pe,oe,Ge,Yt)=>er(Ae,Pe,oe,Ge,Yt,s):void 0,onDragEndItem:c?sl:void 0,isDraggable:c&&ee==="game_active",isDragging:U,isDisabled:se},`${f.id}-${c?"my":"opponent"}-fieldgroup-${P}`)},fl=(u,c,s,f=!1)=>{const x=(F==null?void 0:F.type)==="token"&&(F==null?void 0:F.data).instanceId===u.instanceId&&(F==null?void 0:F.fromZone)==="field"&&(F==null?void 0:F.isTestGame)===f,w=f?W:L,P=w!=="game_active";return a.jsx(Vt,{tokenInstance:u,isTokenDisplay:!0,context:"field",isMyCard:s,originalIndex:c,onDragStartItem:s?(U,ee,se,Ae,Pe)=>er(U,ee,se,Ae,Pe,f):void 0,onDragEndItem:s?sl:void 0,isDraggable:s&&w==="game_active",isDragging:x,isDisabled:P},u.instanceId)},Ai=()=>a.jsxs("div",{className:"view-container main-view",children:[a.jsx("header",{children:a.jsx("h1",{children:"P2Pチャット & カードゲーム"})}),a.jsxs("nav",{className:"main-nav",children:[a.jsx("button",{onClick:()=>H("cardEditor"),children:"カードエディタ"}),a.jsx("button",{onClick:()=>H("deckEditor"),children:"デッキエディタ"}),a.jsx("button",{onClick:()=>H("tokenEditor"),children:"トークンエディタ"}),a.jsx("button",{onClick:()=>{el(),H("testGameView")},children:"テストゲーム画面"})]}),a.jsxs("section",{className:"room-actions","aria-labelledby":"room-actions-heading",children:[a.jsx("h2",{id:"room-actions-heading",className:"sr-only",children:"ルーム操作"}),a.jsxs("div",{className:"create-room-section",children:[a.jsx("h3",{children:"P2Pセッションを開始/参加"}),a.jsx("p",{className:"info-text",children:"部屋名を入力してP2Pセッションを開始または参加します。相手と同じ部屋名を使用してください。"}),a.jsxs("div",{className:"input-group",children:[a.jsx("label",{htmlFor:"roomNameInput",className:"sr-only",children:"部屋名"}),a.jsx("input",{id:"roomNameInput",type:"text",value:k,onChange:u=>ne(u.target.value),placeholder:"部屋名（例: ProjectOmega）","aria-describedby":me?"error-message":void 0,disabled:ue}),a.jsx("button",{onClick:()=>Cr(k),disabled:ue||!k.trim(),"aria-live":"polite",children:ue?"準備中...":"ルームに入る"})]})]}),a.jsxs("div",{className:"join-room-section",children:[a.jsx("h3",{children:"既存の部屋に参加 (クイック選択)"}),a.jsx("p",{className:"info-text",children:"一般的な部屋名を選択して素早く参加できます。"}),Mc.length>0?a.jsx("ul",{className:"room-list",children:Mc.map(u=>a.jsxs("li",{children:[a.jsx("span",{children:u}),a.jsx("button",{onClick:()=>Cr(u),disabled:ue,"aria-label":`${u} に参加する`,children:ue?"準備中...":"選択"})]},u))}):a.jsx("p",{children:"利用可能なクイック選択ルームはありません。"})]})]}),me&&a.jsx("p",{id:"error-message",className:"error-message global-error",role:"alert",children:me})]}),Va=()=>a.jsxs("div",{className:"view-container card-editor-view",children:[a.jsxs("header",{children:[a.jsx("h2",{children:"カードエディタ"}),a.jsx("button",{onClick:()=>{H("main"),N(null),Te(null),mn({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""})},children:"メインに戻る"})]}),me&&a.jsx("p",{className:"error-message",role:"alert",children:me}),a.jsxs("section",{className:"import-export-section",children:[a.jsx("h4",{children:"JSONインポート/エクスポート"}),a.jsx("input",{type:"file",accept:".json",ref:J,onChange:Ti,style:{display:"none"},id:"card-import-input"}),a.jsx("button",{onClick:()=>{var u;return(u=J.current)==null?void 0:u.click()},className:"import-button",children:"カードをJSONからインポート"}),a.jsx("button",{onClick:Ce,className:"export-button",disabled:S.length===0,children:"カードをJSONへエクスポート"})]}),a.jsxs("section",{className:"card-form-section",children:[a.jsx("h3",{children:fe?"カードを編集":"新しいカードを作成"}),a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"input-group-vertical",children:[a.jsx("label",{htmlFor:"cardName",children:"カード名:"}),a.jsx("input",{type:"text",id:"cardName",name:"name",value:Ue.name||"",onChange:Sn,required:!0})]}),a.jsxs("div",{className:"input-group-vertical",children:[a.jsx("label",{htmlFor:"cardCost",children:"コスト:"}),a.jsx("input",{type:"number",id:"cardCost",name:"cost",value:Ue.cost||0,onChange:Sn,min:"0"})]}),a.jsxs("div",{className:"input-group-vertical",children:[a.jsx("label",{htmlFor:"cardAttack",children:"攻撃力:"}),a.jsx("input",{type:"number",id:"cardAttack",name:"attack",value:Ue.attack||0,onChange:Sn,min:"0"})]}),a.jsxs("div",{className:"input-group-vertical",children:[a.jsx("label",{htmlFor:"cardDefense",children:"防御力/体力:"}),a.jsx("input",{type:"number",id:"cardDefense",name:"defense",value:Ue.defense||0,onChange:Sn,min:"0"})]}),a.jsxs("div",{className:"input-group-vertical full-width",children:[a.jsx("label",{htmlFor:"cardText",children:"カードテキスト:"}),a.jsx("textarea",{id:"cardText",name:"text",value:Ue.text||"",onChange:Sn,rows:3})]}),a.jsxs("div",{className:"input-group-vertical full-width",children:[a.jsx("label",{htmlFor:"cardImageUrl",children:"画像URL (任意):"}),a.jsx("input",{type:"text",id:"cardImageUrl",name:"imageUrl",value:Ue.imageUrl||"",onChange:Sn,placeholder:"https://example.com/image.png"})]})]}),a.jsx("button",{onClick:jr,children:fe?"カードを更新":"カードを追加"}),fe&&a.jsx("button",{onClick:()=>{Te(null),mn({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""})},className:"cancel-button",children:"キャンセル"})]}),a.jsxs("section",{className:"card-list-section",children:[a.jsxs("h3",{children:["登録済みカード一覧 (",S.length,"枚)"]}),S.length===0?a.jsx("p",{children:"登録されているカードはありません。"}):a.jsx("ul",{className:"card-list editor-list mtg-card-grid",children:S.map(u=>a.jsxs("li",{className:"card-item-wrapper",children:[a.jsx(Vt,{card:u,context:"editor-list",isMyCard:!1}),a.jsxs("div",{className:"card-actions editor-actions",children:[a.jsx("button",{onClick:()=>Fa(u),children:"編集"}),a.jsx("button",{onClick:()=>Bl(u.id),className:"delete-button",children:"削除"})]})]},u.id))})]})]}),Wa=()=>a.jsxs("div",{className:"view-container token-editor-view",children:[a.jsxs("header",{children:[a.jsx("h2",{children:"トークンエディタ"}),a.jsx("button",{onClick:()=>{H("main"),N(null),Jn(null),nn({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""})},children:"メインに戻る"})]}),me&&a.jsx("p",{className:"error-message",role:"alert",children:me}),a.jsxs("section",{className:"import-export-section",children:[a.jsx("h4",{children:"JSONインポート/エクスポート"}),a.jsx("input",{type:"file",accept:".json",ref:h,onChange:Vl,style:{display:"none"},id:"token-import-input"}),a.jsx("button",{onClick:()=>{var u;return(u=h.current)==null?void 0:u.click()},className:"import-button",children:"トークン定義をJSONからインポート"}),a.jsx("button",{onClick:Di,className:"export-button",disabled:q.length===0,children:"トークン定義をJSONへエクスポート"})]}),a.jsxs("section",{className:"token-form-section",children:[a.jsx("h3",{children:Ft?"トークン定義を編集":"新しいトークン定義を作成"}),a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"input-group-vertical",children:[a.jsx("label",{htmlFor:"tokenName",children:"トークン名:"}),a.jsx("input",{type:"text",id:"tokenName",name:"name",value:Ke.name||"",onChange:wn,required:!0})]}),a.jsxs("div",{className:"input-group-vertical",children:[a.jsx("label",{htmlFor:"tokenPower",children:"パワー:"}),a.jsx("input",{type:"number",id:"tokenPower",name:"power",value:Ke.power||0,onChange:wn,min:"0"})]}),a.jsxs("div",{className:"input-group-vertical",children:[a.jsx("label",{htmlFor:"tokenToughness",children:"タフネス:"}),a.jsx("input",{type:"number",id:"tokenToughness",name:"toughness",value:Ke.toughness||0,onChange:wn,min:"0"})]}),a.jsxs("div",{className:"input-group-vertical full-width",children:[a.jsx("label",{htmlFor:"tokenTypes",children:"タイプ (カンマ区切り 例: Creature - Goblin, Artifact):"}),a.jsx("input",{type:"text",id:"tokenTypes",name:"types",value:(Ke.types||[]).join(", "),onChange:wn})]}),a.jsxs("div",{className:"input-group-vertical full-width",children:[a.jsx("label",{children:"色:"}),a.jsx("div",{className:"checkbox-group",children:["W","U","B","R","G","C","Gold"].map(u=>a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",name:u,checked:(Ke.colors||[]).includes(u),onChange:wn})," ",u]},u))})]}),a.jsxs("div",{className:"input-group-vertical full-width",children:[a.jsx("label",{htmlFor:"tokenText",children:"テキスト:"}),a.jsx("textarea",{id:"tokenText",name:"text",value:Ke.text||"",onChange:wn,rows:2})]}),a.jsxs("div",{className:"input-group-vertical full-width",children:[a.jsx("label",{htmlFor:"tokenImageUrl",children:"画像URL (任意):"}),a.jsx("input",{type:"text",id:"tokenImageUrl",name:"imageUrl",value:Ke.imageUrl||"",onChange:wn,placeholder:"https://example.com/token.png"})]})]}),a.jsx("button",{onClick:Hl,children:Ft?"トークン定義を更新":"トークン定義を追加"}),Ft&&a.jsx("button",{onClick:()=>{Jn(null),nn({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""})},className:"cancel-button",children:"キャンセル"})]}),a.jsxs("section",{className:"token-list-section",children:[a.jsxs("h3",{children:["登録済みトークン定義一覧 (",q.length,"件)"]}),q.length===0?a.jsx("p",{children:"登録されているトークン定義はありません。"}):a.jsxs("ul",{className:"card-list editor-list mtg-card-grid",children:[" ",q.map(u=>a.jsxs("li",{className:"card-item-wrapper",children:[" ",a.jsx(Vt,{tokenInstance:{instanceId:u.id,definition:u},isTokenDisplay:!0,context:"token-editor-list",isMyCard:!1}),a.jsxs("div",{className:"card-actions editor-actions",children:[a.jsx("button",{onClick:()=>Pi(u),children:"編集"}),a.jsx("button",{onClick:()=>Ii(u.id),className:"delete-button",children:"削除"})]})]},u.id))]})]})]}),Yl=()=>a.jsxs("div",{className:"view-container deck-editor-view",children:[a.jsxs("header",{children:[a.jsx("h2",{children:"デッキエディタ"}),a.jsx("button",{onClick:()=>{H("main"),N(null),zn(null),gn({name:"",selectedCardIds:[]})},children:"メインに戻る"})]}),me&&a.jsx("p",{className:"error-message",role:"alert",children:me}),a.jsxs("section",{className:"import-export-section",children:[a.jsx("h4",{children:"JSONインポート/エクスポート"}),a.jsx("input",{type:"file",accept:".json",ref:M,onChange:Ua,style:{display:"none"},id:"deck-import-input"}),a.jsx("button",{onClick:()=>{var u;return(u=M.current)==null?void 0:u.click()},className:"import-button",children:"デッキをJSONからインポート"}),a.jsx("button",{onClick:_n,className:"export-button",disabled:G.length===0,children:"デッキをJSONへエクスポート"})]}),a.jsxs("section",{className:"deck-form-section",children:[a.jsx("h3",{children:hn?"デッキを編集":"新しいデッキを作成"}),a.jsxs("div",{className:"input-group-vertical",children:[a.jsx("label",{htmlFor:"deckName",children:"デッキ名:"}),a.jsx("input",{type:"text",id:"deckName",value:Wt.name,onChange:Zr,required:!0})]}),a.jsxs("h4",{children:["カードを選択 (現在 ",Wt.selectedCardIds.length,"枚)"]}),a.jsx("div",{className:"available-cards-list mtg-card-grid",children:S.length===0?a.jsx("p",{children:"登録カードなし。まずカードエディタでカードを作成してください。"}):S.map(u=>{const c=Wt.selectedCardIds.filter(s=>s===u.id).length;return a.jsx(Vt,{card:u,context:"deck-selector",isSelected:c>0,onAddToDeck:Nn,onRemoveFromDeck:Cn,cardsInDeckCount:c},u.id)})}),a.jsx("button",{onClick:jn,children:hn?"デッキを更新":"デッキを保存"}),hn&&a.jsx("button",{onClick:()=>{zn(null),gn({name:"",selectedCardIds:[]})},className:"cancel-button",children:"キャンセル"})]}),a.jsxs("section",{className:"deck-list-section",children:[a.jsxs("h3",{children:["登録済みデッキ一覧 (",G.length,"件)"]}),G.length===0?a.jsx("p",{children:"登録されているデッキはありません。"}):a.jsx("ul",{className:"deck-list editor-list",children:G.map(u=>a.jsxs("li",{className:"deck-item",children:[a.jsxs("span",{children:[u.name," (",u.cardIds.length,"枚)"]}),a.jsxs("div",{className:"deck-actions",children:[a.jsx("button",{onClick:()=>_r(u),children:"編集"}),a.jsx("button",{onClick:()=>Er(u.id),className:"delete-button",children:"削除"})]})]},u.id))})]})]}),Qa=()=>{var u,c;return a.jsxs("div",{className:`view-container room-view ${L==="game_active"||L==="MULLIGAN"?"game-active-scrollable":""}`,children:[a.jsxs("header",{className:"room-header",children:[a.jsxs("h2",{children:[K?`P2Pルーム: ${K}`:"P2Pルーム"," (あなたのID: ",b?b.substring(0,6):"未接続",")"]}),a.jsx("button",{onClick:Nr,disabled:ue||Ie,className:"leave-button",children:"ルーム退出"})]}),me&&a.jsx("p",{className:"error-message room-error",role:"alert",children:me}),L!=="game_active"&&L!=="MULLIGAN"&&a.jsxs("section",{className:"p2p-setup manual-fallback","aria-labelledby":"p2p-setup-manual-heading",children:[a.jsx("h3",{id:"p2p-setup-manual-heading",children:"P2P接続設定 (手動)"}),Ie&&a.jsx("p",{className:"info-text",children:"P2P接続を初期化中 (TURNサーバー情報取得中)..."}),a.jsx("p",{className:"info-text",children:"以下の手順でP2P接続情報を相手と交換してください。"}),a.jsxs("div",{className:"connection-actions",children:[a.jsx("button",{onClick:$a,disabled:Ie||he==="connected"||he==="connecting",children:"1a. オファー作成 (あなたが開始)"}),a.jsx("button",{onClick:Gl,disabled:Ie||he==="connected"||he==="connecting"||!ae.trim(),children:"1b. アンサー作成 (相手オファー受信後)"})]}),at&&a.jsxs("div",{className:"sdp-section",children:[a.jsxs("label",{htmlFor:"localSdpManualTextarea",children:["あなたの",ye?"オファー":"アンサー","SDP (相手に伝えてください):"]}),a.jsx("textarea",{id:"localSdpManualTextarea",value:at,readOnly:!0,rows:4}),a.jsx("button",{onClick:()=>_i(at,`自分の${ye?"オファー":"アンサー"}SDP`),children:"コピー"})]}),a.jsxs("div",{className:"sdp-section",children:[a.jsxs("label",{htmlFor:"remoteSdpInputManual",children:["相手の",ye?"アンサー":"オファー","SDP (相手から受け取って入力):"]}),a.jsx("textarea",{id:"remoteSdpInputManual",value:ae,onChange:s=>Je(s.target.value),rows:4,placeholder:ye?"相手のアンサーSDPをここに貼り付け":"相手のオファーSDPをここに貼り付け"})]}),st.length>0&&a.jsxs("div",{className:"ice-section",children:[a.jsx("label",{htmlFor:"localIceManualTextarea",children:"あなたのICE候補 (相手に伝えてください):"}),a.jsx("textarea",{id:"localIceManualTextarea",value:JSON.stringify(st,null,2),readOnly:!0,rows:4}),a.jsx("button",{onClick:()=>_i(JSON.stringify(st,null,2),"自分のICE候補"),children:"コピー"})]}),a.jsxs("div",{className:"ice-section",children:[a.jsx("label",{htmlFor:"remoteIceInputManual",children:"相手のICE候補 (相手から受け取って入力):"}),a.jsx("textarea",{id:"remoteIceInputManual",value:Me,onChange:s=>ce(s.target.value),rows:4,placeholder:"相手のICE候補をここにJSON配列として貼り付け"})]}),a.jsx("button",{onClick:Ei,className:"connection-actions",disabled:Ie||!ae.trim()&&!Me.trim()||he==="connected",children:"2. 相手情報セット & 接続試行"}),a.jsxs("p",{children:["P2P接続状態: ",a.jsx("span",{className:`status-${he}`,children:he.toUpperCase()})," ",ye?"(あなたはオファー側)":"(あなたはアンサー側)"]})]}),he==="connected"&&a.jsxs("section",{className:`game-section ${L==="game_active"||L==="MULLIGAN"?"full-game-board-active":""}`,"aria-labelledby":"game-heading",children:[L!=="game_active"&&L!=="MULLIGAN"&&a.jsx("h3",{id:"game-heading",children:"カードゲーム"}),L==="deck_selection"&&a.jsxs("div",{className:"deck-selection-area",children:[a.jsx("h4",{children:"デッキを選択してください"}),G.length===0?a.jsx("p",{children:"プレイ可能なデッキがありません。デッキエディタで作成してください。"}):a.jsx("ul",{className:"deck-list game-deck-selector",children:G.map(s=>a.jsxs("li",{className:ct===s.id?"selected":"",children:[s.name," (",s.cardIds.length,"枚)",a.jsx("button",{onClick:()=>Li(s.id),children:ct===s.id?"再選択":"選択"})]},s.id))}),ct&&a.jsxs("p",{children:["あなたが選択中のデッキ: ",(u=G.find(s=>s.id===ct))==null?void 0:u.name," (",(c=G.find(s=>s.id===ct))==null?void 0:c.cardIds.length,"枚)"]}),tt&&a.jsxs("p",{children:["相手(",tt.peerId.substring(0,6),")が選択中のデッキ: ",tt.name," (",tt.size,"枚)"]}),Kn&&ye&&a.jsx("button",{onClick:Tr,className:"start-game-button",children:"ゲーム開始 (あなたはオファー側)"}),Kn&&!ye&&a.jsx("p",{children:"オファー側がゲームを開始するのを待っています..."})]}),L==="MULLIGAN"&&z&&a.jsxs("div",{className:"mulligan-decision-area",children:[a.jsx("h4",{children:"マリガンフェイズ (ロンドンマリガン)"}),jt==="deciding"&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["現在のあなたの手札 (",z.hand.length,"枚、マリガン ",nt,"回)。どうしますか？"]}),a.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの現在の手札（確認用）",children:z.hand.map((s,f)=>a.jsx(Vt,{card:s,context:"hand",isMyCard:!0,originalIndex:f,isDisabled:!0,isDraggable:!1},`${s.id}-mymulligandecide-${f}`))}),a.jsxs("div",{className:"mulligan-buttons",children:[a.jsxs("button",{onClick:Aa,className:"mulligan-button keep",children:["手札をキープ (",z.hand.length,"枚)"]}),nt<7&&a.jsxs("button",{onClick:Mi,className:"mulligan-button mulligan",children:["マリガン (7枚引き、",nt+1,"枚ボトムへ)"]}),nt>=7&&a.jsxs("p",{children:["これ以上マリガンできません。この手札（",z.hand.length,"枚）をキープしてください。"]})]})]}),jt==="selecting_bottom"&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["マリガン ",nt+1,"回目: 新しく7枚引きました。その中から ",nt+1,"枚を選んでデッキの底に送ってください。"]}),a.jsxs("p",{children:["選択済み: ",ln.length," / ",nt+1," 枚"]}),a.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone mulligan-selection-hand",children:z.hand.map((s,f)=>a.jsx(Vt,{card:s,context:"hand",isMyCard:!0,originalIndex:f,onClick:()=>zi(f),isSelected:ln.includes(f),isSelectable:!0,isDisabled:!1},`${s.id}-mymulliganselect-${f}`))}),a.jsxs("button",{onClick:qr,disabled:ln.length!==nt+1,className:"confirm-bottom-selection-button",children:["選択完了 (",nt+1,"枚ボトムへ)"]})]}),jt==="kept"&&a.jsx("p",{children:"あなたは手札をキープしました。相手の決定を待っています..."}),a.jsxs("div",{className:"opponent-mulligan-status",children:["相手のマリガン状態: ",gr==="kept"?`キープ済み (手札 ${(Se==null?void 0:Se.handCount)??"?"}, マリガン ${zl}回)`:`考慮中 (マリガン ${zl}回)`]})]}),(L==="game_active"||L==="MULLIGAN"&&jt==="kept")&&z&&Se&&a.jsxs("div",{className:"game-board arena-style",children:[a.jsxs("div",{className:"player-area opponent-area-arena",children:[a.jsxs("div",{className:"player-info-bar arena-info-bar",children:[a.jsx("div",{className:"avatar-placeholder arena-avatar",children:"O"}),a.jsxs("span",{className:"player-name-arena",children:["相手 (",ut?ut.substring(0,6):"確認中",")"]}),a.jsxs("div",{className:"life-display-arena",children:[a.jsx("span",{className:"life-label",children:"Life: "}),a.jsx("span",{className:"life-value",children:Se.life})]}),a.jsxs("div",{className:"zone-counts-arena",children:[a.jsxs("span",{children:["Hand: ",Se.handCount]}),a.jsxs("span",{children:["Deck: ",Se.deckCount]}),a.jsxs("span",{children:["GY Cards: ",Se.graveyard.length]}),a.jsxs("span",{children:["Tokens: ",Se.fieldTokens.length]})]})]}),a.jsxs("div",{className:"playing-space-arena",children:[a.jsxs("div",{className:"deck-zone-arena opponent-deck-arena","aria-label":"相手のデッキ",children:[a.jsx("div",{className:"deck-pile-visual",children:"Deck"}),a.jsx("span",{className:"count-overlay",children:Se.deckCount})]}),a.jsxs("div",{className:"field-zone-arena opponent-field-arena mtg-card-zone","aria-label":"相手のフィールド",children:[Ra(Se.field).map(s=>Lr(s,!1,!1)),Se.fieldTokens.map((s,f)=>fl(s,f,!1,!1))]}),a.jsxs("div",{className:"graveyard-zone-arena opponent-graveyard-arena","aria-label":"相手の墓地 (クリックで表示)",onClick:()=>Pn("opponent"),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&Pn("opponent"),children:[a.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),a.jsx("span",{className:"count-overlay",children:Se.graveyard.length}),Se.graveyard.length>0&&a.jsx("span",{className:"graveyard-top-card-preview",children:Se.graveyard[Se.graveyard.length-1].name})]})]}),L==="game_active"&&a.jsx("div",{className:"notes-container opponent-notes-container",children:Se.opponentNotes.map(s=>a.jsxs("div",{className:"notes-area opponent-notes-area individual-note-area",children:[a.jsxs("div",{className:"notes-header",children:[a.jsx("span",{className:"notes-title",title:s.title,children:s.title}),a.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]})]}),s.isShared?a.jsx("div",{className:"notes-content scrollable-text",children:s.text||a.jsx("em",{children:"メモは空です"})}):a.jsx("div",{className:"notes-content hidden-notes",children:a.jsx("em",{children:"相手のメモは非公開です。"})})]},s.id))})]}),a.jsxs("div",{className:"player-area my-area-arena",children:[a.jsxs("div",{className:"player-info-bar arena-info-bar",children:[a.jsx("div",{className:"avatar-placeholder arena-avatar",children:"P"}),a.jsxs("span",{className:"player-name-arena",children:["あなた (",b.substring(0,6),")"]}),a.jsxs("div",{className:"life-control-arena",children:[a.jsx("span",{className:"life-label",children:"Life: "}),a.jsx("button",{onClick:()=>Wl(z.life-1),disabled:L!=="game_active","aria-label":"ライフを1減らす",children:"-"}),a.jsx("input",{type:"number",value:z.life,onChange:s=>Wl(s.target.value),disabled:L!=="game_active",className:"life-input-arena","aria-label":"現在のライフ"}),a.jsx("button",{onClick:()=>Wl(z.life+1),disabled:L!=="game_active","aria-label":"ライフを1増やす",children:"+"})]}),a.jsxs("div",{className:"zone-counts-arena",children:[a.jsxs("span",{children:["Deck: ",z.deck.length]}),a.jsxs("span",{children:["GY Cards: ",z.graveyard.length]}),a.jsxs("span",{children:["Tokens: ",z.fieldTokens.length]})]}),L==="game_active"&&a.jsx("button",{onClick:()=>Sr(!1),className:"create-token-button",children:"トークン生成"})]}),a.jsxs("div",{className:"playing-space-arena",children:[a.jsxs("div",{className:"deck-zone-arena my-deck-arena","aria-label":"あなたのデッキ",children:[a.jsx("button",{onClick:Pr,disabled:z.deck.length===0||L!=="game_active",className:"deck-pile-visual draw-button-on-deck",children:"Deck"}),a.jsx("span",{className:"count-overlay",children:z.deck.length})]}),a.jsxs("div",{className:`field-zone-arena my-field-arena mtg-card-zone ${Ci?"drop-target-active":""}`,"aria-label":"あなたのフィールド (手札からドラッグ&ドロップでプレイ可能)",onDragOver:s=>ol(s,"field"),onDrop:s=>dl(s,"field"),onDragEnter:()=>ul("field"),onDragLeave:()=>cl("field"),children:[Ra(z.field).map(s=>Lr(s,!0,!1)),z.fieldTokens.map((s,f)=>fl(s,f,!0,!1))]}),a.jsxs("div",{className:`graveyard-zone-arena my-graveyard-arena ${ji?"drop-target-graveyard-active":""}`,"aria-label":"あなたの墓地 (クリックで表示、手札/フィールドからドラッグ&ドロップで墓地へ)",onClick:()=>Pn("my"),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&Pn("my"),onDragOver:s=>ol(s,"graveyard"),onDrop:s=>dl(s,"graveyard"),onDragEnter:()=>ul("graveyard"),onDragLeave:()=>cl("graveyard"),children:[a.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),a.jsx("span",{className:"count-overlay",children:z.graveyard.length}),z.graveyard.length>0&&a.jsx("span",{className:"graveyard-top-card-preview",children:z.graveyard[z.graveyard.length-1].name})]})]}),L==="game_active"&&a.jsxs("div",{className:"notes-container my-notes-container",children:[a.jsx("button",{onClick:Oi,className:"add-note-button",children:"新しいメモを追加"}),z.myNotes.map(s=>a.jsxs("div",{className:"notes-area my-notes-area individual-note-area",children:[a.jsxs("div",{className:"notes-header",children:[a.jsx("input",{type:"text",value:s.title,onChange:f=>br(s.id,f.target.value),className:"notes-title-input","aria-label":`メモ「${s.title}」のタイトル`}),a.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]}),a.jsx("button",{onClick:()=>Jl(s.id),className:"notes-toggle-button","aria-pressed":s.isShared,"aria-label":s.isShared?`メモ「${s.title}」を非公開にする`:`メモ「${s.title}」を公開する`,children:s.isShared?"非公開":"公開"}),a.jsx("button",{onClick:()=>En(s.id),className:"notes-delete-button",disabled:z.myNotes.length<=1,"aria-label":`メモ「${s.title}」を削除`,children:"削除"})]}),a.jsx("textarea",{className:"notes-textarea scrollable-text",value:s.text,onChange:f=>Ql(s.id,f.target.value),placeholder:"ここにメモを入力...","aria-label":`メモ「${s.title}」の内容`})]},s.id))]}),a.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの手札",children:(L==="game_active"||L==="MULLIGAN"&&jt==="kept")&&z.hand.map((s,f)=>{const x=(F==null?void 0:F.type)==="card"&&F.data.id===s.id&&F.originalIndex===f&&F.fromZone==="hand"&&!F.isTestGame;return a.jsx(Vt,{card:s,context:"hand",isMyCard:!0,originalIndex:f,onDragStartItem:(w,P,U,ee,se)=>er(w,P,U,ee,se,!1),onDragEndItem:sl,isDraggable:L==="game_active",isDragging:x,isDisabled:L!=="game_active"},`${s.id}-myhand-${f}`)})})]})]}),L==="game_over"&&a.jsx("p",{children:"ゲーム終了！"})]}),he==="connected"&&L!=="game_active"&&L!=="MULLIGAN"&&a.jsxs("section",{className:"chat-section","aria-labelledby":"chat-heading",children:[a.jsx("h3",{id:"chat-heading",children:"チャット"}),a.jsx("div",{className:"chat-messages",role:"log","aria-live":"polite",ref:I,children:Re.map(s=>a.jsxs("div",{className:`chat-message ${s.sender}`,children:[a.jsx("p",{children:s.text}),a.jsx("span",{className:"timestamp",children:new Date(s.timestamp).toLocaleTimeString()})]},s.id))}),a.jsxs("div",{className:"chat-input-area",children:[a.jsx("input",{type:"text",value:Ze,onChange:s=>It(s.target.value),placeholder:"メッセージを入力...",onKeyPress:s=>s.key==="Enter"&&wr(),disabled:ue||Ie||he!=="connected","aria-label":"チャットメッセージ入力"}),a.jsx("button",{onClick:wr,disabled:ue||Ie||he!=="connected",children:"送信"})]})]}),L!=="game_active"&&L!=="MULLIGAN"&&a.jsxs("div",{style:{marginTop:"20px",fontSize:"0.8em",color:"#777"},children:[a.jsxs("p",{children:["あなたのピアID: ",b||"N/A"]}),a.jsxs("p",{children:["相手のピアID (判明時): ",ut||"N/A"]})]})]})},Ja=()=>{var u,c;return a.jsxs("div",{className:`view-container test-game-view ${W==="game_active"||W==="MULLIGAN"?"game-active-scrollable":""}`,children:[a.jsxs("header",{className:"room-header",children:[a.jsx("h2",{children:"テストゲーム画面"}),a.jsx("button",{onClick:()=>{H("main"),el()},className:"leave-button",children:"メインに戻る"})]}),Yn&&a.jsx("p",{className:"error-message room-error",role:"alert",children:Yn}),W==="deck_selection"&&a.jsxs("section",{className:"deck-selection-area","aria-labelledby":"test-deck-selection-heading",children:[a.jsx("h3",{id:"test-deck-selection-heading",children:"テスト用デッキを選択"}),G.length===0?a.jsx("p",{children:"プレイ可能なデッキがありません。デッキエディタで作成してください。"}):a.jsx("ul",{className:"deck-list game-deck-selector",children:G.map(s=>a.jsxs("li",{className:Qt===s.id?"selected":"",children:[s.name," (",s.cardIds.length,"枚)",a.jsx("button",{onClick:()=>tl(s.id),children:Qt===s.id?"選択中":"選択"})]},s.id))}),Qt&&a.jsxs("p",{children:["選択中のデッキ: ",(u=G.find(s=>s.id===Qt))==null?void 0:u.name," (",(c=G.find(s=>s.id===Qt))==null?void 0:c.cardIds.length,"枚)"]}),a.jsx("button",{onClick:$i,className:"start-game-button",disabled:!Qt,children:"テストゲーム開始"})]}),W==="MULLIGAN"&&$&&a.jsxs("section",{className:"mulligan-decision-area","aria-labelledby":"test-mulligan-heading",children:[a.jsx("h3",{id:"test-mulligan-heading",children:"マリガンフェイズ (ロンドンマリガン - テスト)"}),_t==="deciding"&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["現在のあなたの手札 (",$.hand.length,"枚、マリガン ",Ve,"回)。どうしますか？"]}),a.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの現在の手札（確認用）",children:$.hand.map((s,f)=>a.jsx(Vt,{card:s,context:"hand",isMyCard:!0,originalIndex:f,isDisabled:!0,isDraggable:!1},`${s.id}-mytestmulligandecide-${f}`))}),a.jsxs("div",{className:"mulligan-buttons",children:[a.jsxs("button",{onClick:nl,className:"mulligan-button keep",children:["手札をキープ (",$.hand.length,"枚)"]}),Ve<7&&a.jsxs("button",{onClick:rl,className:"mulligan-button mulligan",children:["マリガン (7枚引き、",Ve+1,"枚ボトムへ)"]}),Ve>=7&&a.jsxs("p",{children:["これ以上マリガンできません。この手札（",$.hand.length,"枚）をキープしてください。"]})]})]}),_t==="selecting_bottom"&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["マリガン ",Ve+1,"回目: 新しく7枚引きました。その中から ",Ve+1,"枚を選んでデッキの底に送ってください。"]}),a.jsxs("p",{children:["選択済み: ",Jt.length," / ",Ve+1," 枚"]}),a.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone mulligan-selection-hand",children:$.hand.map((s,f)=>a.jsx(Vt,{card:s,context:"hand",isMyCard:!0,originalIndex:f,onClick:()=>Et(f),isSelected:Jt.includes(f),isSelectable:!0,isDisabled:!1},`${s.id}-mytestmulliganselect-${f}`))}),a.jsxs("button",{onClick:Fi,disabled:Jt.length!==Ve+1,className:"confirm-bottom-selection-button",children:["選択完了 (",Ve+1,"枚ボトムへ)"]})]}),_t==="kept"&&a.jsx("p",{children:"手札をキープしました。ゲームを開始しています..."})]}),(W==="game_active"||W==="MULLIGAN"&&_t==="kept")&&$&&qe&&a.jsxs("section",{className:"game-section full-game-board-active","aria-labelledby":"test-game-board-heading",children:[a.jsx("h3",{id:"test-game-board-heading",className:"sr-only",children:"テストゲームボード"}),a.jsxs("div",{className:"game-board arena-style",children:[a.jsxs("div",{className:"player-area opponent-area-arena",children:[a.jsxs("div",{className:"player-info-bar arena-info-bar",children:[a.jsx("div",{className:"avatar-placeholder arena-avatar",children:"M"}),a.jsx("span",{className:"player-name-arena",children:"相手 (モック)"}),a.jsxs("div",{className:"life-display-arena",children:[a.jsx("span",{className:"life-label",children:"Life: "}),a.jsx("span",{className:"life-value",children:qe.life})]}),a.jsxs("div",{className:"zone-counts-arena",children:[a.jsxs("span",{children:["Hand: ",qe.handCount]}),a.jsxs("span",{children:["Deck: ",qe.deckCount]}),a.jsxs("span",{children:["GY Cards: ",qe.graveyard.length]}),a.jsxs("span",{children:["Tokens: ",qe.fieldTokens.length]})]})]}),a.jsxs("div",{className:"playing-space-arena",children:[a.jsxs("div",{className:"deck-zone-arena opponent-deck-arena","aria-label":"相手のデッキ(モック)",children:[a.jsx("div",{className:"deck-pile-visual",children:"Deck"}),a.jsx("span",{className:"count-overlay",children:qe.deckCount})]}),a.jsxs("div",{className:"field-zone-arena opponent-field-arena mtg-card-zone","aria-label":"相手のフィールド (モック)",children:[Ra(qe.field).map(s=>Lr(s,!1,!0)),qe.fieldTokens.map((s,f)=>fl(s,f,!1,!0))]}),a.jsxs("div",{className:"graveyard-zone-arena opponent-graveyard-arena","aria-label":"相手の墓地(モック) (クリックで表示)",onClick:()=>Pn("opponent",!0),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&Pn("opponent",!0),children:[a.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),a.jsx("span",{className:"count-overlay",children:qe.graveyard.length}),qe.graveyard.length>0&&a.jsx("span",{className:"graveyard-top-card-preview",children:qe.graveyard[qe.graveyard.length-1].name})]})]}),W==="game_active"&&a.jsx("div",{className:"notes-container opponent-notes-container",children:qe.opponentNotes.map(s=>a.jsxs("div",{className:"notes-area opponent-notes-area individual-note-area",children:[a.jsxs("div",{className:"notes-header",children:[a.jsx("span",{className:"notes-title",title:s.title,children:s.title}),a.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]})]}),s.isShared?a.jsx("div",{className:"notes-content scrollable-text",children:s.text||a.jsx("em",{children:"メモは空です"})}):a.jsx("div",{className:"notes-content hidden-notes",children:a.jsx("em",{children:"相手のメモは非公開です。"})})]},s.id))})]}),a.jsxs("div",{className:"player-area my-area-arena",children:[a.jsxs("div",{className:"player-info-bar arena-info-bar",children:[a.jsx("div",{className:"avatar-placeholder arena-avatar",children:"T"}),a.jsx("span",{className:"player-name-arena",children:"あなた (テスト)"}),a.jsxs("div",{className:"life-control-arena",children:[a.jsx("span",{className:"life-label",children:"Life: "}),a.jsx("button",{onClick:()=>Tn($.life-1),disabled:W!=="game_active","aria-label":"テストライフを1減らす",children:"-"}),a.jsx("input",{type:"number",value:$.life,onChange:s=>Tn(s.target.value),disabled:W!=="game_active",className:"life-input-arena","aria-label":"現在のテストライフ"}),a.jsx("button",{onClick:()=>Tn($.life+1),disabled:W!=="game_active","aria-label":"テストライフを1増やす",children:"+"})]}),a.jsxs("div",{className:"zone-counts-arena",children:[a.jsxs("span",{children:["Deck: ",$.deck.length]}),a.jsxs("span",{children:["GY Cards: ",$.graveyard.length]}),a.jsxs("span",{children:["Tokens: ",$.fieldTokens.length]})]}),W==="game_active"&&a.jsx("button",{onClick:()=>Sr(!0),className:"create-token-button",children:"テストトークン生成"})]}),a.jsxs("div",{className:"playing-space-arena",children:[a.jsxs("div",{className:"deck-zone-arena my-deck-arena","aria-label":"あなたのデッキ",children:[a.jsx("button",{onClick:Kl,disabled:$.deck.length===0||W!=="game_active",className:"deck-pile-visual draw-button-on-deck",children:"Deck"}),a.jsx("span",{className:"count-overlay",children:$.deck.length})]}),a.jsxs("div",{className:`field-zone-arena my-field-arena mtg-card-zone ${Ci&&(F!=null&&F.isTestGame)?"drop-target-active":""}`,"aria-label":"あなたのフィールド (手札からドラッグ&ドロップでプレイ可能)",onDragOver:s=>ol(s,"field"),onDrop:s=>dl(s,"field"),onDragEnter:()=>ul("field"),onDragLeave:()=>cl("field"),children:[Ra($.field).map(s=>Lr(s,!0,!0)),$.fieldTokens.map((s,f)=>fl(s,f,!0,!0))]}),a.jsxs("div",{className:`graveyard-zone-arena my-graveyard-arena ${ji&&(F!=null&&F.isTestGame)?"drop-target-graveyard-active":""}`,"aria-label":"あなたの墓地 (クリックで表示、手札/フィールドからドラッグ&ドロップで墓地へ)",onClick:()=>Pn("my",!0),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&Pn("my",!0),onDragOver:s=>ol(s,"graveyard"),onDrop:s=>dl(s,"graveyard"),onDragEnter:()=>ul("graveyard"),onDragLeave:()=>cl("graveyard"),children:[a.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),a.jsx("span",{className:"count-overlay",children:$.graveyard.length}),$.graveyard.length>0&&a.jsx("span",{className:"graveyard-top-card-preview",children:$.graveyard[$.graveyard.length-1].name})]})]}),W==="game_active"&&a.jsxs("div",{className:"notes-container my-notes-container",children:[a.jsx("button",{onClick:Ba,className:"add-note-button",children:"新しいテストメモを追加"}),$.myNotes.map(s=>a.jsxs("div",{className:"notes-area my-notes-area individual-note-area",children:[a.jsxs("div",{className:"notes-header",children:[a.jsx("input",{type:"text",value:s.title,onChange:f=>al(s.id,f.target.value),className:"notes-title-input","aria-label":`テストメモ「${s.title}」のタイトル`}),a.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]}),a.jsx("button",{onClick:()=>Ui(s.id),className:"notes-toggle-button","aria-pressed":s.isShared,"aria-label":s.isShared?`テストメモ「${s.title}」を非公開にする`:`テストメモ「${s.title}」を公開する`,children:s.isShared?"非公開":"公開"}),a.jsx("button",{onClick:()=>Ha(s.id),className:"notes-delete-button",disabled:$.myNotes.length<=1,"aria-label":`テストメモ「${s.title}」を削除`,children:"削除"})]}),a.jsx("textarea",{className:"notes-textarea scrollable-text",value:s.text,onChange:f=>Dr(s.id,f.target.value),placeholder:"テストメモを入力...","aria-label":`テストメモ「${s.title}」の内容`})]},s.id))]}),a.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの手札",children:(W==="game_active"||W==="MULLIGAN"&&_t==="kept")&&$.hand.map((s,f)=>{const x=(F==null?void 0:F.type)==="card"&&F.data.id===s.id&&F.originalIndex===f&&F.fromZone==="hand"&&F.isTestGame;return a.jsx(Vt,{card:s,context:"hand",isMyCard:!0,originalIndex:f,onDragStartItem:(w,P,U,ee,se)=>er(w,P,U,ee,se,!0),onDragEndItem:sl,isDraggable:W==="game_active",isDragging:x,isDisabled:W!=="game_active"},`${s.id}-mytest-hand-${f}`)})})]})]})]}),W==="game_over"&&a.jsx("p",{children:"テストゲーム終了。"})]})},Ka=()=>{switch(D){case"main":return Ai();case"room":return Qa();case"cardEditor":return Va();case"deckEditor":return Yl();case"tokenEditor":return Wa();case"testGameView":return Ja();default:return Ai()}};return a.jsxs("div",{className:`app-container ${D==="room"&&(L==="game_active"||L==="MULLIGAN")||D==="testGameView"&&["game_active","MULLIGAN"].includes(W)?"full-width-game game-active-bg":""}`,children:[Ka(),vr&&a.jsx("div",{className:"modal-overlay",onClick:Xn,role:"dialog","aria-modal":"true","aria-labelledby":"graveyard-modal-title",children:a.jsxs("div",{className:"modal-content graveyard-viewer-modal",onClick:u=>u.stopPropagation(),children:[a.jsxs("header",{className:"modal-header",children:[a.jsxs("h3",{id:"graveyard-modal-title",children:[an==="my"?"あなたの墓地":"相手の墓地"," (",Kr.length,"枚)"]}),a.jsx("button",{onClick:Xn,className:"modal-close-button","aria-label":"閉じる",children:"×"})]}),a.jsx("div",{className:"modal-body mtg-card-grid graveyard-cards-display",children:Kr.length===0?a.jsx("p",{children:"墓地は空です。"}):Kr.map((u,c)=>a.jsx(Vt,{card:u,context:"graveyard-viewer",isMyCard:an==="my",originalIndex:c,onMoveFromGraveyardToHand:an==="my"?D==="room"?(s,f)=>Ri(s,f,"hand"):(s,f)=>il(s,f,"hand"):void 0,onMoveFromGraveyardToField:an==="my"?D==="room"?(s,f)=>Ri(s,f,"field"):(s,f)=>il(s,f,"field"):void 0,isGameActive:D==="room"?L==="game_active":W==="game_active"},`${u.id}-gyview-${c}-${an}`))})]})}),Oa&&a.jsx("div",{className:"modal-overlay",onClick:ft,role:"dialog","aria-modal":"true","aria-labelledby":"create-token-modal-title",children:a.jsxs("div",{className:"modal-content create-token-modal",onClick:u=>u.stopPropagation(),children:[a.jsxs("header",{className:"modal-header",children:[a.jsx("h3",{id:"create-token-modal-title",children:"トークンを生成"}),a.jsx("button",{onClick:ft,className:"modal-close-button","aria-label":"閉じる",children:"×"})]}),a.jsx("div",{className:"modal-body mtg-card-grid token-selector-list",children:q.length===0?a.jsx("p",{children:"利用可能なトークン定義がありません。トークンエディタで作成してください。"}):q.map(u=>a.jsx(Vt,{tokenInstance:{instanceId:u.id,definition:u},isTokenDisplay:!0,context:"token-selector",onClick:()=>wi?Ga(u.id):qn(u.id),isSelectable:!0,isMyCard:!0},u.id))})]})})]})}const Rc=document.getElementById("root");Rc&&Yd.createRoot(Rc).render(a.jsxs(Bd.StrictMode,{children:[" ",a.jsx(qd,{})," "]}));
