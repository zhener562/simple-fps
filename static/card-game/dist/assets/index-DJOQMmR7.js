(function(){const H=document.createElement("link").relList;if(H&&H.supports&&H.supports("modulepreload"))return;for(const J of document.querySelectorAll('link[rel="modulepreload"]'))te(J);new MutationObserver(J=>{for(const le of J)if(le.type==="childList")for(const fe of le.addedNodes)fe.tagName==="LINK"&&fe.rel==="modulepreload"&&te(fe)}).observe(document,{childList:!0,subtree:!0});function x(J){const le={};return J.integrity&&(le.integrity=J.integrity),J.referrerPolicy&&(le.referrerPolicy=J.referrerPolicy),J.crossOrigin==="use-credentials"?le.credentials="include":J.crossOrigin==="anonymous"?le.credentials="omit":le.credentials="same-origin",le}function te(J){if(J.ep)return;J.ep=!0;const le=x(J);fetch(J.href,le)}})();function Wc(D){return D&&D.__esModule&&Object.prototype.hasOwnProperty.call(D,"default")?D.default:D}var To={exports:{}},_a={},Do={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc;function Ud(){if(Rc)return de;Rc=1;var D=Symbol.for("react.element"),H=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),fe=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),Ke=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Pe=Symbol.iterator;function W(h){return h===null||typeof h!="object"?null:(h=Pe&&h[Pe]||h["@@iterator"],typeof h=="function"?h:null)}var Ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ct=Object.assign,ge={};function ie(h,N,re){this.props=h,this.context=N,this.refs=ge,this.updater=re||Ne}ie.prototype.isReactComponent={},ie.prototype.setState=function(h,N){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,N,"setState")},ie.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function Ye(){}Ye.prototype=ie.prototype;function dt(h,N,re){this.props=h,this.context=N,this.refs=ge,this.updater=re||Ne}var qe=dt.prototype=new Ye;qe.constructor=dt,ct(qe,ie.prototype),qe.isPureReactComponent=!0;var Oe=Array.isArray,oe=Object.prototype.hasOwnProperty,$e={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function be(h,N,re){var ne,ce={},me=null,_e=null;if(N!=null)for(ne in N.ref!==void 0&&(_e=N.ref),N.key!==void 0&&(me=""+N.key),N)oe.call(N,ne)&&!R.hasOwnProperty(ne)&&(ce[ne]=N[ne]);var ye=arguments.length-2;if(ye===1)ce.children=re;else if(1<ye){for(var Ee=Array(ye),Te=0;Te<ye;Te++)Ee[Te]=arguments[Te+2];ce.children=Ee}if(h&&h.defaultProps)for(ne in ye=h.defaultProps,ye)ce[ne]===void 0&&(ce[ne]=ye[ne]);return{$$typeof:D,type:h,key:me,ref:_e,props:ce,_owner:$e.current}}function Rt(h,N){return{$$typeof:D,type:h.type,key:N,ref:h.ref,props:h.props,_owner:h._owner}}function ae(h){return typeof h=="object"&&h!==null&&h.$$typeof===D}function je(h){var N={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(re){return N[re]})}var K=/\/+/g;function ft(h,N){return typeof h=="object"&&h!==null&&h.key!=null?je(""+h.key):N.toString(36)}function pt(h,N,re,ne,ce){var me=typeof h;(me==="undefined"||me==="boolean")&&(h=null);var _e=!1;if(h===null)_e=!0;else switch(me){case"string":case"number":_e=!0;break;case"object":switch(h.$$typeof){case D:case H:_e=!0}}if(_e)return _e=h,ce=ce(_e),h=ne===""?"."+ft(_e,0):ne,Oe(ce)?(re="",h!=null&&(re=h.replace(K,"$&/")+"/"),pt(ce,N,re,"",function(Te){return Te})):ce!=null&&(ae(ce)&&(ce=Rt(ce,re+(!ce.key||_e&&_e.key===ce.key?"":(""+ce.key).replace(K,"$&/")+"/")+h)),N.push(ce)),1;if(_e=0,ne=ne===""?".":ne+":",Oe(h))for(var ye=0;ye<h.length;ye++){me=h[ye];var Ee=ne+ft(me,ye);_e+=pt(me,N,re,Ee,ce)}else if(Ee=W(h),typeof Ee=="function")for(h=Ee.call(h),ye=0;!(me=h.next()).done;)me=me.value,Ee=ne+ft(me,ye++),_e+=pt(me,N,re,Ee,ce);else if(me==="object")throw N=String(h),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return _e}function ve(h,N,re){if(h==null)return h;var ne=[],ce=0;return pt(h,ne,"","",function(me){return N.call(re,me,ce++)}),ne}function ke(h){if(h._status===-1){var N=h._result;N=N(),N.then(function(re){(h._status===0||h._status===-1)&&(h._status=1,h._result=re)},function(re){(h._status===0||h._status===-1)&&(h._status=2,h._result=re)}),h._status===-1&&(h._status=0,h._result=N)}if(h._status===1)return h._result.default;throw h._result}var Ie={current:null},I={transition:null},Y={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:I,ReactCurrentOwner:$e};function M(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:ve,forEach:function(h,N,re){ve(h,function(){N.apply(this,arguments)},re)},count:function(h){var N=0;return ve(h,function(){N++}),N},toArray:function(h){return ve(h,function(N){return N})||[]},only:function(h){if(!ae(h))throw Error("React.Children.only expected to receive a single React element child.");return h}},de.Component=ie,de.Fragment=x,de.Profiler=J,de.PureComponent=dt,de.StrictMode=te,de.Suspense=se,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,de.act=M,de.cloneElement=function(h,N,re){if(h==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+h+".");var ne=ct({},h.props),ce=h.key,me=h.ref,_e=h._owner;if(N!=null){if(N.ref!==void 0&&(me=N.ref,_e=$e.current),N.key!==void 0&&(ce=""+N.key),h.type&&h.type.defaultProps)var ye=h.type.defaultProps;for(Ee in N)oe.call(N,Ee)&&!R.hasOwnProperty(Ee)&&(ne[Ee]=N[Ee]===void 0&&ye!==void 0?ye[Ee]:N[Ee])}var Ee=arguments.length-2;if(Ee===1)ne.children=re;else if(1<Ee){ye=Array(Ee);for(var Te=0;Te<Ee;Te++)ye[Te]=arguments[Te+2];ne.children=ye}return{$$typeof:D,type:h.type,key:ce,ref:me,props:ne,_owner:_e}},de.createContext=function(h){return h={$$typeof:fe,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},h.Provider={$$typeof:le,_context:h},h.Consumer=h},de.createElement=be,de.createFactory=function(h){var N=be.bind(null,h);return N.type=h,N},de.createRef=function(){return{current:null}},de.forwardRef=function(h){return{$$typeof:w,render:h}},de.isValidElement=ae,de.lazy=function(h){return{$$typeof:Re,_payload:{_status:-1,_result:h},_init:ke}},de.memo=function(h,N){return{$$typeof:Ke,type:h,compare:N===void 0?null:N}},de.startTransition=function(h){var N=I.transition;I.transition={};try{h()}finally{I.transition=N}},de.unstable_act=M,de.useCallback=function(h,N){return Ie.current.useCallback(h,N)},de.useContext=function(h){return Ie.current.useContext(h)},de.useDebugValue=function(){},de.useDeferredValue=function(h){return Ie.current.useDeferredValue(h)},de.useEffect=function(h,N){return Ie.current.useEffect(h,N)},de.useId=function(){return Ie.current.useId()},de.useImperativeHandle=function(h,N,re){return Ie.current.useImperativeHandle(h,N,re)},de.useInsertionEffect=function(h,N){return Ie.current.useInsertionEffect(h,N)},de.useLayoutEffect=function(h,N){return Ie.current.useLayoutEffect(h,N)},de.useMemo=function(h,N){return Ie.current.useMemo(h,N)},de.useReducer=function(h,N,re){return Ie.current.useReducer(h,N,re)},de.useRef=function(h){return Ie.current.useRef(h)},de.useState=function(h){return Ie.current.useState(h)},de.useSyncExternalStore=function(h,N,re){return Ie.current.useSyncExternalStore(h,N,re)},de.useTransition=function(){return Ie.current.useTransition()},de.version="18.3.1",de}var Mc;function Oo(){return Mc||(Mc=1,Do.exports=Ud()),Do.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc;function Ad(){if(Oc)return _a;Oc=1;var D=Oo(),H=Symbol.for("react.element"),x=Symbol.for("react.fragment"),te=Object.prototype.hasOwnProperty,J=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,le={key:!0,ref:!0,__self:!0,__source:!0};function fe(w,se,Ke){var Re,Pe={},W=null,Ne=null;Ke!==void 0&&(W=""+Ke),se.key!==void 0&&(W=""+se.key),se.ref!==void 0&&(Ne=se.ref);for(Re in se)te.call(se,Re)&&!le.hasOwnProperty(Re)&&(Pe[Re]=se[Re]);if(w&&w.defaultProps)for(Re in se=w.defaultProps,se)Pe[Re]===void 0&&(Pe[Re]=se[Re]);return{$$typeof:H,type:w,key:W,ref:Ne,props:Pe,_owner:J.current}}return _a.Fragment=x,_a.jsx=fe,_a.jsxs=fe,_a}var zc;function Gd(){return zc||(zc=1,To.exports=Ad()),To.exports}var i=Gd(),C=Oo();const Bd=Wc(C);var Ui={},Lo={exports:{}},At={},Ro={exports:{}},Mo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c;function Hd(){return $c||($c=1,function(D){function H(I,Y){var M=I.length;I.push(Y);e:for(;0<M;){var h=M-1>>>1,N=I[h];if(0<J(N,Y))I[h]=Y,I[M]=N,M=h;else break e}}function x(I){return I.length===0?null:I[0]}function te(I){if(I.length===0)return null;var Y=I[0],M=I.pop();if(M!==Y){I[0]=M;e:for(var h=0,N=I.length,re=N>>>1;h<re;){var ne=2*(h+1)-1,ce=I[ne],me=ne+1,_e=I[me];if(0>J(ce,M))me<N&&0>J(_e,ce)?(I[h]=_e,I[me]=M,h=me):(I[h]=ce,I[ne]=M,h=ne);else if(me<N&&0>J(_e,M))I[h]=_e,I[me]=M,h=me;else break e}}return Y}function J(I,Y){var M=I.sortIndex-Y.sortIndex;return M!==0?M:I.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var le=performance;D.unstable_now=function(){return le.now()}}else{var fe=Date,w=fe.now();D.unstable_now=function(){return fe.now()-w}}var se=[],Ke=[],Re=1,Pe=null,W=3,Ne=!1,ct=!1,ge=!1,ie=typeof setTimeout=="function"?setTimeout:null,Ye=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function qe(I){for(var Y=x(Ke);Y!==null;){if(Y.callback===null)te(Ke);else if(Y.startTime<=I)te(Ke),Y.sortIndex=Y.expirationTime,H(se,Y);else break;Y=x(Ke)}}function Oe(I){if(ge=!1,qe(I),!ct)if(x(se)!==null)ct=!0,ke(oe);else{var Y=x(Ke);Y!==null&&Ie(Oe,Y.startTime-I)}}function oe(I,Y){ct=!1,ge&&(ge=!1,Ye(be),be=-1),Ne=!0;var M=W;try{for(qe(Y),Pe=x(se);Pe!==null&&(!(Pe.expirationTime>Y)||I&&!je());){var h=Pe.callback;if(typeof h=="function"){Pe.callback=null,W=Pe.priorityLevel;var N=h(Pe.expirationTime<=Y);Y=D.unstable_now(),typeof N=="function"?Pe.callback=N:Pe===x(se)&&te(se),qe(Y)}else te(se);Pe=x(se)}if(Pe!==null)var re=!0;else{var ne=x(Ke);ne!==null&&Ie(Oe,ne.startTime-Y),re=!1}return re}finally{Pe=null,W=M,Ne=!1}}var $e=!1,R=null,be=-1,Rt=5,ae=-1;function je(){return!(D.unstable_now()-ae<Rt)}function K(){if(R!==null){var I=D.unstable_now();ae=I;var Y=!0;try{Y=R(!0,I)}finally{Y?ft():($e=!1,R=null)}}else $e=!1}var ft;if(typeof dt=="function")ft=function(){dt(K)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,ve=pt.port2;pt.port1.onmessage=K,ft=function(){ve.postMessage(null)}}else ft=function(){ie(K,0)};function ke(I){R=I,$e||($e=!0,ft())}function Ie(I,Y){be=ie(function(){I(D.unstable_now())},Y)}D.unstable_IdlePriority=5,D.unstable_ImmediatePriority=1,D.unstable_LowPriority=4,D.unstable_NormalPriority=3,D.unstable_Profiling=null,D.unstable_UserBlockingPriority=2,D.unstable_cancelCallback=function(I){I.callback=null},D.unstable_continueExecution=function(){ct||Ne||(ct=!0,ke(oe))},D.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rt=0<I?Math.floor(1e3/I):5},D.unstable_getCurrentPriorityLevel=function(){return W},D.unstable_getFirstCallbackNode=function(){return x(se)},D.unstable_next=function(I){switch(W){case 1:case 2:case 3:var Y=3;break;default:Y=W}var M=W;W=Y;try{return I()}finally{W=M}},D.unstable_pauseExecution=function(){},D.unstable_requestPaint=function(){},D.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var M=W;W=I;try{return Y()}finally{W=M}},D.unstable_scheduleCallback=function(I,Y,M){var h=D.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?h+M:h):M=h,I){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=M+N,I={id:Re++,callback:Y,priorityLevel:I,startTime:M,expirationTime:N,sortIndex:-1},M>h?(I.sortIndex=M,H(Ke,I),x(se)===null&&I===x(Ke)&&(ge?(Ye(be),be=-1):ge=!0,Ie(Oe,M-h))):(I.sortIndex=N,H(se,I),ct||Ne||(ct=!0,ke(oe))),I},D.unstable_shouldYield=je,D.unstable_wrapCallback=function(I){var Y=W;return function(){var M=W;W=Y;try{return I.apply(this,arguments)}finally{W=M}}}}(Mo)),Mo}var Fc;function Vd(){return Fc||(Fc=1,Ro.exports=Hd()),Ro.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc;function Wd(){if(Uc)return At;Uc=1;var D=Oo(),H=Vd();function x(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var te=new Set,J={};function le(e,t){fe(e,t),fe(e+"Capture",t)}function fe(e,t){for(J[e]=t,e=0;e<t.length;e++)te.add(t[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),se=Object.prototype.hasOwnProperty,Ke=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Re={},Pe={};function W(e){return se.call(Pe,e)?!0:se.call(Re,e)?!1:Ke.test(e)?Pe[e]=!0:(Re[e]=!0,!1)}function Ne(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ct(e,t,n,r){if(t===null||typeof t>"u"||Ne(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ge(e,t,n,r,l,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ie[e]=new ge(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ie[t]=new ge(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ie[e]=new ge(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ie[e]=new ge(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ie[e]=new ge(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ie[e]=new ge(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){ie[e]=new ge(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){ie[e]=new ge(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){ie[e]=new ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ye=/[\-:]([a-z])/g;function dt(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ye,dt);ie[t]=new ge(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ye,dt);ie[t]=new ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ye,dt);ie[t]=new ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){ie[e]=new ge(e,1,!1,e.toLowerCase(),null,!1,!1)}),ie.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){ie[e]=new ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function qe(e,t,n,r){var l=ie.hasOwnProperty(t)?ie[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ct(t,n,l,r)&&(n=null),r||l===null?W(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Oe=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),$e=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),Rt=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),je=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),I=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var M=Object.assign,h;function N(e){if(h===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);h=t&&t[1]||""}return`
`+h+e}var re=!1;function ne(e,t){if(!e||re)return"";re=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(k){var r=k}Reflect.construct(e,[],t)}else{try{t.call()}catch(k){r=k}e.call(t.prototype)}else{try{throw Error()}catch(k){r=k}e()}}catch(k){if(k&&r&&typeof k.stack=="string"){for(var l=k.stack.split(`
`),a=r.stack.split(`
`),u=l.length-1,f=a.length-1;1<=u&&0<=f&&l[u]!==a[f];)f--;for(;1<=u&&0<=f;u--,f--)if(l[u]!==a[f]){if(u!==1||f!==1)do if(u--,f--,0>f||l[u]!==a[f]){var p=`
`+l[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=f);break}}}finally{re=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function ce(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case $e:return"Portal";case Rt:return"Profiler";case be:return"StrictMode";case ft:return"Suspense";case pt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case je:return(e.displayName||"Context")+".Consumer";case ae:return(e._context.displayName||"Context")+".Provider";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case ke:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}function _e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(t);case 8:return t===be?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Te(e){var t=Ee(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fe(e){e._valueTracker||(e._valueTracker=Te(e))}function Dr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ee(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jn(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Hn(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ye(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lt(e,t){t=t.checked,t!=null&&qe(e,"checked",t,!1)}function ir(e,t){lt(e,t);var n=ye(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vn(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vn(e,t.type,ye(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function De(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vn(e,t,n){(t!=="number"||fn(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var He=Array.isArray;function Zt(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function qt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(x(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lr(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(x(92));if(He(n)){if(1<n.length)throw Error(x(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function bt(e,t){var n=ye(t.value),r=ye(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _n(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function or(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_n(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gt,En=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gt=Gt||document.createElement("div"),Gt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},et=["Webkit","ms","Moz","O"];Object.keys(Pn).forEach(function(e){et.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pn[t]=Pn[e]})});function In(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pn.hasOwnProperty(e)&&Pn[e]?(""+t).trim():t+"px"}function L(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=In(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var en=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O(e,t){if(t){if(en[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(x(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(x(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(x(61))}if(t.style!=null&&typeof t.style!="object")throw Error(x(62))}}function kt(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function jt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var at=null,Wn=null,Xe=null;function Bl(e){if(e=da(e)){if(typeof at!="function")throw Error(x(280));var t=e.stateNode;t&&(t=ei(t),at(e.stateNode,e.type,t))}}function Hl(e){Wn?Xe?Xe.push(e):Xe=[e]:Wn=e}function ur(){if(Wn){var e=Wn,t=Xe;if(Xe=Wn=null,Bl(e),t)for(e=0;e<t.length;e++)Bl(t[e])}}function tt(e,t){return e(t)}function Rr(){}var il=!1;function Mr(e,t,n){if(il)return e(t,n);il=!0;try{return tt(e,t,n)}finally{il=!1,(Wn!==null||Xe!==null)&&(Rr(),ur())}}function xt(e,t){var n=e.stateNode;if(n===null)return null;var r=ei(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(x(231,t,typeof n));return n}var Tn=!1;if(w)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{Tn=!1}function Or(e,t,n,r,l,a,u,f,p){var k=Array.prototype.slice.call(arguments,3);try{t.apply(n,k)}catch(_){this.onError(_)}}var Bt=!1,pn=null,Q=!1,zr=null,U={onError:function(e){Bt=!0,pn=e}};function mt(e,t,n,r,l,a,u,f,p){Bt=!1,pn=null,Or.apply(U,arguments)}function it(e,t,n,r,l,a,u,f,p){if(mt.apply(this,arguments),Bt){if(Bt){var k=pn;Bt=!1,pn=null}else throw Error(x(198));Q||(Q=!0,zr=k)}}function Dn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mn(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vl(e){if(Dn(e)!==e)throw Error(x(188))}function Pa(e){var t=e.alternate;if(!t){if(t=Dn(e),t===null)throw Error(x(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Vl(l),e;if(a===r)return Vl(l),t;a=a.sibling}throw Error(x(188))}if(n.return!==r.return)n=l,r=a;else{for(var u=!1,f=l.child;f;){if(f===n){u=!0,n=l,r=a;break}if(f===r){u=!0,r=l,n=a;break}f=f.sibling}if(!u){for(f=a.child;f;){if(f===n){u=!0,n=a,r=l;break}if(f===r){u=!0,r=a,n=l;break}f=f.sibling}if(!u)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?e:t}function Ce(e){return e=Pa(e),e!==null?st(e):null}function st(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=st(e);if(t!==null)return t;e=e.sibling}return null}var sl=H.unstable_scheduleCallback,tn=H.unstable_cancelCallback,$r=H.unstable_shouldYield,Jn=H.unstable_requestPaint,Me=H.unstable_now,Fr=H.unstable_getCurrentPriorityLevel,ol=H.unstable_ImmediatePriority,nn=H.unstable_UserBlockingPriority,Ur=H.unstable_NormalPriority,Wl=H.unstable_LowPriority,Ar=H.unstable_IdlePriority,ul=null,Ht=null;function Gi(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ul,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Ia,G=Math.log,Ql=Math.LN2;function Ia(e){return e>>>=0,e===0?32:31-(G(e)/Ql|0)|0}var Ln=64,Gr=4194304;function hn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kn(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~l;f!==0?r=hn(f):(a&=u,a!==0&&(r=hn(a)))}else u=n&~l,u!==0?r=hn(u):a!==0&&(r=hn(a));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vt(t),l=1<<n,r|=e[n],t&=~l;return r}function Ta(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ht(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Vt(a),f=1<<u,p=l[u];p===-1?((f&n)===0||(f&r)!==0)&&(l[u]=Ta(f,t)):p<=t&&(e.expiredLanes|=f),a&=~f}}function Yn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jl(){var e=Ln;return Ln<<=1,(Ln&4194240)===0&&(Ln=64),e}function gn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=n}function Da(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Vt(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function rn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var he=0;function yn(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Kl,Yl,La,Br,Ra,Xl=!1,cl=[],St=null,vn=null,Rn=null,cr=new Map,dr=new Map,Mn=[],Bi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ma(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(t.pointerId)}}function ln(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=da(t),t!==null&&Yl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Hi(e,t,n,r,l){switch(t){case"focusin":return St=ln(St,e,t,n,r,l),!0;case"dragenter":return vn=ln(vn,e,t,n,r,l),!0;case"mouseover":return Rn=ln(Rn,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return cr.set(a,ln(cr.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,dr.set(a,ln(dr.get(a)||null,e,t,n,r,l)),!0}return!1}function Oa(e){var t=Kr(e.target);if(t!==null){var n=Dn(t);if(n!==null){if(t=n.tag,t===13){if(t=mn(n),t!==null){e.blockedOn=t,Ra(e.priority,function(){La(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ql(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null}else return t=da(n),t!==null&&Yl(t),e.blockedOn=n,!1;t.shift()}return!0}function za(e,t,n){dl(e)&&n.delete(t)}function Vi(){Xl=!1,St!==null&&dl(St)&&(St=null),vn!==null&&dl(vn)&&(vn=null),Rn!==null&&dl(Rn)&&(Rn=null),cr.forEach(za),dr.forEach(za)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Xl||(Xl=!0,H.unstable_scheduleCallback(H.unstable_NormalPriority,Vi)))}function Hr(e){function t(l){return Wt(l,e)}if(0<cl.length){Wt(cl[0],e);for(var n=1;n<cl.length;n++){var r=cl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(St!==null&&Wt(St,e),vn!==null&&Wt(vn,e),Rn!==null&&Wt(Rn,e),cr.forEach(t),dr.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)Oa(n),n.blockedOn===null&&Mn.shift()}var fr=Oe.ReactCurrentBatchConfig,fl=!0;function Wi(e,t,n,r){var l=he,a=fr.transition;fr.transition=null;try{he=1,Zl(e,t,n,r)}finally{he=l,fr.transition=a}}function Qi(e,t,n,r){var l=he,a=fr.transition;fr.transition=null;try{he=4,Zl(e,t,n,r)}finally{he=l,fr.transition=a}}function Zl(e,t,n,r){if(fl){var l=ql(e,t,n,r);if(l===null)ks(e,t,r,pl,n),Ma(e,r);else if(Hi(l,e,t,n,r))r.stopPropagation();else if(Ma(e,r),t&4&&-1<Bi.indexOf(e)){for(;l!==null;){var a=da(l);if(a!==null&&Kl(a),a=ql(e,t,n,r),a===null&&ks(e,t,r,pl,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else ks(e,t,r,null,n)}}var pl=null;function ql(e,t,n,r){if(pl=null,e=jt(r),e=Kr(e),e!==null)if(t=Dn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mn(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pl=e,null}function $a(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fr()){case ol:return 1;case nn:return 4;case Ur:case Wl:return 16;case Ar:return 536870912;default:return 16}default:return 16}}var On=null,bl=null,ml=null;function Fa(){if(ml)return ml;var e,t=bl,n=t.length,r,l="value"in On?On.value:On.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===l[a-r];r++);return ml=l.slice(e,1<r?1-r:void 0)}function hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function Ua(){return!1}function Tt(e){function t(n,r,l,a,u){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(a):a[f]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?gl:Ua,this.isPropagationStopped=Ua,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),t}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Tt(pr),Zn=M({},pr,{view:0,detail:0}),Ji=Tt(Zn),yl,ta,mr,Vr=M({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mr&&(mr&&e.type==="mousemove"?(yl=e.screenX-mr.screenX,ta=e.screenY-mr.screenY):ta=yl=0,mr=e),yl)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),Qt=Tt(Vr),Ki=M({},Vr,{dataTransfer:0}),Yi=Tt(Ki),Xi=M({},Zn,{relatedTarget:0}),na=Tt(Xi),Zi=M({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=Tt(Zi),qi=M({},pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bi=Tt(qi),es=M({},pr,{data:0}),Ga=Tt(es),ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ns={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ra={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ra[e])?!!t[e]:!1}function vl(){return rs}var ls=M({},Zn,{key:function(e){if(e.key){var t=ts[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ns[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vl,charCode:function(e){return e.type==="keypress"?hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ba=Tt(ls),Ha=M({},Vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Va=Tt(Ha),as=M({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vl}),is=Tt(as),ss=M({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),os=Tt(ss),zn=M({},Vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kl=Tt(zn),xl=[9,13,27,32],hr=w&&"CompositionEvent"in window,$n=null;w&&"documentMode"in document&&($n=document.documentMode);var Sl=w&&"TextEvent"in window&&!$n,Wr=w&&(!hr||$n&&8<$n&&11>=$n),Qr=" ",Jr=!1;function la(e,t){switch(e){case"keyup":return xl.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function us(e,t){switch(e){case"compositionend":return Wa(t);case"keypress":return t.which!==32?null:(Jr=!0,Qr);case"textInput":return e=t.data,e===Qr&&Jr?null:e;default:return null}}function cs(e,t){if(gr)return e==="compositionend"||!hr&&la(e,t)?(e=Fa(),ml=bl=On=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wr&&t.locale!=="ko"?null:t.data;default:return null}}var ds={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ds[e.type]:t==="textarea"}function o(e,t,n,r){Hl(r),t=Za(t,"onChange"),0<t.length&&(n=new ea("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var c=null,s=null;function d(e){Yo(e,0)}function g(e){var t=_l(e);if(Dr(t))return e}function S(e,t){if(e==="change")return t}var T=!1;if(w){var z;if(w){var b="oninput"in document;if(!b){var pe=document.createElement("div");pe.setAttribute("oninput","return;"),b=typeof pe.oninput=="function"}z=b}else z=!1;T=z&&(!document.documentMode||9<document.documentMode)}function Ge(){c&&(c.detachEvent("onpropertychange",Le),s=c=null)}function Le(e){if(e.propertyName==="value"&&g(s)){var t=[];o(t,s,e,jt(e)),Mr(d,t)}}function ue(e,t,n){e==="focusin"?(Ge(),c=t,s=n,c.attachEvent("onpropertychange",Le)):e==="focusout"&&Ge()}function Qe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return g(s)}function kn(e,t){if(e==="click")return g(t)}function Fn(e,t){if(e==="input"||e==="change")return g(t)}function Ja(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:Ja;function aa(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!se.call(t,l)||!Mt(e[l],t[l]))return!1}return!0}function zo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $o(e,t){var n=zo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zo(n)}}function Fo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uo(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fn(e.document)}return t}function fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qc(e){var t=Uo(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fo(n.ownerDocument.documentElement,n)){if(r!==null&&fs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=$o(n,a);var u=$o(n,r);l&&u&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jc=w&&"documentMode"in document&&11>=document.documentMode,wl=null,ps=null,ia=null,ms=!1;function Ao(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ms||wl==null||wl!==fn(r)||(r=wl,"selectionStart"in r&&fs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ia&&aa(ia,r)||(ia=r,r=Za(ps,"onSelect"),0<r.length&&(t=new ea("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wl)))}function Ka(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cl={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},hs={},Go={};w&&(Go=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Ya(e){if(hs[e])return hs[e];if(!Cl[e])return e;var t=Cl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Go)return hs[e]=t[n];return e}var Bo=Ya("animationend"),Ho=Ya("animationiteration"),Vo=Ya("animationstart"),Wo=Ya("transitionend"),Qo=new Map,Jo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(e,t){Qo.set(e,t),le(t,[e])}for(var gs=0;gs<Jo.length;gs++){var ys=Jo[gs],Kc=ys.toLowerCase(),Yc=ys[0].toUpperCase()+ys.slice(1);yr(Kc,"on"+Yc)}yr(Bo,"onAnimationEnd"),yr(Ho,"onAnimationIteration"),yr(Vo,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(Wo,"onTransitionEnd"),fe("onMouseEnter",["mouseout","mouseover"]),fe("onMouseLeave",["mouseout","mouseover"]),fe("onPointerEnter",["pointerout","pointerover"]),fe("onPointerLeave",["pointerout","pointerover"]),le("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),le("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),le("onBeforeInput",["compositionend","keypress","textInput","paste"]),le("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xc=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function Ko(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,it(r,t,void 0,e),e.currentTarget=null}function Yo(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var f=r[u],p=f.instance,k=f.currentTarget;if(f=f.listener,p!==a&&l.isPropagationStopped())break e;Ko(l,f,k),a=p}else for(u=0;u<r.length;u++){if(f=r[u],p=f.instance,k=f.currentTarget,f=f.listener,p!==a&&l.isPropagationStopped())break e;Ko(l,f,k),a=p}}}if(Q)throw e=zr,Q=!1,zr=null,e}function Ue(e,t){var n=t[js];n===void 0&&(n=t[js]=new Set);var r=e+"__bubble";n.has(r)||(Xo(t,e,2,!1),n.add(r))}function vs(e,t,n){var r=0;t&&(r|=4),Xo(n,e,r,t)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function oa(e){if(!e[Xa]){e[Xa]=!0,te.forEach(function(n){n!=="selectionchange"&&(Xc.has(n)||vs(n,!1,e),vs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xa]||(t[Xa]=!0,vs("selectionchange",!1,t))}}function Xo(e,t,n,r){switch($a(t)){case 1:var l=Wi;break;case 4:l=Qi;break;default:l=Zl}n=l.bind(null,t,n,e),l=void 0,!Tn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ks(e,t,n,r,l){var a=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var f=r.stateNode.containerInfo;if(f===l||f.nodeType===8&&f.parentNode===l)break;if(u===4)for(u=r.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===l||p.nodeType===8&&p.parentNode===l))return;u=u.return}for(;f!==null;){if(u=Kr(f),u===null)return;if(p=u.tag,p===5||p===6){r=a=u;continue e}f=f.parentNode}}r=r.return}Mr(function(){var k=a,_=jt(n),E=[];e:{var j=Qo.get(e);if(j!==void 0){var $=ea,A=e;switch(e){case"keypress":if(hl(n)===0)break e;case"keydown":case"keyup":$=Ba;break;case"focusin":A="focus",$=na;break;case"focusout":A="blur",$=na;break;case"beforeblur":case"afterblur":$=na;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Yi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=is;break;case Bo:case Ho:case Vo:$=Aa;break;case Wo:$=os;break;case"scroll":$=Ji;break;case"wheel":$=kl;break;case"copy":case"cut":case"paste":$=bi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Va}var B=(t&4)!==0,Ze=!B&&e==="scroll",y=B?j!==null?j+"Capture":null:j;B=[];for(var m=k,v;m!==null;){v=m;var P=v.stateNode;if(v.tag===5&&P!==null&&(v=P,y!==null&&(P=xt(m,y),P!=null&&B.push(ua(m,P,v)))),Ze)break;m=m.return}0<B.length&&(j=new $(j,A,null,n,_),E.push({event:j,listeners:B}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",j&&n!==xe&&(A=n.relatedTarget||n.fromElement)&&(Kr(A)||A[qn]))break e;if(($||j)&&(j=_.window===_?_:(j=_.ownerDocument)?j.defaultView||j.parentWindow:window,$?(A=n.relatedTarget||n.toElement,$=k,A=A?Kr(A):null,A!==null&&(Ze=Dn(A),A!==Ze||A.tag!==5&&A.tag!==6)&&(A=null)):($=null,A=k),$!==A)){if(B=Qt,P="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(B=Va,P="onPointerLeave",y="onPointerEnter",m="pointer"),Ze=$==null?j:_l($),v=A==null?j:_l(A),j=new B(P,m+"leave",$,n,_),j.target=Ze,j.relatedTarget=v,P=null,Kr(_)===k&&(B=new B(y,m+"enter",A,n,_),B.target=v,B.relatedTarget=Ze,P=B),Ze=P,$&&A)t:{for(B=$,y=A,m=0,v=B;v;v=Nl(v))m++;for(v=0,P=y;P;P=Nl(P))v++;for(;0<m-v;)B=Nl(B),m--;for(;0<v-m;)y=Nl(y),v--;for(;m--;){if(B===y||y!==null&&B===y.alternate)break t;B=Nl(B),y=Nl(y)}B=null}else B=null;$!==null&&Zo(E,j,$,B,!1),A!==null&&Ze!==null&&Zo(E,Ze,A,B,!0)}}e:{if(j=k?_l(k):window,$=j.nodeName&&j.nodeName.toLowerCase(),$==="select"||$==="input"&&j.type==="file")var V=S;else if(Qa(j))if(T)V=Fn;else{V=Qe;var X=ue}else($=j.nodeName)&&$.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(V=kn);if(V&&(V=V(e,k))){o(E,V,n,_);break e}X&&X(e,j,k),e==="focusout"&&(X=j._wrapperState)&&X.controlled&&j.type==="number"&&Vn(j,"number",j.value)}switch(X=k?_l(k):window,e){case"focusin":(Qa(X)||X.contentEditable==="true")&&(wl=X,ps=k,ia=null);break;case"focusout":ia=ps=wl=null;break;case"mousedown":ms=!0;break;case"contextmenu":case"mouseup":case"dragend":ms=!1,Ao(E,n,_);break;case"selectionchange":if(Jc)break;case"keydown":case"keyup":Ao(E,n,_)}var Z;if(hr)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else gr?la(e,n)&&(ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ee="onCompositionStart");ee&&(Wr&&n.locale!=="ko"&&(gr||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&gr&&(Z=Fa()):(On=_,bl="value"in On?On.value:On.textContent,gr=!0)),X=Za(k,ee),0<X.length&&(ee=new Ga(ee,e,null,n,_),E.push({event:ee,listeners:X}),Z?ee.data=Z:(Z=Wa(n),Z!==null&&(ee.data=Z)))),(Z=Sl?us(e,n):cs(e,n))&&(k=Za(k,"onBeforeInput"),0<k.length&&(_=new Ga("onBeforeInput","beforeinput",null,n,_),E.push({event:_,listeners:k}),_.data=Z))}Yo(E,t)})}function ua(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Za(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=xt(e,n),a!=null&&r.unshift(ua(e,a,l)),a=xt(e,t),a!=null&&r.push(ua(e,a,l))),e=e.return}return r}function Nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zo(e,t,n,r,l){for(var a=t._reactName,u=[];n!==null&&n!==r;){var f=n,p=f.alternate,k=f.stateNode;if(p!==null&&p===r)break;f.tag===5&&k!==null&&(f=k,l?(p=xt(n,a),p!=null&&u.unshift(ua(n,p,f))):l||(p=xt(n,a),p!=null&&u.push(ua(n,p,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Zc=/\r\n?/g,qc=/\u0000|\uFFFD/g;function qo(e){return(typeof e=="string"?e:""+e).replace(Zc,`
`).replace(qc,"")}function qa(e,t,n){if(t=qo(t),qo(e)!==t&&n)throw Error(x(425))}function ba(){}var xs=null,Ss=null;function ws(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cs=typeof setTimeout=="function"?setTimeout:void 0,bc=typeof clearTimeout=="function"?clearTimeout:void 0,bo=typeof Promise=="function"?Promise:void 0,ed=typeof queueMicrotask=="function"?queueMicrotask:typeof bo<"u"?function(e){return bo.resolve(null).then(e).catch(td)}:Cs;function td(e){setTimeout(function(){throw e})}function Ns(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Hr(t)}function vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jl=Math.random().toString(36).slice(2),Un="__reactFiber$"+jl,ca="__reactProps$"+jl,qn="__reactContainer$"+jl,js="__reactEvents$"+jl,nd="__reactListeners$"+jl,rd="__reactHandles$"+jl;function Kr(e){var t=e[Un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qn]||n[Un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=eu(e);e!==null;){if(n=e[Un])return n;e=eu(e)}return t}e=n,n=e.parentNode}return null}function da(e){return e=e[Un]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _l(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(x(33))}function ei(e){return e[ca]||null}var _s=[],El=-1;function kr(e){return{current:e}}function Ae(e){0>El||(e.current=_s[El],_s[El]=null,El--)}function ze(e,t){El++,_s[El]=e.current,e.current=t}var xr={},_t=kr(xr),Ot=kr(!1),Yr=xr;function Pl(e,t){var n=e.type.contextTypes;if(!n)return xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function zt(e){return e=e.childContextTypes,e!=null}function ti(){Ae(Ot),Ae(_t)}function tu(e,t,n){if(_t.current!==xr)throw Error(x(168));ze(_t,t),ze(Ot,n)}function nu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(x(108,_e(e)||"Unknown",l));return M({},n,r)}function ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xr,Yr=_t.current,ze(_t,e),ze(Ot,Ot.current),!0}function ru(e,t,n){var r=e.stateNode;if(!r)throw Error(x(169));n?(e=nu(e,t,Yr),r.__reactInternalMemoizedMergedChildContext=e,Ae(Ot),Ae(_t),ze(_t,e)):Ae(Ot),ze(Ot,n)}var bn=null,ri=!1,Es=!1;function lu(e){bn===null?bn=[e]:bn.push(e)}function ld(e){ri=!0,lu(e)}function Sr(){if(!Es&&bn!==null){Es=!0;var e=0,t=he;try{var n=bn;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bn=null,ri=!1}catch(l){throw bn!==null&&(bn=bn.slice(e+1)),sl(ol,Sr),l}finally{he=t,Es=!1}}return null}var Il=[],Tl=0,li=null,ai=0,an=[],sn=0,Xr=null,er=1,tr="";function Zr(e,t){Il[Tl++]=ai,Il[Tl++]=li,li=e,ai=t}function au(e,t,n){an[sn++]=er,an[sn++]=tr,an[sn++]=Xr,Xr=e;var r=er;e=tr;var l=32-Vt(r)-1;r&=~(1<<l),n+=1;var a=32-Vt(t)+l;if(30<a){var u=l-l%5;a=(r&(1<<u)-1).toString(32),r>>=u,l-=u,er=1<<32-Vt(t)+l|n<<l|r,tr=a+e}else er=1<<a|n<<l|r,tr=e}function Ps(e){e.return!==null&&(Zr(e,1),au(e,1,0))}function Is(e){for(;e===li;)li=Il[--Tl],Il[Tl]=null,ai=Il[--Tl],Il[Tl]=null;for(;e===Xr;)Xr=an[--sn],an[sn]=null,tr=an[--sn],an[sn]=null,er=an[--sn],an[sn]=null}var Jt=null,Kt=null,Be=!1,xn=null;function iu(e,t){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function su(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Kt=vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xr!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jt=e,Kt=null,!0):!1;default:return!1}}function Ts(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ds(e){if(Be){var t=Kt;if(t){var n=t;if(!su(e,t)){if(Ts(e))throw Error(x(418));t=vr(n.nextSibling);var r=Jt;t&&su(e,t)?iu(r,n):(e.flags=e.flags&-4097|2,Be=!1,Jt=e)}}else{if(Ts(e))throw Error(x(418));e.flags=e.flags&-4097|2,Be=!1,Jt=e}}}function ou(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function ii(e){if(e!==Jt)return!1;if(!Be)return ou(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ws(e.type,e.memoizedProps)),t&&(t=Kt)){if(Ts(e))throw uu(),Error(x(418));for(;t;)iu(e,t),t=vr(t.nextSibling)}if(ou(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kt=vr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Jt?vr(e.stateNode.nextSibling):null;return!0}function uu(){for(var e=Kt;e;)e=vr(e.nextSibling)}function Dl(){Kt=Jt=null,Be=!1}function Ls(e){xn===null?xn=[e]:xn.push(e)}var ad=Oe.ReactCurrentBatchConfig;function fa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var f=l.refs;u===null?delete f[a]:f[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,e))}return e}function si(e,t){throw e=Object.prototype.toString.call(t),Error(x(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cu(e){var t=e._init;return t(e._payload)}function du(e){function t(y,m){if(e){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function l(y,m){return y=Ir(y,m),y.index=0,y.sibling=null,y}function a(y,m,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function u(y){return e&&y.alternate===null&&(y.flags|=2),y}function f(y,m,v,P){return m===null||m.tag!==6?(m=No(v,y.mode,P),m.return=y,m):(m=l(m,v),m.return=y,m)}function p(y,m,v,P){var V=v.type;return V===R?_(y,m,v.props.children,P,v.key):m!==null&&(m.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ke&&cu(V)===m.type)?(P=l(m,v.props),P.ref=fa(y,m,v),P.return=y,P):(P=Di(v.type,v.key,v.props,null,y.mode,P),P.ref=fa(y,m,v),P.return=y,P)}function k(y,m,v,P){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=jo(v,y.mode,P),m.return=y,m):(m=l(m,v.children||[]),m.return=y,m)}function _(y,m,v,P,V){return m===null||m.tag!==7?(m=al(v,y.mode,P,V),m.return=y,m):(m=l(m,v),m.return=y,m)}function E(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=No(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case oe:return v=Di(m.type,m.key,m.props,null,y.mode,v),v.ref=fa(y,null,m),v.return=y,v;case $e:return m=jo(m,y.mode,v),m.return=y,m;case ke:var P=m._init;return E(y,P(m._payload),v)}if(He(m)||Y(m))return m=al(m,y.mode,v,null),m.return=y,m;si(y,m)}return null}function j(y,m,v,P){var V=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return V!==null?null:f(y,m,""+v,P);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case oe:return v.key===V?p(y,m,v,P):null;case $e:return v.key===V?k(y,m,v,P):null;case ke:return V=v._init,j(y,m,V(v._payload),P)}if(He(v)||Y(v))return V!==null?null:_(y,m,v,P,null);si(y,v)}return null}function $(y,m,v,P,V){if(typeof P=="string"&&P!==""||typeof P=="number")return y=y.get(v)||null,f(m,y,""+P,V);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case oe:return y=y.get(P.key===null?v:P.key)||null,p(m,y,P,V);case $e:return y=y.get(P.key===null?v:P.key)||null,k(m,y,P,V);case ke:var X=P._init;return $(y,m,v,X(P._payload),V)}if(He(P)||Y(P))return y=y.get(v)||null,_(m,y,P,V,null);si(m,P)}return null}function A(y,m,v,P){for(var V=null,X=null,Z=m,ee=m=0,vt=null;Z!==null&&ee<v.length;ee++){Z.index>ee?(vt=Z,Z=null):vt=Z.sibling;var we=j(y,Z,v[ee],P);if(we===null){Z===null&&(Z=vt);break}e&&Z&&we.alternate===null&&t(y,Z),m=a(we,m,ee),X===null?V=we:X.sibling=we,X=we,Z=vt}if(ee===v.length)return n(y,Z),Be&&Zr(y,ee),V;if(Z===null){for(;ee<v.length;ee++)Z=E(y,v[ee],P),Z!==null&&(m=a(Z,m,ee),X===null?V=Z:X.sibling=Z,X=Z);return Be&&Zr(y,ee),V}for(Z=r(y,Z);ee<v.length;ee++)vt=$(Z,y,ee,v[ee],P),vt!==null&&(e&&vt.alternate!==null&&Z.delete(vt.key===null?ee:vt.key),m=a(vt,m,ee),X===null?V=vt:X.sibling=vt,X=vt);return e&&Z.forEach(function(Tr){return t(y,Tr)}),Be&&Zr(y,ee),V}function B(y,m,v,P){var V=Y(v);if(typeof V!="function")throw Error(x(150));if(v=V.call(v),v==null)throw Error(x(151));for(var X=V=null,Z=m,ee=m=0,vt=null,we=v.next();Z!==null&&!we.done;ee++,we=v.next()){Z.index>ee?(vt=Z,Z=null):vt=Z.sibling;var Tr=j(y,Z,we.value,P);if(Tr===null){Z===null&&(Z=vt);break}e&&Z&&Tr.alternate===null&&t(y,Z),m=a(Tr,m,ee),X===null?V=Tr:X.sibling=Tr,X=Tr,Z=vt}if(we.done)return n(y,Z),Be&&Zr(y,ee),V;if(Z===null){for(;!we.done;ee++,we=v.next())we=E(y,we.value,P),we!==null&&(m=a(we,m,ee),X===null?V=we:X.sibling=we,X=we);return Be&&Zr(y,ee),V}for(Z=r(y,Z);!we.done;ee++,we=v.next())we=$(Z,y,ee,we.value,P),we!==null&&(e&&we.alternate!==null&&Z.delete(we.key===null?ee:we.key),m=a(we,m,ee),X===null?V=we:X.sibling=we,X=we);return e&&Z.forEach(function(Fd){return t(y,Fd)}),Be&&Zr(y,ee),V}function Ze(y,m,v,P){if(typeof v=="object"&&v!==null&&v.type===R&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case oe:e:{for(var V=v.key,X=m;X!==null;){if(X.key===V){if(V=v.type,V===R){if(X.tag===7){n(y,X.sibling),m=l(X,v.props.children),m.return=y,y=m;break e}}else if(X.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ke&&cu(V)===X.type){n(y,X.sibling),m=l(X,v.props),m.ref=fa(y,X,v),m.return=y,y=m;break e}n(y,X);break}else t(y,X);X=X.sibling}v.type===R?(m=al(v.props.children,y.mode,P,v.key),m.return=y,y=m):(P=Di(v.type,v.key,v.props,null,y.mode,P),P.ref=fa(y,m,v),P.return=y,y=P)}return u(y);case $e:e:{for(X=v.key;m!==null;){if(m.key===X)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=l(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=jo(v,y.mode,P),m.return=y,y=m}return u(y);case ke:return X=v._init,Ze(y,m,X(v._payload),P)}if(He(v))return A(y,m,v,P);if(Y(v))return B(y,m,v,P);si(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=l(m,v),m.return=y,y=m):(n(y,m),m=No(v,y.mode,P),m.return=y,y=m),u(y)):n(y,m)}return Ze}var Ll=du(!0),fu=du(!1),oi=kr(null),ui=null,Rl=null,Rs=null;function Ms(){Rs=Rl=ui=null}function Os(e){var t=oi.current;Ae(oi),e._currentValue=t}function zs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ml(e,t){ui=e,Rs=Rl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&($t=!0),e.firstContext=null)}function on(e){var t=e._currentValue;if(Rs!==e)if(e={context:e,memoizedValue:t,next:null},Rl===null){if(ui===null)throw Error(x(308));Rl=e,ui.dependencies={lanes:0,firstContext:e}}else Rl=Rl.next=e;return t}var qr=null;function $s(e){qr===null?qr=[e]:qr.push(e)}function pu(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,$s(t)):(n.next=l.next,l.next=n),t.interleaved=n,nr(e,r)}function nr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wr=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Se&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,nr(e,n)}return l=r.interleaved,l===null?(t.next=t,$s(r)):(t.next=l.next,l.next=t),r.interleaved=t,nr(e,n)}function ci(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rn(e,n)}}function hu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function di(e,t,n,r){var l=e.updateQueue;wr=!1;var a=l.firstBaseUpdate,u=l.lastBaseUpdate,f=l.shared.pending;if(f!==null){l.shared.pending=null;var p=f,k=p.next;p.next=null,u===null?a=k:u.next=k,u=p;var _=e.alternate;_!==null&&(_=_.updateQueue,f=_.lastBaseUpdate,f!==u&&(f===null?_.firstBaseUpdate=k:f.next=k,_.lastBaseUpdate=p))}if(a!==null){var E=l.baseState;u=0,_=k=p=null,f=a;do{var j=f.lane,$=f.eventTime;if((r&j)===j){_!==null&&(_=_.next={eventTime:$,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var A=e,B=f;switch(j=t,$=n,B.tag){case 1:if(A=B.payload,typeof A=="function"){E=A.call($,E,j);break e}E=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=B.payload,j=typeof A=="function"?A.call($,E,j):A,j==null)break e;E=M({},E,j);break e;case 2:wr=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,j=l.effects,j===null?l.effects=[f]:j.push(f))}else $={eventTime:$,lane:j,tag:f.tag,payload:f.payload,callback:f.callback,next:null},_===null?(k=_=$,p=E):_=_.next=$,u|=j;if(f=f.next,f===null){if(f=l.shared.pending,f===null)break;j=f,f=j.next,j.next=null,l.lastBaseUpdate=j,l.shared.pending=null}}while(!0);if(_===null&&(p=E),l.baseState=p,l.firstBaseUpdate=k,l.lastBaseUpdate=_,t=l.shared.interleaved,t!==null){l=t;do u|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);tl|=u,e.lanes=u,e.memoizedState=E}}function gu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(x(191,l));l.call(r)}}}var pa={},An=kr(pa),ma=kr(pa),ha=kr(pa);function br(e){if(e===pa)throw Error(x(174));return e}function Us(e,t){switch(ze(ha,t),ze(ma,e),ze(An,pa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:or(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=or(t,e)}Ae(An),ze(An,t)}function Ol(){Ae(An),Ae(ma),Ae(ha)}function yu(e){br(ha.current);var t=br(An.current),n=or(t,e.type);t!==n&&(ze(ma,e),ze(An,n))}function As(e){ma.current===e&&(Ae(An),Ae(ma))}var Ve=kr(0);function fi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gs=[];function Bs(){for(var e=0;e<Gs.length;e++)Gs[e]._workInProgressVersionPrimary=null;Gs.length=0}var pi=Oe.ReactCurrentDispatcher,Hs=Oe.ReactCurrentBatchConfig,el=0,We=null,ot=null,gt=null,mi=!1,ga=!1,ya=0,id=0;function Et(){throw Error(x(321))}function Vs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}function Ws(e,t,n,r,l,a){if(el=a,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=e===null||e.memoizedState===null?cd:dd,e=n(r,l),ga){a=0;do{if(ga=!1,ya=0,25<=a)throw Error(x(301));a+=1,gt=ot=null,t.updateQueue=null,pi.current=fd,e=n(r,l)}while(ga)}if(pi.current=yi,t=ot!==null&&ot.next!==null,el=0,gt=ot=We=null,mi=!1,t)throw Error(x(300));return e}function Qs(){var e=ya!==0;return ya=0,e}function Gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?We.memoizedState=gt=e:gt=gt.next=e,gt}function un(){if(ot===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=gt===null?We.memoizedState:gt.next;if(t!==null)gt=t,ot=e;else{if(e===null)throw Error(x(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},gt===null?We.memoizedState=gt=e:gt=gt.next=e}return gt}function va(e,t){return typeof t=="function"?t(e):t}function Js(e){var t=un(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=ot,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var u=l.next;l.next=a.next,a.next=u}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var f=u=null,p=null,k=a;do{var _=k.lane;if((el&_)===_)p!==null&&(p=p.next={lane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),r=k.hasEagerState?k.eagerState:e(r,k.action);else{var E={lane:_,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null};p===null?(f=p=E,u=r):p=p.next=E,We.lanes|=_,tl|=_}k=k.next}while(k!==null&&k!==a);p===null?u=r:p.next=f,Mt(r,t.memoizedState)||($t=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,We.lanes|=a,tl|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ks(e){var t=un(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do a=e(a,u.action),u=u.next;while(u!==l);Mt(a,t.memoizedState)||($t=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function vu(){}function ku(e,t){var n=We,r=un(),l=t(),a=!Mt(r.memoizedState,l);if(a&&(r.memoizedState=l,$t=!0),r=r.queue,Ys(wu.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,ka(9,Su.bind(null,n,r,l,t),void 0,null),yt===null)throw Error(x(349));(el&30)!==0||xu(n,t,l)}return l}function xu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Su(e,t,n,r){t.value=n,t.getSnapshot=r,Cu(t)&&Nu(e)}function wu(e,t,n){return n(function(){Cu(t)&&Nu(e)})}function Cu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mt(e,n)}catch{return!0}}function Nu(e){var t=nr(e,1);t!==null&&Nn(t,e,1,-1)}function ju(e){var t=Gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=ud.bind(null,We,e),[t.memoizedState,e]}function ka(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function _u(){return un().memoizedState}function hi(e,t,n,r){var l=Gn();We.flags|=e,l.memoizedState=ka(1|t,n,void 0,r===void 0?null:r)}function gi(e,t,n,r){var l=un();r=r===void 0?null:r;var a=void 0;if(ot!==null){var u=ot.memoizedState;if(a=u.destroy,r!==null&&Vs(r,u.deps)){l.memoizedState=ka(t,n,a,r);return}}We.flags|=e,l.memoizedState=ka(1|t,n,a,r)}function Eu(e,t){return hi(8390656,8,e,t)}function Ys(e,t){return gi(2048,8,e,t)}function Pu(e,t){return gi(4,2,e,t)}function Iu(e,t){return gi(4,4,e,t)}function Tu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Du(e,t,n){return n=n!=null?n.concat([e]):null,gi(4,4,Tu.bind(null,t,e),n)}function Xs(){}function Lu(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ru(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mu(e,t,n){return(el&21)===0?(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=n):(Mt(n,t)||(n=Jl(),We.lanes|=n,tl|=n,e.baseState=!0),t)}function sd(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=Hs.transition;Hs.transition={};try{e(!1),t()}finally{he=n,Hs.transition=r}}function Ou(){return un().memoizedState}function od(e,t,n){var r=Er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zu(e))$u(t,n);else if(n=pu(e,t,n,r),n!==null){var l=Lt();Nn(n,e,r,l),Fu(n,t,r)}}function ud(e,t,n){var r=Er(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zu(e))$u(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,f=a(u,n);if(l.hasEagerState=!0,l.eagerState=f,Mt(f,u)){var p=t.interleaved;p===null?(l.next=l,$s(t)):(l.next=p.next,p.next=l),t.interleaved=l;return}}catch{}finally{}n=pu(e,t,l,r),n!==null&&(l=Lt(),Nn(n,e,r,l),Fu(n,t,r))}}function zu(e){var t=e.alternate;return e===We||t!==null&&t===We}function $u(e,t){ga=mi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fu(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rn(e,n)}}var yi={readContext:on,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},cd={readContext:on,useCallback:function(e,t){return Gn().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:Eu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hi(4194308,4,Tu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hi(4194308,4,e,t)},useInsertionEffect:function(e,t){return hi(4,2,e,t)},useMemo:function(e,t){var n=Gn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=od.bind(null,We,e),[r.memoizedState,e]},useRef:function(e){var t=Gn();return e={current:e},t.memoizedState=e},useState:ju,useDebugValue:Xs,useDeferredValue:function(e){return Gn().memoizedState=e},useTransition:function(){var e=ju(!1),t=e[0];return e=sd.bind(null,e[1]),Gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=We,l=Gn();if(Be){if(n===void 0)throw Error(x(407));n=n()}else{if(n=t(),yt===null)throw Error(x(349));(el&30)!==0||xu(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Eu(wu.bind(null,r,a,e),[e]),r.flags|=2048,ka(9,Su.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Gn(),t=yt.identifierPrefix;if(Be){var n=tr,r=er;n=(r&~(1<<32-Vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ya++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=id++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dd={readContext:on,useCallback:Lu,useContext:on,useEffect:Ys,useImperativeHandle:Du,useInsertionEffect:Pu,useLayoutEffect:Iu,useMemo:Ru,useReducer:Js,useRef:_u,useState:function(){return Js(va)},useDebugValue:Xs,useDeferredValue:function(e){var t=un();return Mu(t,ot.memoizedState,e)},useTransition:function(){var e=Js(va)[0],t=un().memoizedState;return[e,t]},useMutableSource:vu,useSyncExternalStore:ku,useId:Ou,unstable_isNewReconciler:!1},fd={readContext:on,useCallback:Lu,useContext:on,useEffect:Ys,useImperativeHandle:Du,useInsertionEffect:Pu,useLayoutEffect:Iu,useMemo:Ru,useReducer:Ks,useRef:_u,useState:function(){return Ks(va)},useDebugValue:Xs,useDeferredValue:function(e){var t=un();return ot===null?t.memoizedState=e:Mu(t,ot.memoizedState,e)},useTransition:function(){var e=Ks(va)[0],t=un().memoizedState;return[e,t]},useMutableSource:vu,useSyncExternalStore:ku,useId:Ou,unstable_isNewReconciler:!1};function Sn(e,t){if(e&&e.defaultProps){t=M({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:M({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vi={isMounted:function(e){return(e=e._reactInternals)?Dn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lt(),l=Er(e),a=rr(r,l);a.payload=t,n!=null&&(a.callback=n),t=Cr(e,a,l),t!==null&&(Nn(t,e,l,r),ci(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lt(),l=Er(e),a=rr(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Cr(e,a,l),t!==null&&(Nn(t,e,l,r),ci(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),r=Er(e),l=rr(n,r);l.tag=2,t!=null&&(l.callback=t),t=Cr(e,l,r),t!==null&&(Nn(t,e,r,n),ci(t,e,r))}};function Uu(e,t,n,r,l,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!aa(n,r)||!aa(l,a):!0}function Au(e,t,n){var r=!1,l=xr,a=t.contextType;return typeof a=="object"&&a!==null?a=on(a):(l=zt(t)?Yr:_t.current,r=t.contextTypes,a=(r=r!=null)?Pl(e,l):xr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Gu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vi.enqueueReplaceState(t,t.state,null)}function qs(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Fs(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=on(a):(a=zt(t)?Yr:_t.current,l.context=Pl(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Zs(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&vi.enqueueReplaceState(l,l.state,null),di(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function zl(e,t){try{var n="",r=t;do n+=ce(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function bs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function eo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pd=typeof WeakMap=="function"?WeakMap:Map;function Bu(e,t,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ji||(ji=!0,go=r),eo(e,t)},n}function Hu(e,t,n){n=rr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){eo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){eo(e,t),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Vu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pd;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Ed.bind(null,e,t,n),t.then(e,e))}function Wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rr(-1,1),t.tag=2,Cr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var md=Oe.ReactCurrentOwner,$t=!1;function Dt(e,t,n,r){t.child=e===null?fu(t,null,n,r):Ll(t,e.child,n,r)}function Ju(e,t,n,r,l){n=n.render;var a=t.ref;return Ml(t,l),r=Ws(e,t,n,r,a,l),n=Qs(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,lr(e,t,l)):(Be&&n&&Ps(t),t.flags|=1,Dt(e,t,r,l),t.child)}function Ku(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!Co(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Yu(e,t,a,r,l)):(e=Di(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&l)===0){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:aa,n(u,r)&&e.ref===t.ref)return lr(e,t,l)}return t.flags|=1,e=Ir(a,r),e.ref=t.ref,e.return=t,t.child=e}function Yu(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(aa(a,r)&&e.ref===t.ref)if($t=!1,t.pendingProps=r=a,(e.lanes&l)!==0)(e.flags&131072)!==0&&($t=!0);else return t.lanes=e.lanes,lr(e,t,l)}return to(e,t,n,r,l)}function Xu(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Fl,Yt),Yt|=n;else{if((n&1073741824)===0)return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Fl,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ze(Fl,Yt),Yt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ze(Fl,Yt),Yt|=r;return Dt(e,t,l,n),t.child}function Zu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function to(e,t,n,r,l){var a=zt(n)?Yr:_t.current;return a=Pl(t,a),Ml(t,l),n=Ws(e,t,n,r,a,l),r=Qs(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,lr(e,t,l)):(Be&&r&&Ps(t),t.flags|=1,Dt(e,t,n,l),t.child)}function qu(e,t,n,r,l){if(zt(n)){var a=!0;ni(t)}else a=!1;if(Ml(t,l),t.stateNode===null)xi(e,t),Au(t,n,r),qs(t,n,r,l),r=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var p=u.context,k=n.contextType;typeof k=="object"&&k!==null?k=on(k):(k=zt(n)?Yr:_t.current,k=Pl(t,k));var _=n.getDerivedStateFromProps,E=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function";E||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==r||p!==k)&&Gu(t,u,r,k),wr=!1;var j=t.memoizedState;u.state=j,di(t,r,u,l),p=t.memoizedState,f!==r||j!==p||Ot.current||wr?(typeof _=="function"&&(Zs(t,n,_,r),p=t.memoizedState),(f=wr||Uu(t,n,f,r,j,p,k))?(E||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),u.props=r,u.state=p,u.context=k,r=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,mu(e,t),f=t.memoizedProps,k=t.type===t.elementType?f:Sn(t.type,f),u.props=k,E=t.pendingProps,j=u.context,p=n.contextType,typeof p=="object"&&p!==null?p=on(p):(p=zt(n)?Yr:_t.current,p=Pl(t,p));var $=n.getDerivedStateFromProps;(_=typeof $=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==E||j!==p)&&Gu(t,u,r,p),wr=!1,j=t.memoizedState,u.state=j,di(t,r,u,l);var A=t.memoizedState;f!==E||j!==A||Ot.current||wr?(typeof $=="function"&&(Zs(t,n,$,r),A=t.memoizedState),(k=wr||Uu(t,n,k,r,j,A,p)||!1)?(_||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,A,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,A,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),u.props=r,u.state=A,u.context=p,r=k):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),r=!1)}return no(e,t,n,r,a,l)}function no(e,t,n,r,l,a){Zu(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return l&&ru(t,n,!1),lr(e,t,a);r=t.stateNode,md.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Ll(t,e.child,null,a),t.child=Ll(t,null,f,a)):Dt(e,t,f,a),t.memoizedState=r.state,l&&ru(t,n,!0),t.child}function bu(e){var t=e.stateNode;t.pendingContext?tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tu(e,t.context,!1),Us(e,t.containerInfo)}function ec(e,t,n,r,l){return Dl(),Ls(l),t.flags|=256,Dt(e,t,n,r),t.child}var ro={dehydrated:null,treeContext:null,retryLane:0};function lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function tc(e,t,n){var r=t.pendingProps,l=Ve.current,a=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(l&2)!==0),f?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ze(Ve,l&1),e===null)return Ds(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(u=r.children,e=r.fallback,a?(r=t.mode,a=t.child,u={mode:"hidden",children:u},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Li(u,r,0,null),e=al(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=lo(n),t.memoizedState=ro,e):ao(t,u));if(l=e.memoizedState,l!==null&&(f=l.dehydrated,f!==null))return hd(e,t,u,r,f,l,n);if(a){a=r.fallback,u=t.mode,l=e.child,f=l.sibling;var p={mode:"hidden",children:r.children};return(u&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Ir(l,p),r.subtreeFlags=l.subtreeFlags&14680064),f!==null?a=Ir(f,a):(a=al(a,u,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,u=e.child.memoizedState,u=u===null?lo(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=ro,r}return a=e.child,e=a.sibling,r=Ir(a,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ao(e,t){return t=Li({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ki(e,t,n,r){return r!==null&&Ls(r),Ll(t,e.child,null,n),e=ao(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hd(e,t,n,r,l,a,u){if(n)return t.flags&256?(t.flags&=-257,r=bs(Error(x(422))),ki(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=Li({mode:"visible",children:r.children},l,0,null),a=al(a,l,u,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,(t.mode&1)!==0&&Ll(t,e.child,null,u),t.child.memoizedState=lo(u),t.memoizedState=ro,a);if((t.mode&1)===0)return ki(e,t,u,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var f=r.dgst;return r=f,a=Error(x(419)),r=bs(a,r,void 0),ki(e,t,u,r)}if(f=(u&e.childLanes)!==0,$t||f){if(r=yt,r!==null){switch(u&-u){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|u))!==0?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,nr(e,l),Nn(r,e,l,-1))}return wo(),r=bs(Error(x(421))),ki(e,t,u,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Pd.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Kt=vr(l.nextSibling),Jt=t,Be=!0,xn=null,e!==null&&(an[sn++]=er,an[sn++]=tr,an[sn++]=Xr,er=e.id,tr=e.overflow,Xr=t),t=ao(t,r.children),t.flags|=4096,t)}function nc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zs(e.return,t,n)}function io(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function rc(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(Dt(e,t,r.children,n),r=Ve.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nc(e,n,t);else if(e.tag===19)nc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(Ve,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&fi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),io(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&fi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}io(t,!0,n,null,a);break;case"together":io(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tl|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(x(153));if(t.child!==null){for(e=t.child,n=Ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gd(e,t,n){switch(t.tag){case 3:bu(t),Dl();break;case 5:yu(t);break;case 1:zt(t.type)&&ni(t);break;case 4:Us(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ze(oi,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(Ve,Ve.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?tc(e,t,n):(ze(Ve,Ve.current&1),e=lr(e,t,n),e!==null?e.sibling:null);ze(Ve,Ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return rc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ze(Ve,Ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Xu(e,t,n)}return lr(e,t,n)}var lc,so,ac,ic;lc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},so=function(){},ac=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,br(An.current);var a=null;switch(n){case"input":l=jn(e,l),r=jn(e,r),a=[];break;case"select":l=M({},l,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":l=qt(e,l),r=qt(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ba)}O(n,r);var u;n=null;for(k in l)if(!r.hasOwnProperty(k)&&l.hasOwnProperty(k)&&l[k]!=null)if(k==="style"){var f=l[k];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(J.hasOwnProperty(k)?a||(a=[]):(a=a||[]).push(k,null));for(k in r){var p=r[k];if(f=l!=null?l[k]:void 0,r.hasOwnProperty(k)&&p!==f&&(p!=null||f!=null))if(k==="style")if(f){for(u in f)!f.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in p)p.hasOwnProperty(u)&&f[u]!==p[u]&&(n||(n={}),n[u]=p[u])}else n||(a||(a=[]),a.push(k,n)),n=p;else k==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(a=a||[]).push(k,p)):k==="children"?typeof p!="string"&&typeof p!="number"||(a=a||[]).push(k,""+p):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(J.hasOwnProperty(k)?(p!=null&&k==="onScroll"&&Ue("scroll",e),a||f===p||(a=[])):(a=a||[]).push(k,p))}n&&(a=a||[]).push("style",n);var k=a;(t.updateQueue=k)&&(t.flags|=4)}},ic=function(e,t,n,r){n!==r&&(t.flags|=4)};function xa(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yd(e,t,n){var r=t.pendingProps;switch(Is(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return zt(t.type)&&ti(),Pt(t),null;case 3:return r=t.stateNode,Ol(),Ae(Ot),Ae(_t),Bs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xn!==null&&(ko(xn),xn=null))),so(e,t),Pt(t),null;case 5:As(t);var l=br(ha.current);if(n=t.type,e!==null&&t.stateNode!=null)ac(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(x(166));return Pt(t),null}if(e=br(An.current),ii(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Un]=t,r[ca]=a,e=(t.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(l=0;l<sa.length;l++)Ue(sa[l],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Hn(r,a),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ue("invalid",r);break;case"textarea":Lr(r,a),Ue("invalid",r)}O(n,a),l=null;for(var u in a)if(a.hasOwnProperty(u)){var f=a[u];u==="children"?typeof f=="string"?r.textContent!==f&&(a.suppressHydrationWarning!==!0&&qa(r.textContent,f,e),l=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(a.suppressHydrationWarning!==!0&&qa(r.textContent,f,e),l=["children",""+f]):J.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Fe(r),De(r,a,!0);break;case"textarea":Fe(r),sr(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ba)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_n(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Un]=t,e[ca]=r,lc(e,t,!1,!1),t.stateNode=e;e:{switch(u=kt(n,r),n){case"dialog":Ue("cancel",e),Ue("close",e),l=r;break;case"iframe":case"object":case"embed":Ue("load",e),l=r;break;case"video":case"audio":for(l=0;l<sa.length;l++)Ue(sa[l],e);l=r;break;case"source":Ue("error",e),l=r;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),l=r;break;case"details":Ue("toggle",e),l=r;break;case"input":Hn(e,r),l=jn(e,r),Ue("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=M({},r,{value:void 0}),Ue("invalid",e);break;case"textarea":Lr(e,r),l=qt(e,r),Ue("invalid",e);break;default:l=r}O(n,l),f=l;for(a in f)if(f.hasOwnProperty(a)){var p=f[a];a==="style"?L(e,p):a==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&En(e,p)):a==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Nt(e,p):typeof p=="number"&&Nt(e,""+p):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(J.hasOwnProperty(a)?p!=null&&a==="onScroll"&&Ue("scroll",e):p!=null&&qe(e,a,p,u))}switch(n){case"input":Fe(e),De(e,r,!1);break;case"textarea":Fe(e),sr(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Zt(e,!!r.multiple,a,!1):r.defaultValue!=null&&Zt(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ba)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)ic(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(x(166));if(n=br(ha.current),br(An.current),ii(t)){if(r=t.stateNode,n=t.memoizedProps,r[Un]=t,(a=r.nodeValue!==n)&&(e=Jt,e!==null))switch(e.tag){case 3:qa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qa(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=t,t.stateNode=r}return Pt(t),null;case 13:if(Ae(Ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&Kt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)uu(),Dl(),t.flags|=98560,a=!1;else if(a=ii(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(x(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(317));a[Un]=t}else Dl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pt(t),a=!1}else xn!==null&&(ko(xn),xn=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ve.current&1)!==0?ut===0&&(ut=3):wo())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return Ol(),so(e,t),e===null&&oa(t.stateNode.containerInfo),Pt(t),null;case 10:return Os(t.type._context),Pt(t),null;case 17:return zt(t.type)&&ti(),Pt(t),null;case 19:if(Ae(Ve),a=t.memoizedState,a===null)return Pt(t),null;if(r=(t.flags&128)!==0,u=a.rendering,u===null)if(r)xa(a,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=fi(e),u!==null){for(t.flags|=128,xa(a,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(Ve,Ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&Me()>Ul&&(t.flags|=128,r=!0,xa(a,!1),t.lanes=4194304)}else{if(!r)if(e=fi(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Be)return Pt(t),null}else 2*Me()-a.renderingStartTime>Ul&&n!==1073741824&&(t.flags|=128,r=!0,xa(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Me(),t.sibling=null,n=Ve.current,ze(Ve,r?n&1|2:n&1),t):(Pt(t),null);case 22:case 23:return So(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Yt&1073741824)!==0&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(x(156,t.tag))}function vd(e,t){switch(Is(t),t.tag){case 1:return zt(t.type)&&ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ol(),Ae(Ot),Ae(_t),Bs(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return As(t),null;case 13:if(Ae(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(x(340));Dl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Ve),null;case 4:return Ol(),null;case 10:return Os(t.type._context),null;case 22:case 23:return So(),null;case 24:return null;default:return null}}var Si=!1,It=!1,kd=typeof WeakSet=="function"?WeakSet:Set,F=null;function $l(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function oo(e,t,n){try{n()}catch(r){Je(e,t,r)}}var sc=!1;function xd(e,t){if(xs=fl,e=Uo(),fs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,f=-1,p=-1,k=0,_=0,E=e,j=null;t:for(;;){for(var $;E!==n||l!==0&&E.nodeType!==3||(f=u+l),E!==a||r!==0&&E.nodeType!==3||(p=u+r),E.nodeType===3&&(u+=E.nodeValue.length),($=E.firstChild)!==null;)j=E,E=$;for(;;){if(E===e)break t;if(j===n&&++k===l&&(f=u),j===a&&++_===r&&(p=u),($=E.nextSibling)!==null)break;E=j,j=E.parentNode}E=$}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ss={focusedElem:e,selectionRange:n},fl=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var A=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var B=A.memoizedProps,Ze=A.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?B:Sn(t.type,B),Ze);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(P){Je(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return A=sc,sc=!1,A}function Sa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&oo(t,n,a)}l=l.next}while(l!==r)}}function wi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oc(e){var t=e.alternate;t!==null&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Un],delete t[ca],delete t[js],delete t[nd],delete t[rd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uc(e){return e.tag===5||e.tag===3||e.tag===4}function cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function co(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ba));else if(r!==4&&(e=e.child,e!==null))for(co(e,t,n),e=e.sibling;e!==null;)co(e,t,n),e=e.sibling}function fo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fo(e,t,n),e=e.sibling;e!==null;)fo(e,t,n),e=e.sibling}var wt=null,wn=!1;function Nr(e,t,n){for(n=n.child;n!==null;)dc(e,t,n),n=n.sibling}function dc(e,t,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ul,n)}catch{}switch(n.tag){case 5:It||$l(n,t);case 6:var r=wt,l=wn;wt=null,Nr(e,t,n),wt=r,wn=l,wt!==null&&(wn?(e=wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(wn?(e=wt,n=n.stateNode,e.nodeType===8?Ns(e.parentNode,n):e.nodeType===1&&Ns(e,n),Hr(e)):Ns(wt,n.stateNode));break;case 4:r=wt,l=wn,wt=n.stateNode.containerInfo,wn=!0,Nr(e,t,n),wt=r,wn=l;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,u=a.destroy;a=a.tag,u!==void 0&&((a&2)!==0||(a&4)!==0)&&oo(n,t,u),l=l.next}while(l!==r)}Nr(e,t,n);break;case 1:if(!It&&($l(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){Je(n,t,f)}Nr(e,t,n);break;case 21:Nr(e,t,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,Nr(e,t,n),It=r):Nr(e,t,n);break;default:Nr(e,t,n)}}function fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kd),t.forEach(function(r){var l=Id.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:wt=f.stateNode,wn=!1;break e;case 3:wt=f.stateNode.containerInfo,wn=!0;break e;case 4:wt=f.stateNode.containerInfo,wn=!0;break e}f=f.return}if(wt===null)throw Error(x(160));dc(a,u,l),wt=null,wn=!1;var p=l.alternate;p!==null&&(p.return=null),l.return=null}catch(k){Je(l,t,k)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pc(t,e),t=t.sibling}function pc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cn(t,e),Bn(e),r&4){try{Sa(3,e,e.return),wi(3,e)}catch(B){Je(e,e.return,B)}try{Sa(5,e,e.return)}catch(B){Je(e,e.return,B)}}break;case 1:Cn(t,e),Bn(e),r&512&&n!==null&&$l(n,n.return);break;case 5:if(Cn(t,e),Bn(e),r&512&&n!==null&&$l(n,n.return),e.flags&32){var l=e.stateNode;try{Nt(l,"")}catch(B){Je(e,e.return,B)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&a.type==="radio"&&a.name!=null&&lt(l,a),kt(f,u);var k=kt(f,a);for(u=0;u<p.length;u+=2){var _=p[u],E=p[u+1];_==="style"?L(l,E):_==="dangerouslySetInnerHTML"?En(l,E):_==="children"?Nt(l,E):qe(l,_,E,k)}switch(f){case"input":ir(l,a);break;case"textarea":bt(l,a);break;case"select":var j=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var $=a.value;$!=null?Zt(l,!!a.multiple,$,!1):j!==!!a.multiple&&(a.defaultValue!=null?Zt(l,!!a.multiple,a.defaultValue,!0):Zt(l,!!a.multiple,a.multiple?[]:"",!1))}l[ca]=a}catch(B){Je(e,e.return,B)}}break;case 6:if(Cn(t,e),Bn(e),r&4){if(e.stateNode===null)throw Error(x(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(B){Je(e,e.return,B)}}break;case 3:if(Cn(t,e),Bn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(B){Je(e,e.return,B)}break;case 4:Cn(t,e),Bn(e);break;case 13:Cn(t,e),Bn(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(ho=Me())),r&4&&fc(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(It=(k=It)||_,Cn(t,e),It=k):Cn(t,e),Bn(e),r&8192){if(k=e.memoizedState!==null,(e.stateNode.isHidden=k)&&!_&&(e.mode&1)!==0)for(F=e,_=e.child;_!==null;){for(E=F=_;F!==null;){switch(j=F,$=j.child,j.tag){case 0:case 11:case 14:case 15:Sa(4,j,j.return);break;case 1:$l(j,j.return);var A=j.stateNode;if(typeof A.componentWillUnmount=="function"){r=j,n=j.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(B){Je(r,n,B)}}break;case 5:$l(j,j.return);break;case 22:if(j.memoizedState!==null){gc(E);continue}}$!==null?($.return=j,F=$):gc(E)}_=_.sibling}e:for(_=null,E=e;;){if(E.tag===5){if(_===null){_=E;try{l=E.stateNode,k?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(f=E.stateNode,p=E.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=In("display",u))}catch(B){Je(e,e.return,B)}}}else if(E.tag===6){if(_===null)try{E.stateNode.nodeValue=k?"":E.memoizedProps}catch(B){Je(e,e.return,B)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;_===E&&(_=null),E=E.return}_===E&&(_=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:Cn(t,e),Bn(e),r&4&&fc(e);break;case 21:break;default:Cn(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uc(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Nt(l,""),r.flags&=-33);var a=cc(e);fo(e,a,l);break;case 3:case 4:var u=r.stateNode.containerInfo,f=cc(e);co(e,f,u);break;default:throw Error(x(161))}}catch(p){Je(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sd(e,t,n){F=e,mc(e)}function mc(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var l=F,a=l.child;if(l.tag===22&&r){var u=l.memoizedState!==null||Si;if(!u){var f=l.alternate,p=f!==null&&f.memoizedState!==null||It;f=Si;var k=It;if(Si=u,(It=p)&&!k)for(F=l;F!==null;)u=F,p=u.child,u.tag===22&&u.memoizedState!==null?yc(l):p!==null?(p.return=u,F=p):yc(l);for(;a!==null;)F=a,mc(a),a=a.sibling;F=l,Si=f,It=k}hc(e)}else(l.subtreeFlags&8772)!==0&&a!==null?(a.return=l,F=a):hc(e)}}function hc(e){for(;F!==null;){var t=F;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:It||wi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!It)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Sn(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gu(t,a,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gu(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var k=t.alternate;if(k!==null){var _=k.memoizedState;if(_!==null){var E=_.dehydrated;E!==null&&Hr(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}It||t.flags&512&&uo(t)}catch(j){Je(t,t.return,j)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function gc(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function yc(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wi(4,t)}catch(p){Je(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(p){Je(t,l,p)}}var a=t.return;try{uo(t)}catch(p){Je(t,a,p)}break;case 5:var u=t.return;try{uo(t)}catch(p){Je(t,u,p)}}}catch(p){Je(t,t.return,p)}if(t===e){F=null;break}var f=t.sibling;if(f!==null){f.return=t.return,F=f;break}F=t.return}}var wd=Math.ceil,Ci=Oe.ReactCurrentDispatcher,po=Oe.ReactCurrentOwner,cn=Oe.ReactCurrentBatchConfig,Se=0,yt=null,nt=null,Ct=0,Yt=0,Fl=kr(0),ut=0,wa=null,tl=0,Ni=0,mo=0,Ca=null,Ft=null,ho=0,Ul=1/0,ar=null,ji=!1,go=null,jr=null,_i=!1,_r=null,Ei=0,Na=0,yo=null,Pi=-1,Ii=0;function Lt(){return(Se&6)!==0?Me():Pi!==-1?Pi:Pi=Me()}function Er(e){return(e.mode&1)===0?1:(Se&2)!==0&&Ct!==0?Ct&-Ct:ad.transition!==null?(Ii===0&&(Ii=Jl()),Ii):(e=he,e!==0||(e=window.event,e=e===void 0?16:$a(e.type)),e)}function Nn(e,t,n,r){if(50<Na)throw Na=0,yo=null,Error(x(185));Xn(e,n,r),((Se&2)===0||e!==yt)&&(e===yt&&((Se&2)===0&&(Ni|=n),ut===4&&Pr(e,Ct)),Ut(e,r),n===1&&Se===0&&(t.mode&1)===0&&(Ul=Me()+500,ri&&Sr()))}function Ut(e,t){var n=e.callbackNode;ht(e,t);var r=Kn(e,e===yt?Ct:0);if(r===0)n!==null&&tn(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&tn(n),t===1)e.tag===0?ld(kc.bind(null,e)):lu(kc.bind(null,e)),ed(function(){(Se&6)===0&&Sr()}),n=null;else{switch(yn(r)){case 1:n=ol;break;case 4:n=nn;break;case 16:n=Ur;break;case 536870912:n=Ar;break;default:n=Ur}n=Ec(n,vc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vc(e,t){if(Pi=-1,Ii=0,(Se&6)!==0)throw Error(x(327));var n=e.callbackNode;if(Al()&&e.callbackNode!==n)return null;var r=Kn(e,e===yt?Ct:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Ti(e,r);else{t=r;var l=Se;Se|=2;var a=Sc();(yt!==e||Ct!==t)&&(ar=null,Ul=Me()+500,rl(e,t));do try{jd();break}catch(f){xc(e,f)}while(!0);Ms(),Ci.current=a,Se=l,nt!==null?t=0:(yt=null,Ct=0,t=ut)}if(t!==0){if(t===2&&(l=Yn(e),l!==0&&(r=l,t=vo(e,l))),t===1)throw n=wa,rl(e,0),Pr(e,r),Ut(e,Me()),n;if(t===6)Pr(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Cd(l)&&(t=Ti(e,r),t===2&&(a=Yn(e),a!==0&&(r=a,t=vo(e,a))),t===1))throw n=wa,rl(e,0),Pr(e,r),Ut(e,Me()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(x(345));case 2:ll(e,Ft,ar);break;case 3:if(Pr(e,r),(r&130023424)===r&&(t=ho+500-Me(),10<t)){if(Kn(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Lt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Cs(ll.bind(null,e,Ft,ar),t);break}ll(e,Ft,ar);break;case 4:if(Pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var u=31-Vt(r);a=1<<u,u=t[u],u>l&&(l=u),r&=~a}if(r=l,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wd(r/1960))-r,10<r){e.timeoutHandle=Cs(ll.bind(null,e,Ft,ar),r);break}ll(e,Ft,ar);break;case 5:ll(e,Ft,ar);break;default:throw Error(x(329))}}}return Ut(e,Me()),e.callbackNode===n?vc.bind(null,e):null}function vo(e,t){var n=Ca;return e.current.memoizedState.isDehydrated&&(rl(e,t).flags|=256),e=Ti(e,t),e!==2&&(t=Ft,Ft=n,t!==null&&ko(t)),e}function ko(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function Cd(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!Mt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~mo,t&=~Ni,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function kc(e){if((Se&6)!==0)throw Error(x(327));Al();var t=Kn(e,0);if((t&1)===0)return Ut(e,Me()),null;var n=Ti(e,t);if(e.tag!==0&&n===2){var r=Yn(e);r!==0&&(t=r,n=vo(e,r))}if(n===1)throw n=wa,rl(e,0),Pr(e,t),Ut(e,Me()),n;if(n===6)throw Error(x(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ll(e,Ft,ar),Ut(e,Me()),null}function xo(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(Ul=Me()+500,ri&&Sr())}}function nl(e){_r!==null&&_r.tag===0&&(Se&6)===0&&Al();var t=Se;Se|=1;var n=cn.transition,r=he;try{if(cn.transition=null,he=1,e)return e()}finally{he=r,cn.transition=n,Se=t,(Se&6)===0&&Sr()}}function So(){Yt=Fl.current,Ae(Fl)}function rl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bc(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Is(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ti();break;case 3:Ol(),Ae(Ot),Ae(_t),Bs();break;case 5:As(r);break;case 4:Ol();break;case 13:Ae(Ve);break;case 19:Ae(Ve);break;case 10:Os(r.type._context);break;case 22:case 23:So()}n=n.return}if(yt=e,nt=e=Ir(e.current,null),Ct=Yt=t,ut=0,wa=null,mo=Ni=tl=0,Ft=Ca=null,qr!==null){for(t=0;t<qr.length;t++)if(n=qr[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=l,r.next=u}n.pending=r}qr=null}return e}function xc(e,t){do{var n=nt;try{if(Ms(),pi.current=yi,mi){for(var r=We.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}mi=!1}if(el=0,gt=ot=We=null,ga=!1,ya=0,po.current=null,n===null||n.return===null){ut=1,wa=t,nt=null;break}e:{var a=e,u=n.return,f=n,p=t;if(t=Ct,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var k=p,_=f,E=_.tag;if((_.mode&1)===0&&(E===0||E===11||E===15)){var j=_.alternate;j?(_.updateQueue=j.updateQueue,_.memoizedState=j.memoizedState,_.lanes=j.lanes):(_.updateQueue=null,_.memoizedState=null)}var $=Wu(u);if($!==null){$.flags&=-257,Qu($,u,f,a,t),$.mode&1&&Vu(a,k,t),t=$,p=k;var A=t.updateQueue;if(A===null){var B=new Set;B.add(p),t.updateQueue=B}else A.add(p);break e}else{if((t&1)===0){Vu(a,k,t),wo();break e}p=Error(x(426))}}else if(Be&&f.mode&1){var Ze=Wu(u);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),Qu(Ze,u,f,a,t),Ls(zl(p,f));break e}}a=p=zl(p,f),ut!==4&&(ut=2),Ca===null?Ca=[a]:Ca.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Bu(a,p,t);hu(a,y);break e;case 1:f=p;var m=a.type,v=a.stateNode;if((a.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(jr===null||!jr.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=Hu(a,f,t);hu(a,P);break e}}a=a.return}while(a!==null)}Cc(n)}catch(V){t=V,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function Sc(){var e=Ci.current;return Ci.current=yi,e===null?yi:e}function wo(){(ut===0||ut===3||ut===2)&&(ut=4),yt===null||(tl&268435455)===0&&(Ni&268435455)===0||Pr(yt,Ct)}function Ti(e,t){var n=Se;Se|=2;var r=Sc();(yt!==e||Ct!==t)&&(ar=null,rl(e,t));do try{Nd();break}catch(l){xc(e,l)}while(!0);if(Ms(),Se=n,Ci.current=r,nt!==null)throw Error(x(261));return yt=null,Ct=0,ut}function Nd(){for(;nt!==null;)wc(nt)}function jd(){for(;nt!==null&&!$r();)wc(nt)}function wc(e){var t=_c(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?Cc(e):nt=t,po.current=null}function Cc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=yd(n,t,Yt),n!==null){nt=n;return}}else{if(n=vd(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,nt=null;return}}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);ut===0&&(ut=5)}function ll(e,t,n){var r=he,l=cn.transition;try{cn.transition=null,he=1,_d(e,t,n,r)}finally{cn.transition=l,he=r}return null}function _d(e,t,n,r){do Al();while(_r!==null);if((Se&6)!==0)throw Error(x(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(x(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Da(e,a),e===yt&&(nt=yt=null,Ct=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||_i||(_i=!0,Ec(Ur,function(){return Al(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=cn.transition,cn.transition=null;var u=he;he=1;var f=Se;Se|=4,po.current=null,xd(e,n),pc(n,e),Qc(Ss),fl=!!xs,Ss=xs=null,e.current=n,Sd(n),Jn(),Se=f,he=u,cn.transition=a}else e.current=n;if(_i&&(_i=!1,_r=e,Ei=l),a=e.pendingLanes,a===0&&(jr=null),Gi(n.stateNode),Ut(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ji)throw ji=!1,e=go,go=null,e;return(Ei&1)!==0&&e.tag!==0&&Al(),a=e.pendingLanes,(a&1)!==0?e===yo?Na++:(Na=0,yo=e):Na=0,Sr(),null}function Al(){if(_r!==null){var e=yn(Ei),t=cn.transition,n=he;try{if(cn.transition=null,he=16>e?16:e,_r===null)var r=!1;else{if(e=_r,_r=null,Ei=0,(Se&6)!==0)throw Error(x(331));var l=Se;for(Se|=4,F=e.current;F!==null;){var a=F,u=a.child;if((F.flags&16)!==0){var f=a.deletions;if(f!==null){for(var p=0;p<f.length;p++){var k=f[p];for(F=k;F!==null;){var _=F;switch(_.tag){case 0:case 11:case 15:Sa(8,_,a)}var E=_.child;if(E!==null)E.return=_,F=E;else for(;F!==null;){_=F;var j=_.sibling,$=_.return;if(oc(_),_===k){F=null;break}if(j!==null){j.return=$,F=j;break}F=$}}}var A=a.alternate;if(A!==null){var B=A.child;if(B!==null){A.child=null;do{var Ze=B.sibling;B.sibling=null,B=Ze}while(B!==null)}}F=a}}if((a.subtreeFlags&2064)!==0&&u!==null)u.return=a,F=u;else e:for(;F!==null;){if(a=F,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Sa(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,F=y;break e}F=a.return}}var m=e.current;for(F=m;F!==null;){u=F;var v=u.child;if((u.subtreeFlags&2064)!==0&&v!==null)v.return=u,F=v;else e:for(u=m;F!==null;){if(f=F,(f.flags&2048)!==0)try{switch(f.tag){case 0:case 11:case 15:wi(9,f)}}catch(V){Je(f,f.return,V)}if(f===u){F=null;break e}var P=f.sibling;if(P!==null){P.return=f.return,F=P;break e}F=f.return}}if(Se=l,Sr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ul,e)}catch{}r=!0}return r}finally{he=n,cn.transition=t}}return!1}function Nc(e,t,n){t=zl(n,t),t=Bu(e,t,1),e=Cr(e,t,1),t=Lt(),e!==null&&(Xn(e,1,t),Ut(e,t))}function Je(e,t,n){if(e.tag===3)Nc(e,e,n);else for(;t!==null;){if(t.tag===3){Nc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){e=zl(n,e),e=Hu(t,e,1),t=Cr(t,e,1),e=Lt(),t!==null&&(Xn(t,1,e),Ut(t,e));break}}t=t.return}}function Ed(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&n,yt===e&&(Ct&n)===n&&(ut===4||ut===3&&(Ct&130023424)===Ct&&500>Me()-ho?rl(e,0):mo|=n),Ut(e,t)}function jc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Gr,Gr<<=1,(Gr&130023424)===0&&(Gr=4194304)));var n=Lt();e=nr(e,t),e!==null&&(Xn(e,t,n),Ut(e,n))}function Pd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jc(e,n)}function Id(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(t),jc(e,n)}var _c;_c=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)$t=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return $t=!1,gd(e,t,n);$t=(e.flags&131072)!==0}else $t=!1,Be&&(t.flags&1048576)!==0&&au(t,ai,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xi(e,t),e=t.pendingProps;var l=Pl(t,_t.current);Ml(t,n),l=Ws(null,t,r,e,l,n);var a=Qs();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zt(r)?(a=!0,ni(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Fs(t),l.updater=vi,t.stateNode=l,l._reactInternals=t,qs(t,r,e,n),t=no(null,t,r,!0,a,n)):(t.tag=0,Be&&a&&Ps(t),Dt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xi(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Dd(r),e=Sn(r,e),l){case 0:t=to(null,t,r,e,n);break e;case 1:t=qu(null,t,r,e,n);break e;case 11:t=Ju(null,t,r,e,n);break e;case 14:t=Ku(null,t,r,Sn(r.type,e),n);break e}throw Error(x(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Sn(r,l),to(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Sn(r,l),qu(e,t,r,l,n);case 3:e:{if(bu(t),e===null)throw Error(x(387));r=t.pendingProps,a=t.memoizedState,l=a.element,mu(e,t),di(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=zl(Error(x(423)),t),t=ec(e,t,r,n,l);break e}else if(r!==l){l=zl(Error(x(424)),t),t=ec(e,t,r,n,l);break e}else for(Kt=vr(t.stateNode.containerInfo.firstChild),Jt=t,Be=!0,xn=null,n=fu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dl(),r===l){t=lr(e,t,n);break e}Dt(e,t,r,n)}t=t.child}return t;case 5:return yu(t),e===null&&Ds(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,u=l.children,ws(r,l)?u=null:a!==null&&ws(r,a)&&(t.flags|=32),Zu(e,t),Dt(e,t,u,n),t.child;case 6:return e===null&&Ds(t),null;case 13:return tc(e,t,n);case 4:return Us(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ll(t,null,r,n):Dt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Sn(r,l),Ju(e,t,r,l,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,u=l.value,ze(oi,r._currentValue),r._currentValue=u,a!==null)if(Mt(a.value,u)){if(a.children===l.children&&!Ot.current){t=lr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var f=a.dependencies;if(f!==null){u=a.child;for(var p=f.firstContext;p!==null;){if(p.context===r){if(a.tag===1){p=rr(-1,n&-n),p.tag=2;var k=a.updateQueue;if(k!==null){k=k.shared;var _=k.pending;_===null?p.next=p:(p.next=_.next,_.next=p),k.pending=p}}a.lanes|=n,p=a.alternate,p!==null&&(p.lanes|=n),zs(a.return,n,t),f.lanes|=n;break}p=p.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(x(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),zs(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Dt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Ml(t,n),l=on(l),r=r(l),t.flags|=1,Dt(e,t,r,n),t.child;case 14:return r=t.type,l=Sn(r,t.pendingProps),l=Sn(r.type,l),Ku(e,t,r,l,n);case 15:return Yu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Sn(r,l),xi(e,t),t.tag=1,zt(r)?(e=!0,ni(t)):e=!1,Ml(t,n),Au(t,r,l),qs(t,r,l,n),no(null,t,r,!0,e,n);case 19:return rc(e,t,n);case 22:return Xu(e,t,n)}throw Error(x(156,t.tag))};function Ec(e,t){return sl(e,t)}function Td(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,n,r){return new Td(e,t,n,r)}function Co(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dd(e){if(typeof e=="function")return Co(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K)return 11;if(e===ve)return 14}return 2}function Ir(e,t){var n=e.alternate;return n===null?(n=dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Di(e,t,n,r,l,a){var u=2;if(r=e,typeof e=="function")Co(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case R:return al(n.children,l,a,t);case be:u=8,l|=8;break;case Rt:return e=dn(12,n,t,l|2),e.elementType=Rt,e.lanes=a,e;case ft:return e=dn(13,n,t,l),e.elementType=ft,e.lanes=a,e;case pt:return e=dn(19,n,t,l),e.elementType=pt,e.lanes=a,e;case Ie:return Li(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:u=10;break e;case je:u=9;break e;case K:u=11;break e;case ve:u=14;break e;case ke:u=16,r=null;break e}throw Error(x(130,e==null?e:typeof e,""))}return t=dn(u,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function al(e,t,n,r){return e=dn(7,e,r,t),e.lanes=n,e}function Li(e,t,n,r){return e=dn(22,e,r,t),e.elementType=Ie,e.lanes=n,e.stateNode={isHidden:!1},e}function No(e,t,n){return e=dn(6,e,null,t),e.lanes=n,e}function jo(e,t,n){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ld(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gn(0),this.expirationTimes=gn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gn(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function _o(e,t,n,r,l,a,u,f,p){return e=new Ld(e,t,n,f,p),t===1?(t=1,a===!0&&(t|=8)):t=0,a=dn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(a),e}function Rd(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$e,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Pc(e){if(!e)return xr;e=e._reactInternals;e:{if(Dn(e)!==e||e.tag!==1)throw Error(x(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(x(171))}if(e.tag===1){var n=e.type;if(zt(n))return nu(e,n,t)}return t}function Ic(e,t,n,r,l,a,u,f,p){return e=_o(n,r,!0,e,l,a,u,f,p),e.context=Pc(null),n=e.current,r=Lt(),l=Er(n),a=rr(r,l),a.callback=t??null,Cr(n,a,l),e.current.lanes=l,Xn(e,l,r),Ut(e,r),e}function Ri(e,t,n,r){var l=t.current,a=Lt(),u=Er(l);return n=Pc(n),t.context===null?t.context=n:t.pendingContext=n,t=rr(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cr(l,t,u),e!==null&&(Nn(e,l,u,a),ci(e,l,u)),u}function Mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Eo(e,t){Tc(e,t),(e=e.alternate)&&Tc(e,t)}function Md(){return null}var Dc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Po(e){this._internalRoot=e}Oi.prototype.render=Po.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(x(409));Ri(e,t,null,null)},Oi.prototype.unmount=Po.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nl(function(){Ri(null,e,null,null)}),t[qn]=null}};function Oi(e){this._internalRoot=e}Oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Br();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&Oa(e)}};function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lc(){}function Od(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var k=Mi(u);a.call(k)}}var u=Ic(t,r,e,0,null,!1,!1,"",Lc);return e._reactRootContainer=u,e[qn]=u.current,oa(e.nodeType===8?e.parentNode:e),nl(),u}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var f=r;r=function(){var k=Mi(p);f.call(k)}}var p=_o(e,0,!1,null,null,!1,!1,"",Lc);return e._reactRootContainer=p,e[qn]=p.current,oa(e.nodeType===8?e.parentNode:e),nl(function(){Ri(t,p,n,r)}),p}function $i(e,t,n,r,l){var a=n._reactRootContainer;if(a){var u=a;if(typeof l=="function"){var f=l;l=function(){var p=Mi(u);f.call(p)}}Ri(t,u,e,l)}else u=Od(n,t,e,l,r);return Mi(u)}Kl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hn(t.pendingLanes);n!==0&&(rn(t,n|1),Ut(t,Me()),(Se&6)===0&&(Ul=Me()+500,Sr()))}break;case 13:nl(function(){var r=nr(e,1);if(r!==null){var l=Lt();Nn(r,e,1,l)}}),Eo(e,1)}},Yl=function(e){if(e.tag===13){var t=nr(e,134217728);if(t!==null){var n=Lt();Nn(t,e,134217728,n)}Eo(e,134217728)}},La=function(e){if(e.tag===13){var t=Er(e),n=nr(e,t);if(n!==null){var r=Lt();Nn(n,e,t,r)}Eo(e,t)}},Br=function(){return he},Ra=function(e,t){var n=he;try{return he=e,t()}finally{he=n}},at=function(e,t,n){switch(t){case"input":if(ir(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ei(r);if(!l)throw Error(x(90));Dr(r),ir(r,l)}}}break;case"textarea":bt(e,n);break;case"select":t=n.value,t!=null&&Zt(e,!!n.multiple,t,!1)}},tt=xo,Rr=nl;var zd={usingClientEntryPoint:!1,Events:[da,_l,ei,Hl,ur,xo]},ja={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$d={bundleType:ja.bundleType,version:ja.version,rendererPackageName:ja.rendererPackageName,rendererConfig:ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ce(e),e===null?null:e.stateNode},findFiberByHostInstance:ja.findFiberByHostInstance||Md,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fi.isDisabled&&Fi.supportsFiber)try{ul=Fi.inject($d),Ht=Fi}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zd,At.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Io(t))throw Error(x(200));return Rd(e,t,null,n)},At.createRoot=function(e,t){if(!Io(e))throw Error(x(299));var n=!1,r="",l=Dc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=_o(e,1,!1,null,null,n,!1,r,l),e[qn]=t.current,oa(e.nodeType===8?e.parentNode:e),new Po(t)},At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(x(188)):(e=Object.keys(e).join(","),Error(x(268,e)));return e=Ce(t),e=e===null?null:e.stateNode,e},At.flushSync=function(e){return nl(e)},At.hydrate=function(e,t,n){if(!zi(t))throw Error(x(200));return $i(null,e,t,!0,n)},At.hydrateRoot=function(e,t,n){if(!Io(e))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",u=Dc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Ic(t,null,e,1,n??null,l,!1,a,u),e[qn]=t.current,oa(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Oi(t)},At.render=function(e,t,n){if(!zi(t))throw Error(x(200));return $i(null,e,t,!1,n)},At.unmountComponentAtNode=function(e){if(!zi(e))throw Error(x(40));return e._reactRootContainer?(nl(function(){$i(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1},At.unstable_batchedUpdates=xo,At.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zi(n))throw Error(x(200));if(e==null||e._reactInternals===void 0)throw Error(x(38));return $i(e,t,n,!1,r)},At.version="18.3.1-next-f1338f8080-20240426",At}var Ac;function Qd(){if(Ac)return Lo.exports;Ac=1;function D(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D)}catch(H){console.error(H)}}return D(),Lo.exports=Wd(),Lo.exports}var Gc;function Jd(){if(Gc)return Ui;Gc=1;var D=Qd();return Ui.createRoot=D.createRoot,Ui.hydrateRoot=D.hydrateRoot,Ui}var Kd=Jd();const Yd=Wc(Kd),Bc=["P2Pチャットルーム1"],Gl=20,rt=7,Hc=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}],Xd="https://p2p-sample.metered.live/api/v1/turn/credentials?apiKey=d51424dc9b80232dbc239f680b412cdbfe33",Zd=window.location.protocol==="https:"?"wss://":"ws://"+window.location.host+"/ws",q=()=>Date.now().toString(36)+Math.random().toString(36).substring(2,9),qd=()=>Math.random().toString(36).substring(2,10);function Ea(D){const H=[...D];for(let x=H.length-1;x>0;x--){const te=Math.floor(Math.random()*(x+1));[H[x],H[te]]=[H[te],H[x]]}return H}function Ai(D){const H=new Map;return D.forEach((te,J)=>{if(H.has(te.id)){const le=H.get(te.id);le.count++,le.indices.push(J)}else H.set(te.id,{cardDef:te,count:1,indices:[J]})}),Array.from(H.values()).sort((te,J)=>Math.min(...te.indices)-Math.min(...J.indices)).map(te=>({card:te.cardDef,count:te.count,originalIndices:te.indices.sort((J,le)=>J-le)}))}const Xt=({card:D,tokenInstance:H,isTokenDisplay:x,context:te,count:J,originalIndex:le,isMyCard:fe,isSelected:w,onAddToDeck:se,onRemoveFromDeck:Ke,cardsInDeckCount:Re,onDragStartItem:Pe,onDragEndItem:W,isDraggable:Ne,isDragging:ct,isDisabled:ge,onClick:ie,isSelectable:Ye,onMoveFromGraveyardToHand:dt,onMoveFromGraveyardToField:qe,isGameActive:Oe})=>{var pt;const oe=x?H==null?void 0:H.definition:D;if(!oe)return null;const $e=x?oe.isCreature||oe.power!==void 0&&oe.power>0||oe.toughness!==void 0&&oe.toughness>0:oe.attack>0||oe.defense>0,R=ve=>{Pe&&typeof le=="number"&&Ne&&!ge&&(Pe(ve,x?H:D,x?"token":"card",te==="hand"?"hand":"field",le),ve.dataTransfer&&(ve.dataTransfer.effectAllowed="move"))},be=ve=>{W&&Ne&&!ge&&W(ve)},Rt=()=>{ie&&!ge&&Ye&&(te==="token-selector"&&x?ie(oe.id):typeof le=="number"&&ie(le))},ae=ve=>{ve.stopPropagation(),dt&&typeof le=="number"&&fe&&Oe&&D&&dt(D,le)},je=ve=>{ve.stopPropagation(),qe&&typeof le=="number"&&fe&&Oe&&D&&qe(D,le)},K=ve=>!ve||ve.length===0?null:i.jsx("div",{className:"mtg-card-token-colors",children:ve.map(ke=>i.jsx("span",{className:`color-indicator color-${ke.toLowerCase()}`,title:ke},ke))}),ft=()=>{if(!x||!(H!=null&&H.definition.colors)||H.definition.colors.length===0)return;const ve=H.definition.colors;return ve.length===1?{w:"#f0f0c0",u:"#c0d8f0",b:"#c0c0c0",r:"#f0c0c0",g:"#c0f0c0",c:"#d0d0d0",gold:"#f0e0a0"}[ve[0].toLowerCase()]:"#e0d0b0"};return i.jsxs("div",{className:`mtg-card context-${te} ${x?"token-display":""} ${w?"selected":""} ${ct?"dragging":""} ${ge?"disabled-card":""} ${Ye?"selectable-card-overlay":""}`,"aria-label":`${oe.name} ${x?"token":"card"} ${Ye?"(選択可能)":""} ${ge?"(操作不可)":""}`,draggable:Ne&&fe&&(te==="hand"||te==="field")&&!ge,onDragStart:R,onDragEnd:be,onClick:Rt,role:Ye?"button":void 0,tabIndex:Ye?0:void 0,onKeyPress:Ye?ve=>(ve.key==="Enter"||ve.key===" ")&&Rt():void 0,children:[i.jsxs("div",{className:"mtg-card-header",style:x?{backgroundColor:ft()}:{},children:[i.jsx("span",{className:"mtg-card-name",title:oe.name,children:oe.name}),!x&&i.jsx("span",{className:"mtg-card-cost",children:oe.cost}),x&&K(oe.colors)]}),i.jsx("div",{className:"mtg-card-image-area",children:oe.imageUrl?i.jsx("img",{src:oe.imageUrl,alt:oe.name}):i.jsx("div",{className:"mtg-card-no-image",children:i.jsx("span",{children:x?"Token":"No Image"})})}),(te==="field"||te==="editor-list"||te==="token-editor-list"||te==="graveyard-viewer"||te==="hand"||te==="token-selector")&&i.jsx("div",{className:"mtg-card-type-line",children:x?((pt=oe.types)==null?void 0:pt.join(" / "))||($e?"Token Creature":"Token"):$e?"Creature":"Spell"}),i.jsx("div",{className:"mtg-card-text-box scrollable-text",children:i.jsx("p",{children:oe.text||" "})}),$e&&i.jsx("div",{className:"mtg-card-pt",children:x?`${oe.power||0}/${oe.toughness||0}`:`${oe.attack}/${oe.defense}`}),J&&J>1&&te==="field"&&!x&&i.jsxs("span",{className:"mtg-card-count-badge",children:["x",J]}),te==="deck-selector"&&se&&Ke&&D&&i.jsxs("div",{className:"mtg-card-actions deck-selector-actions",children:[i.jsxs("span",{children:["In deck: ",Re]}),i.jsx("button",{onClick:()=>se(D.id),"aria-label":`Add ${D.name}`,children:"Add"}),i.jsx("button",{onClick:()=>Ke(D.id),disabled:Re===0,"aria-label":`Remove ${D.name}`,children:"Remove"})]}),te==="graveyard-viewer"&&fe&&Oe&&!x&&D&&i.jsxs("div",{className:"mtg-card-actions graveyard-actions",children:[dt&&i.jsx("button",{onClick:ae,className:"card-action-button gy-to-hand",children:"To Hand"}),qe&&i.jsx("button",{onClick:je,className:"card-action-button gy-to-field",children:"To Field"})]})]})};function bd(){const[D,H]=C.useState("main"),[x,te]=C.useState(""),[J,le]=C.useState(null),[fe,w]=C.useState(null),[se,Ke]=C.useState(!1),[Re,Pe]=C.useState(!1),W=C.useRef(null),Ne=C.useRef(null),[ct,ge]=C.useState(""),[ie,Ye]=C.useState(""),[dt,qe]=C.useState([]),[Oe,oe]=C.useState(""),[$e,R]=C.useState([]),[be,Rt]=C.useState(""),[ae,je]=C.useState("disconnected"),[K,ft]=C.useState(""),[pt,ve]=C.useState(null),[ke,Ie]=C.useState(!1),[I,Y]=C.useState(null),[M,h]=C.useState("disconnected"),[N,re]=C.useState(!1),[ne,ce]=C.useState([]),[me,_e]=C.useState(null),[ye,Ee]=C.useState([]),[Te,Fe]=C.useState("waiting"),Dr=C.useRef(null),fn=C.useRef(null),jn=C.useRef(null),Hn=C.useRef(null),[lt,ir]=C.useState(()=>{try{const o=localStorage.getItem("cardGame_allCards");return o?JSON.parse(o):[]}catch(o){return console.error("Error loading cards from localStorage",o),[]}}),[De,Vn]=C.useState(()=>{try{const o=localStorage.getItem("cardGame_allDecks");return o?JSON.parse(o):[]}catch(o){return console.error("Error loading decks from localStorage",o),[]}}),[He,Zt]=C.useState(()=>{try{const o=localStorage.getItem("cardGame_allTokenDefinitions");return o?JSON.parse(o):[]}catch(o){return console.error("Error loading token definitions from localStorage",o),[]}}),[qt,Lr]=C.useState(null),[bt,sr]=C.useState({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""}),[_n,or]=C.useState(null),[Gt,En]=C.useState({name:"",selectedCardIds:[]}),[Nt,Pn]=C.useState(null),[et,In]=C.useState({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""}),[L,en]=C.useState("chat_only"),[O,kt]=C.useState(null),[xe,jt]=C.useState(null),[at,Wn]=C.useState(null),[Xe,Bl]=C.useState(null),[Hl,ur]=C.useState(!1),[tt,Rr]=C.useState(0),[il,Mr]=C.useState(0),[xt,Tn]=C.useState("deciding"),[Qn,Or]=C.useState("deciding"),[Bt,pn]=C.useState([]),[Q,zr]=C.useState("deck_selection"),[U,mt]=C.useState(null),[it,Dn]=C.useState(null),[mn,Vl]=C.useState(null),[Pa,Ce]=C.useState(null),[st,sl]=C.useState(0),[tn,$r]=C.useState("deciding"),[Jn,Me]=C.useState([]),[Fr,ol]=C.useState(!1),[nn,Ur]=C.useState(null),[Wl,Ar]=C.useState([]),[ul,Ht]=C.useState(!1),[Gi,Vt]=C.useState(!1),[G,Ql]=C.useState(null),[Ia,Ln]=C.useState(!1),[Gr,hn]=C.useState(!1);C.useEffect(()=>{try{localStorage.setItem("cardGame_allCards",JSON.stringify(lt))}catch(o){console.error("Failed to save cards:",o),w("カードの保存に失敗しました。")}},[lt]),C.useEffect(()=>{try{localStorage.setItem("cardGame_allDecks",JSON.stringify(De))}catch(o){console.error("Failed to save decks:",o),w("デッキの保存に失敗しました。")}},[De]),C.useEffect(()=>{try{localStorage.setItem("cardGame_allTokenDefinitions",JSON.stringify(He))}catch(o){console.error("Failed to save token definitions:",o),w("トークン定義の保存に失敗しました。")}},[He]),C.useEffect(()=>{if(J&&$e)try{localStorage.setItem(`chatHistory_${J}`,JSON.stringify($e))}catch(o){console.error("Failed to save chat history to localStorage:",o),w("チャット履歴の保存に失敗しました。")}},[$e,J]),C.useEffect(()=>{Dr.current&&(Dr.current.scrollTop=Dr.current.scrollHeight)},[$e]);const Kn=C.useCallback(o=>lt.find(c=>c.id===o),[lt]),Ta=C.useCallback(o=>He.find(c=>c.id===o),[He]),ht=C.useCallback(o=>{if(Ne.current&&Ne.current.readyState==="open")try{Ne.current.send(JSON.stringify(o))}catch(c){console.error("Failed to send data channel message:",c),w("データチャネルでのメッセージ送信に失敗しました。")}else console.warn("Data channel not open, cannot send game message:",o),w("P2P接続が確立していないか、データチャネルが開いていません。")},[]),Yn=C.useCallback(()=>{ol(!1),Ur(null),Ar([])},[]),Jl=o=>{Vt(o),Ht(!0)},gn=()=>Ht(!1);C.useEffect(()=>{L==="MULLIGAN"&&xt==="kept"&&Qn==="kept"&&(en("game_active"),R(o=>[...o,{id:q(),sender:"system",text:`両プレイヤーが手札をキープしました。ゲーム開始！${ke?"あなたのターンです。":"相手のターンです。"}`,timestamp:Date.now()}]))},[xt,Qn,L,ke]);const Xn=C.useCallback(o=>{switch(o.peerId&&o.peerId!==K&&ve(o.peerId),o.type){case"deck_selected":if(o.peerId!==K){const c=Xe==null?void 0:Xe.name;Bl({name:o.deckName,size:o.deckSize,peerId:o.peerId});let s=`相手 (${o.peerId.substring(0,6)}) がデッキ「${o.deckName}」(${o.deckSize}枚)`;c&&c!==o.deckName?s+=" に変更しました。":c&&c===o.deckName?s+=" を再度選択しました。":s+=" を選択しました。",at?(s+=" あなたも選択済みです。",ur(!0)):s+=" あなたの選択を待っています。",R(d=>[...d,{id:q(),sender:"system",text:s,timestamp:Date.now()}])}break;case"game_start_request":if(o.peerId!==K&&at&&Xe){const c=De.find(s=>s.id===at);if(c){const s=c.cardIds.map(b=>Kn(b)).filter(Boolean),d=Ea(s),g=d.slice(0,rt),S=d.slice(rt),T=[{id:q(),title:"Note 1",text:"",isShared:!1}],z=[{id:q(),title:"Note 1",text:"",isShared:!1}];kt({life:o.initialOpponentLife,deck:S,hand:g,field:[],fieldTokens:[],graveyard:[],myNotes:T}),jt({life:Gl,deckCount:Xe.size-rt,handCount:rt,field:[],fieldTokens:[],graveyard:[],opponentNotes:z}),en("MULLIGAN"),Rr(0),Mr(0),Tn("deciding"),Or("deciding"),pn([]),R(b=>[...b,{id:q(),sender:"system",text:`ゲームセットアップ完了。マリガンフェイズです。両プレイヤーは手札${rt}枚で開始。`,timestamp:Date.now()}])}else console.error("game_start_request: My selected deck not found. mySelectedDeckId:",at),w("ゲーム開始エラー：自分の選択したデッキが見つかりません。")}break;case"player_decision_mulligan":if(o.peerId!==K){Mr(o.mulligansTakenThisGame),jt(s=>s?{...s,handCount:o.resultingHandSize}:null);let c="";o.actionTaken==="kept_hand"?(Or("kept"),c=`手札をキープしました (最終手札 ${o.resultingHandSize}枚、マリガン ${o.mulligansTakenThisGame}回)。`):(Or("deciding"),c=`マリガンを行い、手札を ${o.resultingHandSize}枚にしました (マリガン ${o.mulligansTakenThisGame}回目)。`),R(s=>[...s,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})が${c}`,timestamp:Date.now()}])}break;case"draw_card":o.peerId!==K&&xe&&(jt(c=>c?{...c,deckCount:c.deckCount-1,handCount:c.handCount+1}:null),R(c=>[...c,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})がカードを1枚ドローしました。`,timestamp:Date.now()}]));break;case"play_card":o.peerId!==K&&xe&&o.card&&(jt(c=>c?{...c,handCount:c.handCount-1,field:[...c.field,o.card]}:null),R(c=>[...c,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})がカード「${o.card.name}」をプレイしました。`,timestamp:Date.now()}]));break;case"move_to_graveyard":if(o.peerId!==K&&xe&&o.card){const{card:c,fromZone:s}=o;let d=`相手(${o.peerId.substring(0,6)})がカード「${c.name}」を`;jt(g=>{if(!g)return null;let S=g.handCount,T=[...g.field];const z=g.graveyard?[...g.graveyard,c]:[c];if(s==="hand")S--,d+="手札から墓地へ送りました。";else if(s==="field"){const b=T.findIndex(pe=>pe.id===c.id);b>-1?(T.splice(b,1),d+="フィールドから墓地へ送りました。"):(console.warn(`Opponent move_to_graveyard from field: card ${c.name} (ID: ${c.id}) not found.`),d+="フィールドから墓地へ送ろうとしましたが、見つかりませんでした。")}return{...g,handCount:S,field:T,graveyard:z}}),R(g=>[...g,{id:q(),sender:"system",text:d,timestamp:Date.now()}])}break;case"update_life":o.peerId!==K&&xe&&(jt(c=>c?{...c,life:o.newLifeTotal}:null),R(c=>[...c,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})がライフを ${o.newLifeTotal} に変更しました。`,timestamp:Date.now()}]));break;case"move_from_graveyard":if(o.peerId!==K&&xe){const{card:c,toZone:s}=o;let d=`相手(${o.peerId.substring(0,6)})がカード「${c.name}」を墓地から`;jt(g=>{if(!g)return null;const S=[...g.graveyard],T=S.findIndex(pe=>pe.id===c.id);T>-1?S.splice(T,1):console.warn(`Opponent move_from_graveyard: card ${c.name} (ID: ${c.id}) not found in their graveyard representation. Decrementing count only.`);let z=g.handCount,b=[...g.field];return s==="hand"?(z++,d+="手札へ移動しました。"):(b.push(c),d+="フィールドへ移動しました。"),{...g,handCount:z,field:b,graveyard:S}}),R(g=>[...g,{id:q(),sender:"system",text:d,timestamp:Date.now()}])}break;case"update_notes":o.peerId!==K&&(jt(c=>c?{...c,opponentNotes:o.notes}:null),R(c=>[...c,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})がメモを更新しました。`,timestamp:Date.now()}]));break;case"create_token":if(o.peerId!==K&&xe){He.find(s=>s.id===o.tokenDefinition.id)||Zt(s=>[...s,o.tokenDefinition]);const c={instanceId:o.instanceId,definition:o.tokenDefinition};jt(s=>s?{...s,fieldTokens:[...s.fieldTokens,c]}:null),R(s=>[...s,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})がトークン「${o.tokenDefinition.name}」を生成しました。`,timestamp:Date.now()}])}break;case"remove_token_from_field":if(o.peerId!==K&&xe){const c=xe.fieldTokens.find(s=>s.instanceId===o.instanceId);jt(s=>s?{...s,fieldTokens:s.fieldTokens.filter(d=>d.instanceId!==o.instanceId)}:null),c&&R(s=>[...s,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})のトークン「${c.definition.name}」がフィールドを離れました。`,timestamp:Date.now()}])}break}},[K,xe,at,De,Kn,Xe,ur,en,w,He]),Da=C.useRef(Xn);C.useEffect(()=>{Da.current=Xn},[Xn]);const rn=C.useCallback(()=>{en("chat_only"),kt(null),jt(null),Wn(null),Bl(null),ur(!1),Rr(0),Mr(0),Tn("deciding"),Or("deciding"),pn([]),ve(null),Yn(),gn()},[Yn,gn]),he=C.useCallback(o=>{o.onopen=()=>{console.log("Data channel opened"),je("connected"),R(c=>[...c,{id:Date.now().toString(),sender:"system",text:"P2P接続が確立しました！チャットまたはゲームを開始できます。",timestamp:Date.now()}]),w(null),J&&L==="chat_only"&&en("deck_selection")},o.onmessage=c=>{try{const s=JSON.parse(c.data);s.messageType==="chat"&&s.payload&&typeof s.payload.text=="string"&&typeof s.payload.sender=="string"?(s.payload.sender!==K&&ve(s.payload.sender),R(d=>[...d,{id:Date.now().toString(),sender:"peer",text:s.payload.text,timestamp:Date.now()}])):s.messageType==="game_action"&&s.payload?Da.current(s.payload):console.warn("Unknown data channel message structure:",s)}catch(s){const d=c.data;R(g=>[...g,{id:Date.now().toString(),sender:"peer",text:`[RAW] ${d}`,timestamp:Date.now()}]),console.warn("Received non-JSON message on data channel, treating as raw text:",d,s)}},o.onclose=()=>{console.log("Data channel closed"),W.current?(ae!=="failed"&&je("disconnected"),R(c=>[...c,{id:Date.now().toString(),sender:"system",text:"データチャネルが閉じました。接続が失われたかリセットされた可能性があります。",timestamp:Date.now()}]),rn()):console.log("Data channel closed, but peer connection already handled/null (likely local reset).")},o.onerror=c=>{console.error("Data channel error:",c),w("データチャネルエラーが発生しました。"),je("failed")}},[ae,J,K,L,en,w,rn]),yn=C.useCallback(async()=>{Pe(!0),w(null);let o=null;try{console.log("Fetching TURN credentials...");const c=await fetch(Xd);let s=[];if(c.ok)s=await c.json(),console.log("Successfully fetched TURN credentials:",s),(!Array.isArray(s)||s.length===0)&&(console.warn("Fetched TURN credentials are not a valid array or are empty. Using fallback STUN servers."),w("取得したTURNサーバー情報が空です。STUNサーバーで試行します。"),s=[...Hc]);else{const g=await c.text();console.error(`Failed to fetch TURN credentials: ${c.status} ${c.statusText}`,g),w(`TURNサーバー情報の取得に失敗: ${c.status}. STUNサーバーで試行します。`),s=[...Hc]}const d={iceServers:s};console.log("Initializing RTCPeerConnection with config:",d),o=new RTCPeerConnection(d),W.current=o,o.onicecandidate=g=>{g.candidate?(console.log("=== ICE候補送信 ==="),console.log("Local ICE candidate generated:",g.candidate),I&&I.readyState===WebSocket.OPEN&&me?(console.log("ICE候補をWebSocket経由で送信中..."),I.send(JSON.stringify({msg_type:"ice-candidate",data:g.candidate.toJSON(),target:ne.find(S=>S!==K)||null})),console.log("✓ ICE候補送信完了")):(console.log("WebSocket利用不可、手動交換にフォールバック"),qe(S=>[...S,g.candidate.toJSON()]))):console.log("ICE候補生成完了 (null candidate received)")},o.onicegatheringstatechange=()=>{W.current&&(console.log("P2P ICE Gathering State:",W.current.iceGatheringState),W.current.iceGatheringState==="complete"&&R(g=>[...g,{id:q(),sender:"system",text:"ローカルICE候補の収集が完了しました。全ての候補を相手に伝えてください。",timestamp:Date.now()}]))},o.oniceconnectionstatechange=()=>{if(W.current)switch(console.log("=== ICE接続状態変更 ==="),console.log("P2P ICE Connection State:",W.current.iceConnectionState),W.current.iceConnectionState){case"checking":console.log("ICE接続チェック中..."),Fe("ice-checking"),ae!=="connected"&&je("connecting");break;case"connected":case"completed":console.log("✓ ICE接続成功！"),Fe("ice-connected"),Ne.current&&Ne.current.readyState==="open"?(console.log("=== P2P接続完全確立 ==="),je("connected"),Fe("completed"),R(g=>[...g,{id:q(),sender:"system",text:"🎉 P2P接続が完全に確立されました！ゲーム開始準備完了",timestamp:Date.now()}]),J&&L==="chat_only"&&en("deck_selection")):!Ne.current&&ae!=="connected"&&(console.log("ICE接続成功、データチャンネル待機中..."),je("connecting"));break;case"disconnected":ae!=="failed"&&ae!=="disconnected"&&(je("disconnected"),w("P2P接続が切断されました。再接続を試みてください。"),rn());break;case"failed":ae!=="failed"&&(je("failed"),w("P2P接続に失敗しました。ネットワーク設定や相手との情報交換を確認してください。"),rn());break;case"closed":ae!=="disconnected"&&ae!=="failed"&&(je("disconnected"),w("P2P接続が閉じられました。"),rn());break;default:ae!=="connected"&&ae!=="failed"&&je("connecting")}},o.ondatachannel=g=>{console.log("Data channel received"),Ne.current=g.channel,he(g.channel),W.current&&(W.current.iceConnectionState==="connected"||W.current.iceConnectionState==="completed")&&(je("connected"),J&&L==="chat_only"&&en("deck_selection"))}}catch(c){console.error("Error in initializePeerConnection:",c),w(`P2P初期化エラー: ${c.message}`),je("failed"),o&&o.close(),W.current=null,o=null}finally{Pe(!1)}return o},[he,J,L,en,rn,ae,w]),Kl=C.useCallback(async o=>{I&&I.close(),h("connecting"),re(!0);try{const c=new WebSocket(Zd);return c.onopen=()=>{console.log("WebSocket connected to signaling server"),h("connected"),Y(c),console.log("WebSocket state after setWsConnection:",c.readyState),c.send(JSON.stringify({msg_type:"join-room",data:{room_id:o,max_players:2}}))},c.onmessage=s=>{console.log("WebSocket message received, ws.readyState:",c.readyState),Yl(JSON.parse(s.data),c)},c.onclose=()=>{console.log("WebSocket disconnected"),h("disconnected"),Y(null),ce([]),_e(null),re(!1)},c.onerror=s=>{console.error("WebSocket error:",s),h("failed"),w("シグナリングサーバーへの接続に失敗しました。"),re(!1)},c}catch(c){return console.error("Failed to connect to signaling server:",c),h("failed"),w("シグナリングサーバーへの接続に失敗しました。"),re(!1),null}},[I,K]),Yl=C.useCallback(async(o,c)=>{switch(console.log("Received signaling message:",o),console.log("Message structure - msg_type:",o.msg_type,"sender:",o.sender,"target:",o.target),o.msg_type){case"welcome":console.log("Welcome message received, client ID:",o.data.client_id);break;case"room-joined":_e(o.data.room_id),ce(o.data.players||[]),R(s=>[...s,{id:q(),sender:"system",text:`ルーム「${o.data.room_id}」に参加しました。接続されているユーザー: ${o.data.player_count}人`,timestamp:Date.now()}]);break;case"user-joined":ce(s=>{const d=[...s||[]];return d.includes(o.data.user_id)||d.push(o.data.user_id),d}),R(s=>[...s,{id:q(),sender:"system",text:`新しいユーザーが参加しました: ${o.data.user_id}`,timestamp:Date.now()}]),o.data.player_count===2&&ae==="disconnected"&&R(s=>[...s,{id:q(),sender:"system",text:"2人揃いました！接続開始ボタンが表示されます。",timestamp:Date.now()}]);break;case"user-left":ce(s=>s.filter(d=>d!==o.data.user_id)),R(s=>[...s,{id:q(),sender:"system",text:`ユーザーが退出しました: ${o.data.user_id}`,timestamp:Date.now()}]);break;case"offer":o.sender&&await Ra(o.data,o.sender,c);break;case"answer":o.sender&&await Xl(o.data,o.sender);break;case"ice-candidate":o.sender&&await cl(o.data,o.sender);break;case"room-error":w(`ルーム参加エラー: ${o.data.error}`);break;default:console.warn("Unknown signaling message type:",o.msg_type)}},[ae,R]),La=C.useCallback(async o=>{if(W.current){console.log("P2P connection already exists, skipping initialization");return}console.log("=== WebRTC ハンドシェイク開始 ==="),console.log("Role:",o?"オファー側":"アンサー側"),Ie(o),Fe(o?"creating-offer":"waiting-for-offer"),Ee([]);const c=await yn();if(!c){w("P2P接続の初期化に失敗しました。"),Fe("failed");return}if(o){console.log("1. オファーSDP送信準備中..."),Fe("creating-offer");const s=c.createDataChannel("game_and_chat_auto");Ne.current=s,he(s);try{console.log("2. オファーSDP作成中...");const d=await c.createOffer();if(await c.setLocalDescription(d),console.log("3. オファーSDP送信中...",d),Fe("offer-sent"),console.log(JSON.stringify({msg_type:"offer",data:d,target:ne.find(g=>g!==K)||null})),I&&I.readyState===WebSocket.OPEN)I.send(JSON.stringify({msg_type:"offer",data:d,target:ne.find(g=>g!==K)||null})),R(g=>[...g,{id:q(),sender:"system",text:"✓ ステップ1: オファーSDP送信完了",timestamp:Date.now()}]);else throw new Error("WebSocket接続が利用できません")}catch(d){console.error("Error creating/sending offer:",d),w("オファーの作成または送信に失敗しました。"),Fe("failed")}}else console.log("アンサー側: オファー受信を待機中..."),R(s=>[...s,{id:q(),sender:"system",text:"アンサー側として待機中... オファーを待っています",timestamp:Date.now()}])},[yn,he,I,ne,K,R]),Br=C.useCallback(async()=>{if(!W.current||!W.current.remoteDescription){console.log("Remote description not set yet, cannot process pending ICE candidates");return}console.log(`Processing ${ye.length} pending ICE candidates`);for(const o of ye)try{await W.current.addIceCandidate(new RTCIceCandidate(o)),console.log("✓ Pending ICE candidate processed successfully")}catch(c){console.error("Error processing pending ICE candidate:",c)}Ee([]),console.log("All pending ICE candidates processed")},[ye]),Ra=C.useCallback(async(o,c,s)=>{if(console.log("=== オファー受信 ==="),console.log("4. オファー受信:",c),console.log("Offer SDP:",o),W.current){console.log("既にP2P接続が存在します。無視します。");return}Fe("offer-received"),Ie(!1),R(g=>[...g,{id:q(),sender:"system",text:"✓ ステップ2: オファー受信完了",timestamp:Date.now()}]);const d=await yn();if(!d){w("P2P接続の初期化に失敗しました。"),Fe("failed");return}try{console.log("5. オファー情報セット中..."),Fe("setting-offer"),await d.setRemoteDescription(new RTCSessionDescription(o)),console.log("6. アンサーSDP作成中..."),Fe("creating-answer");const g=await d.createAnswer();await d.setLocalDescription(g),console.log("7. アンサーSDP送信中...",g),Fe("answer-sent"),console.log(JSON.stringify({msg_type:"answer",data:g,target:c}));const S=s||I;if(console.log("WebSocket状態チェック:",S?`readyState=${S.readyState}`:"WebSocket is null"),console.log("WebSocket状態:",(S==null?void 0:S.readyState)===WebSocket.CONNECTING?"CONNECTING":(S==null?void 0:S.readyState)===WebSocket.OPEN?"OPEN":(S==null?void 0:S.readyState)===WebSocket.CLOSING?"CLOSING":(S==null?void 0:S.readyState)===WebSocket.CLOSED?"CLOSED":"UNKNOWN"),S&&S.readyState===WebSocket.OPEN)S.send(JSON.stringify({msg_type:"answer",data:g,target:c})),R(T=>[...T,{id:q(),sender:"system",text:"✓ ステップ3: アンサーSDP送信完了",timestamp:Date.now()}]),await Br();else throw new Error("WebSocket接続が利用できません")}catch(g){console.error("Error handling offer:",g),w("オファーの処理に失敗しました。"),Fe("failed")}},[yn,I,R,Br]),Xl=C.useCallback(async(o,c)=>{if(console.log("=== アンサー受信 ==="),console.log("8. アンサー受信:",c),console.log("Answer SDP:",o),!W.current){console.error("No peer connection when receiving answer"),w("P2P接続が初期化されていません。"),Fe("failed");return}try{console.log("9. アンサー情報セット中..."),Fe("setting-answer"),await W.current.setRemoteDescription(new RTCSessionDescription(o)),R(s=>[...s,{id:q(),sender:"system",text:"✓ ステップ4: アンサー情報セット完了",timestamp:Date.now()}]),console.log("10. ICE候補交換を開始..."),Fe("ice-exchange"),await Br()}catch(s){console.error("Error handling answer:",s),w("アンサーの処理に失敗しました。"),Fe("failed")}},[R,Br]),cl=C.useCallback(async(o,c)=>{if(console.log("=== ICE候補受信 ==="),console.log("ICE候補受信 from:",c),console.log("Candidate:",o),!W.current){console.error("No peer connection when receiving ICE candidate");return}if(!W.current.remoteDescription){console.log("Remote description not set yet, queuing ICE candidate"),Ee(s=>{const d=[...s,o];return console.log(`ICE候補をキューに追加 (total: ${d.length})`),d});return}try{console.log("ICE候補情報セット中..."),await W.current.addIceCandidate(new RTCIceCandidate(o)),console.log("✓ ICE候補追加成功")}catch(s){console.error("Error adding ICE candidate:",s)}},[]),St=C.useCallback(async()=>{console.log("Manual P2P disconnect initiated."),Ne.current&&(Ne.current.onclose=null,Ne.current.close(),Ne.current=null),W.current&&(W.current.onicecandidate=null,W.current.oniceconnectionstatechange=null,W.current.ondatachannel=null,W.current.onicegatheringstatechange=null,W.current.close(),W.current=null),ge(""),Ye(""),qe([]),oe(""),Ee([]),Fe("waiting"),ae!=="failed"&&je("disconnected"),Ie(!1),rn()},[rn,ae]),vn=()=>{be.trim()?(ht({messageType:"chat",payload:{text:be,sender:K}}),R(o=>[...o,{id:Date.now().toString(),sender:"me",text:be,timestamp:Date.now()}]),Rt("")):be.trim()||w("メッセージが空です。")},Rn=C.useCallback(async()=>{R(o=>[...o,{id:q(),sender:"system",text:`ルーム「${J}」から退出しました。`,timestamp:Date.now()}]),I&&(I.close(),Y(null)),h("disconnected"),ce([]),_e(null),Ee([]),Fe("waiting"),await St(),le(null),H("main"),w(null),ft("")},[St,J,I]),cr=C.useCallback(async o=>{if(!o.trim()&&D==="main"&&!x.trim()){w("部屋名を入力するか、既存の部屋を選択してください。");return}const c=D==="main"&&x.trim()?x:o;Ke(!0),await St();const s=qd();ft(s),le(c),H("room"),te(""),w(null);const d=`chatHistory_${c}`,g=localStorage.getItem(d);let S=[];if(g)try{S=JSON.parse(g)}catch(z){console.error("Failed to parse stored chat history:",z),S.push({id:Date.now().toString(),sender:"system",text:"チャット履歴の読み込みに失敗しました。",timestamp:Date.now()})}R([...S,{id:Date.now().toString(),sender:"system",text:`ルーム「${c}」に入室しました。シグナリングサーバーに接続中...`,timestamp:Date.now()}]),await Kl(c)||(w("シグナリングサーバーへの接続に失敗しました。手動接続を使用してください。"),R(z=>[...z,{id:Date.now().toString(),sender:"system",text:`手動P2P接続を使用してください。あなたのP2P ID: ${s.substring(0,6)}`,timestamp:Date.now()}])),Ke(!1)},[D,x,St,Kl]),dr=async(o,c)=>{if(o)try{await navigator.clipboard.writeText(o),alert(`${c} をクリップボードにコピーしました。`)}catch(s){console.error(`クリップボードへのコピーに失敗しました (${c}):`,s),w("クリップボードへのコピーに失敗しました。手動でコピーしてください。")}},Mn=C.useCallback(async()=>{await St(),Ie(!0),qe([]);const o=await yn();if(!o){w("P2P接続の初期化に失敗しました。TURNサーバー情報を確認してください。"),je("failed");return}const c=o.createDataChannel("game_and_chat_manual");Ne.current=c,he(c);try{je("connecting");const s=await o.createOffer();await o.setLocalDescription(s),ge(JSON.stringify(s)),R(d=>[...d,{id:Date.now().toString(),sender:"system",text:"オファーを作成しました。SDPを相手に伝えてください。ICE候補は集まり次第表示されます。",timestamp:Date.now()}])}catch(s){console.error("Error creating offer:",s),w(`手動オファー作成失敗: ${s.message}`),je("failed")}},[yn,he,St,w]),Bi=C.useCallback(async()=>{if(!ie.trim()){w("相手のオファーSDP(手動)を入力してください。");return}await St(),Ie(!1),qe([]);const o=await yn();if(!o){w("P2P接続の初期化に失敗しました。TURNサーバー情報を確認してください。"),je("failed");return}try{je("connecting");const c=JSON.parse(ie);if(c.type!=="offer"){w("入力されたSDPはオファーではありません。相手のオファーSDPを正しく入力してください。"),je("failed");return}await o.setRemoteDescription(new RTCSessionDescription(c));const s=await o.createAnswer();await o.setLocalDescription(s),ge(JSON.stringify(s)),Ye(""),R(d=>[...d,{id:Date.now().toString(),sender:"system",text:"アンサーを作成しました。SDPを相手に伝えてください。ICE候補は集まり次第表示されます。",timestamp:Date.now()}])}catch(c){console.error("Error creating answer:",c),w(`手動アンサー作成失敗: ${c.message}. オファーSDPが正しいか確認してください。`),je("failed")}},[ie,yn,St,w]),Ma=C.useCallback(async()=>{const o=W.current;if(!o){w("P2P接続が初期化されていません。まずオファーまたはアンサーを作成してください。");return}let c=!1;if(ie.trim())try{const s=JSON.parse(ie);ke?s.type==="answer"&&o.signalingState==="have-local-offer"?(await o.setRemoteDescription(new RTCSessionDescription(s)),R(d=>[...d,{id:Date.now().toString(),sender:"system",text:"相手のアンサーSDPを設定しました。",timestamp:Date.now()}]),c=!0):w("無効なSDPタイプまたはP2P状態です。オファー側はアンサーSDPを期待しています。現在の状態: "+o.signalingState):(w("アンサー側は通常、このステップでSDPを再設定しません。オファーSDPはアンサー作成時に設定されます。"),console.warn("Answerer attempting to set remote SDP via handleSetRemoteInfoManual. This is unusual.")),c&&Ye("")}catch(s){console.error("Error setting remote SDP:",s),w(`相手のSDP設定失敗(手動): ${s.message}. 有効なJSON形式のSDPを入力してください。`)}if(Oe.trim())try{let s=JSON.parse(Oe);if(!Array.isArray(s))if(typeof s=="object"&&s!==null&&(s.candidate||s.sdpMid))console.warn("Remote ICE input was a single candidate object, wrapping in an array. Please provide a JSON array of candidates."),s=[s];else throw new Error("ICE候補はJSON配列形式である必要があります。");const d=s;let g=0;for(const S of d)if(S&&(typeof S.candidate=="string"||typeof S.sdpMid=="string"||typeof S.sdpMLineIndex=="number"))if(o.remoteDescription)await o.addIceCandidate(new RTCIceCandidate(S)),g++;else{console.warn("Skipping ICE candidate, remote description not yet set.",S),w("ICE候補を追加する前に、相手のSDP（オファー/アンサー）を設定する必要があります。");break}else console.warn("Skipping invalid remote ICE candidate object:",S);g>0?(R(S=>[...S,{id:Date.now().toString(),sender:"system",text:`${g}件の相手ICE候補を設定しました。`,timestamp:Date.now()}]),oe("")):d.length>0&&g===0&&!fe&&w("ICE候補の追加に失敗しました。有効な候補か、または相手のSDPが先に設定されているか確認してください。")}catch(s){console.error("Error processing remote ICE candidates:",s),w(`相手ICE候補設定失敗(手動): ${s.message}. 有効なJSON配列を入力してください。`)}},[ke,ie,Oe,w,fe]),ln=o=>{const{name:c,value:s}=o.target;sr(d=>({...d,[c]:c==="cost"||c==="attack"||c==="defense"?parseInt(s)||0:s}))},Hi=()=>{var o;if(!((o=bt.name)!=null&&o.trim())){w("カード名を入力してください。");return}qt!=null&&qt.id?ir(lt.map(c=>c.id===qt.id?{...c,...bt,id:qt.id}:c)):ir([...lt,{...bt,id:q()}]),sr({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""}),Lr(null),w(null)},Oa=o=>{Lr(o),sr(o)},dl=o=>{window.confirm("このカードを本当に削除しますか？このカードを使用しているデッキからも削除されます。")&&(ir(lt.filter(c=>c.id!==o)),Vn(c=>c.map(s=>({...s,cardIds:s.cardIds.filter(d=>d!==o)}))),w(null))},za=()=>{if(lt.length===0){w("エクスポートするカードがありません。");return}try{const o=JSON.stringify(lt,null,2),c=new Blob([o],{type:"application/json"}),s=URL.createObjectURL(c),d=document.createElement("a");d.href=s,d.download="cards.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(s),w(null)}catch(o){console.error("カードのエクスポートに失敗しました:",o),w("カードのエクスポートに失敗しました。")}},Vi=o=>{var d;const c=(d=o.target.files)==null?void 0:d[0];if(!c)return;const s=new FileReader;s.onload=g=>{var S;try{const T=(S=g.target)==null?void 0:S.result;if(typeof T!="string"){w("ファイル内容の読み取りに失敗しました。");return}const z=JSON.parse(T);if(!Array.isArray(z)){w("無効なJSON形式です。カードの配列ではありません。");return}ir(b=>{const pe=new Map(b.map(ue=>[ue.id,ue]));let Ge=0,Le=0;return z.forEach(ue=>{ue&&typeof ue.id=="string"&&typeof ue.name=="string"&&typeof ue.cost=="number"&&typeof ue.attack=="number"&&typeof ue.defense=="number"&&typeof ue.text=="string"?(pe.set(ue.id,{...pe.get(ue.id),...ue}),Ge++):(console.warn("インポート中に無効なカード構造をスキップ:",ue),Le++)}),Le>0?w(`${Le}件のカードが無効な構造のためスキップされました。`):w(null),alert(`${Ge}件のカードがインポート/更新されました。${Le>0?Le+"件はスキップされました。":""}`),Array.from(pe.values())})}catch(T){console.error("カードのインポートに失敗しました:",T),w("カードのインポートに失敗しました。ファイルが正しいJSON形式であることを確認してください。")}finally{fn.current&&(fn.current.value="")}},s.onerror=()=>{w("ファイル読み込みエラーが発生しました。"),fn.current&&(fn.current.value="")},s.readAsText(c)},Wt=o=>{const{name:c,value:s,type:d}=o.target;if(d==="checkbox"){const{checked:g}=o.target;In(S=>{const T=S.colors||[];return g?{...S,colors:[...T,c]}:{...S,colors:T.filter(z=>z!==c)}})}else In(c==="types"?g=>({...g,types:s.split(",").map(S=>S.trim()).filter(Boolean)}):g=>({...g,[c]:c==="power"||c==="toughness"?parseInt(s)||0:s}))},Hr=()=>{var c;if(!((c=et.name)!=null&&c.trim())){w("トークン名を入力してください。");return}const o={id:(Nt==null?void 0:Nt.id)||q(),name:et.name,power:et.power||0,toughness:et.toughness||0,colors:et.colors||[],types:et.types||[],text:et.text||"",imageUrl:et.imageUrl||"",isCreature:(et.power||0)>0||(et.toughness||0)>0||(et.types||[]).some(s=>s.toLowerCase().includes("creature"))};Nt!=null&&Nt.id?Zt(He.map(s=>s.id===Nt.id?o:s)):Zt([...He,o]),In({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""}),Pn(null),w(null)},fr=o=>{Pn(o),In(o)},fl=o=>{window.confirm("このトークン定義を本当に削除しますか？")&&(Zt(He.filter(c=>c.id!==o)),w(null))},Wi=()=>{if(He.length===0){w("エクスポートするトークン定義がありません。");return}try{const o=JSON.stringify(He,null,2),c=new Blob([o],{type:"application/json"}),s=URL.createObjectURL(c),d=document.createElement("a");d.href=s,d.download="token_definitions.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(s),w(null)}catch(o){console.error("トークン定義のエクスポートに失敗:",o),w("トークン定義のエクスポートに失敗。")}},Qi=o=>{var d;const c=(d=o.target.files)==null?void 0:d[0];if(!c)return;const s=new FileReader;s.onload=g=>{var S;try{const T=(S=g.target)==null?void 0:S.result;if(typeof T!="string"){w("ファイル内容の読み取り失敗。");return}const z=JSON.parse(T);if(!Array.isArray(z)){w("無効なJSON形式。トークン定義の配列ではありません。");return}Zt(b=>{const pe=new Map(b.map(ue=>[ue.id,ue]));let Ge=0,Le=0;return z.forEach(ue=>{ue&&typeof ue.id=="string"&&typeof ue.name=="string"?(pe.set(ue.id,{...pe.get(ue.id),...ue}),Ge++):(console.warn("インポート中に無効なトークン定義構造をスキップ:",ue),Le++)}),Le>0?w(`${Le}件のトークン定義が無効な構造のためスキップ。`):w(null),alert(`${Ge}件のトークン定義がインポート/更新されました。${Le>0?Le+"件はスキップ。":""}`),Array.from(pe.values())})}catch(T){console.error("トークン定義のインポート失敗:",T),w("トークン定義のインポート失敗。JSON形式確認。")}finally{Hn.current&&(Hn.current.value="")}},s.onerror=()=>{w("ファイル読み込みエラー。"),Hn.current&&(Hn.current.value="")},s.readAsText(c)},Zl=o=>{En(c=>({...c,name:o.target.value}))},pl=o=>{En(c=>({...c,selectedCardIds:[...c.selectedCardIds,o]}))},ql=o=>{En(c=>{const s=c.selectedCardIds.indexOf(o);if(s===-1)return c;const d=[...c.selectedCardIds];return d.splice(s,1),{...c,selectedCardIds:d}})},$a=()=>{if(!Gt.name.trim()){w("デッキ名を入力してください。");return}_n!=null&&_n.id?Vn(De.map(o=>o.id===_n.id?{...o,name:Gt.name,cardIds:Gt.selectedCardIds}:o)):Vn([...De,{id:q(),name:Gt.name,cardIds:Gt.selectedCardIds}]),En({name:"",selectedCardIds:[]}),or(null),w(null)},On=o=>{or(o),En({name:o.name,selectedCardIds:[...o.cardIds]})},bl=o=>{window.confirm("このデッキを本当に削除しますか？")&&(Vn(De.filter(c=>c.id!==o)),w(null))},ml=()=>{if(De.length===0){w("エクスポートするデッキがありません。");return}try{const o=JSON.stringify(De,null,2),c=new Blob([o],{type:"application/json"}),s=URL.createObjectURL(c),d=document.createElement("a");d.href=s,d.download="decks.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(s),w(null)}catch(o){console.error("デッキのエクスポートに失敗しました:",o),w("デッキのエクスポートに失敗しました。")}},Fa=o=>{var d;const c=(d=o.target.files)==null?void 0:d[0];if(!c)return;const s=new FileReader;s.onload=g=>{var S;try{const T=(S=g.target)==null?void 0:S.result;if(typeof T!="string"){w("ファイル内容の読み取りに失敗しました。");return}const z=JSON.parse(T);if(!Array.isArray(z)){w("無効なJSON形式です。デッキの配列ではありません。");return}const b=new Set(lt.map(Qe=>Qe.id));let pe=0,Ge=[];const Le=z.map(Qe=>{if(!Qe||typeof Qe.id!="string"||typeof Qe.name!="string"||!Array.isArray(Qe.cardIds))return console.warn("インポート中に無効なデッキ構造をスキップ:",Qe),pe++,null;let kn=0;const Fn=Qe.cardIds.filter(Ja=>{const Mt=b.has(Ja);return Mt||(console.warn(`デッキ "${Qe.name}" (ID: ${Qe.id}) - 存在しないカードID "${Ja}" を発見。除去します。`),kn++),Mt});return kn>0&&Ge.push(`デッキ「${Qe.name}」から存在しないカードID ${kn}件を除去。`),{...Qe,cardIds:Fn}}).filter(Boolean);Vn(Qe=>{const kn=new Map(Qe.map(Fn=>[Fn.id,Fn]));return Le.forEach(Fn=>{kn.set(Fn.id,{...kn.get(Fn.id),...Fn})}),Array.from(kn.values())});let ue=`${Le.length}件のデッキがインポート/更新されました。`;pe>0&&(ue+=` ${pe}件はスキップ。`),Ge.length>0&&(ue+=`
詳細:
${Ge.join(`
`)}`),alert(ue),w(Ge.length>0||pe>0?ue.split(`
`)[0]+" (詳細はコンソール確認)":null)}catch(T){console.error("デッキのインポートに失敗:",T),w("デッキのインポート失敗。JSON形式確認。")}finally{jn.current&&(jn.current.value="")}},s.onerror=()=>{w("ファイル読み込みエラー。"),jn.current&&(jn.current.value="")},s.readAsText(c)},hl=o=>{var s;const c=De.find(d=>d.id===o);if(c){const d=at===o,g=at?(s=De.find(z=>z.id===at))==null?void 0:s.name:null;Wn(o);const S={type:"deck_selected",deckName:c.name,deckSize:c.cardIds.length,peerId:K};ht({messageType:"game_action",payload:S});let T="";d?T=`デッキ「${c.name}」(${c.cardIds.length}枚) を再度選択しました。`:g?T=`デッキ「${g}」から「${c.name}」(${c.cardIds.length}枚) に変更しました。`:T=`デッキ「${c.name}」(${c.cardIds.length}枚) を選択しました。`,Xe?(T+=" 相手も選択済みです。",ur(!0)):T+=" 相手の選択を待っています...",R(z=>[...z,{id:q(),sender:"system",text:T,timestamp:Date.now()}])}},gl=()=>{if(!at||!Xe||!ke){w("両プレイヤーがデッキを選択し、あなたがオファー作成者である必要があります。"),ke||w("あなたはゲーム開始者(オファー作成者)ではありません。");return}const o=De.find(b=>b.id===at);if(!o){w("選択したデッキが見つかりません。");return}if(!Xe){w("相手のデッキ情報がありません。");return}const c=o.cardIds.map(b=>Kn(b)).filter(Boolean),s=Ea(c),d=s.slice(0,rt),g=s.slice(rt),S=[{id:q(),title:"Note 1",text:"",isShared:!1}],T=[{id:q(),title:"Note 1",text:"",isShared:!1}];kt({life:Gl,deck:g,hand:d,field:[],fieldTokens:[],graveyard:[],myNotes:S}),jt({life:Gl,deckCount:Xe.size-rt,handCount:rt,field:[],fieldTokens:[],graveyard:[],opponentNotes:T}),en("MULLIGAN"),Rr(0),Mr(0),Tn("deciding"),Or("deciding"),pn([]),R(b=>[...b,{id:q(),sender:"system",text:`ゲームセットアップ完了。マリガンフェイズです。両プレイヤーは手札${rt}枚で開始。`,timestamp:Date.now()}]),ht({messageType:"game_action",payload:{type:"game_start_request",peerId:K,initialOpponentHandSize:rt,initialOpponentLife:Gl}}),ur(!1)},Ua=()=>{if(!O||xt==="kept")return;Tn("kept");const o=O.hand.length;ht({messageType:"game_action",payload:{type:"player_decision_mulligan",peerId:K,actionTaken:"kept_hand",mulligansTakenThisGame:tt,resultingHandSize:o}}),R(s=>[...s,{id:q(),sender:"system",text:`あなたは手札をキープしました (手札${o}枚、マリガン${tt}回)。相手の決定を待っています...`,timestamp:Date.now()}])},Tt=()=>{if(!O||xt==="kept"||tt>=7)return;Tn("selecting_bottom");const o=Ea([...O.hand,...O.deck]),c=o.slice(0,rt),s=o.slice(rt);kt(g=>g?{...g,hand:c,deck:s}:null),pn([]);const d=tt+1;R(g=>[...g,{id:q(),sender:"system",text:`マリガン ${tt+1}回目: 7枚ドローしました。${d}枚をデッキボトムに送ってください。`,timestamp:Date.now()}])},pr=()=>{if(!O||xt!=="selecting_bottom")return;const o=tt+1;if(Bt.length!==o){w(`マリガンエラー: ${o}枚のカードを選択してボトムに送る必要があります。現在${Bt.length}枚選択されています。`);return}w(null);const c=O.hand.filter((S,T)=>!Bt.includes(T)),s=O.hand.filter((S,T)=>Bt.includes(T)),d=tt+1;kt(S=>S?{...S,hand:c,deck:[...S.deck,...s]}:null),Rr(d),Tn("deciding"),pn([]);const g={type:"player_decision_mulligan",peerId:K,actionTaken:"performed_mulligan_step",mulligansTakenThisGame:d,resultingHandSize:c.length};ht({messageType:"game_action",payload:g}),R(S=>[...S,{id:q(),sender:"system",text:`マリガン ${d}回目完了。新しい手札は ${c.length}枚です。この手札でキープしますか？`,timestamp:Date.now()}])},ea=o=>{if(xt!=="selecting_bottom")return;const c=tt+1;pn(s=>{const d=[...s],g=d.indexOf(o);return g>-1?d.splice(g,1):d.length<c?d.push(o):w(`既に ${c}枚選択済みです。選択済みのカードをクリックして解除してください。`),d})},Zn=C.useCallback(o=>{if(!O||L!=="game_active")return;let c=typeof o=="string"?parseInt(o,10):o;if(isNaN(c))return;c=Math.max(0,c),kt(d=>d?{...d,life:c}:null),ht({messageType:"game_action",payload:{type:"update_life",newLifeTotal:c,peerId:K}}),R(d=>[...d,{id:q(),sender:"system",text:`あなたはライフを ${c} に変更しました。`,timestamp:Date.now()}])},[O,L,K,ht]),Ji=()=>{if(!O||O.deck.length===0||L!=="game_active"){w(L!=="game_active"?"まだゲームがアクティブではありません。":"デッキにカードがありません。");return}const[o,...c]=O.deck;kt(d=>d?{...d,deck:c,hand:[...d.hand,o]}:null),ht({messageType:"game_action",payload:{type:"draw_card",peerId:K}}),R(d=>[...d,{id:q(),sender:"system",text:`カード「${o.name}」をドローしました。`,timestamp:Date.now()}])},yl=(o,c)=>{if(!O||L!=="game_active"){w(L!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}const s=O.hand.filter((g,S)=>S!==c);kt(g=>g?{...g,hand:s,field:[...g.field,o]}:null),ht({messageType:"game_action",payload:{type:"play_card",card:o,peerId:K}}),R(g=>[...g,{id:q(),sender:"system",text:`カード「${o.name}」をプレイしました。`,timestamp:Date.now()}])},ta=o=>{if(!O||L!=="game_active"){w("ゲームがアクティブでないためトークンを生成できません。");return}const c=Ta(o);if(!c){w("選択されたトークン定義が見つかりません。");return}const s=q(),d={instanceId:s,definition:c};kt(S=>S?{...S,fieldTokens:[...S.fieldTokens,d]}:null),ht({messageType:"game_action",payload:{type:"create_token",tokenDefinition:c,instanceId:s,peerId:K}}),R(S=>[...S,{id:q(),sender:"system",text:`トークン「${c.name}」を生成しました。`,timestamp:Date.now()}]),gn()},mr=(o,c,s,d)=>{if(!O||L!=="game_active"){w(L!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}if(c==="card"){const g=o;let S=`カード「${g.name}」を`;kt(z=>{if(!z)return null;let b=[...z.hand],pe=[...z.field];const Ge=[...z.graveyard,g];if(s==="hand")b.splice(d,1),S+="手札から墓地へ送りました。";else if(s==="field"){const Le=pe.findIndex((ue,Qe)=>Qe===d&&ue.id===g.id);if(Le>-1)pe.splice(Le,1),S+="フィールドから墓地へ送りました。";else{const ue=pe.findIndex(Qe=>Qe.id===g.id);ue>-1?(pe.splice(ue,1),S+="フィールドから墓地へ送りました (フォールバックIDマッチ)。"):(console.warn(`SendToGraveyard (P2P Card): card ID ${g.id} not found on field at index ${d} or by ID.`),S+="フィールドから墓地へ送ろうとしましたが、見つかりませんでした。")}}return{...z,hand:b,field:pe,graveyard:Ge}}),ht({messageType:"game_action",payload:{type:"move_to_graveyard",card:g,fromZone:s,fromZoneIndex:d,peerId:K}}),R(z=>[...z,{id:q(),sender:"system",text:S,timestamp:Date.now()}])}else if(c==="token"){const g=o;kt(T=>T?{...T,fieldTokens:T.fieldTokens.filter(z=>z.instanceId!==g.instanceId)}:null);const S={type:"remove_token_from_field",instanceId:g.instanceId,peerId:K};ht({messageType:"game_action",payload:S}),R(T=>[...T,{id:q(),sender:"system",text:`トークン「${g.definition.name}」がフィールドを離れました。`,timestamp:Date.now()}])}},Vr=C.useCallback((o,c,s)=>{if(!O||L!=="game_active")return;let d=`あなたはカード「${o.name}」を墓地から`;const g=[...O.graveyard];g.splice(c,1);let S=[...O.hand],T=[...O.field];s==="hand"?(S.push(o),d+="手札へ移動しました。"):(T.push(o),d+="フィールドへ移動しました。"),kt(b=>b?{...b,graveyard:g,hand:S,field:T}:null),Fr&&nn==="my"&&Ar(g),ht({messageType:"game_action",payload:{type:"move_from_graveyard",card:o,toZone:s,graveyardCardIndex:c,peerId:K}}),R(b=>[...b,{id:q(),sender:"system",text:d,timestamp:Date.now()}])},[O,L,K,ht,Fr,nn]),Qt=C.useCallback(o=>{kt(s=>s?{...s,myNotes:o}:null),ht({messageType:"game_action",payload:{type:"update_notes",peerId:K,notes:o}})},[K,ht]),Ki=C.useCallback((o,c)=>{if(!O||L!=="game_active")return;const s=O.myNotes.map(d=>d.id===o?{...d,text:c}:d);Qt(s)},[O,L,Qt]),Yi=C.useCallback((o,c)=>{if(!O||L!=="game_active")return;const s=O.myNotes.map(d=>d.id===o?{...d,title:c}:d);Qt(s)},[O,L,Qt]),Xi=C.useCallback(o=>{if(!O||L!=="game_active")return;let c=!1;const s=O.myNotes.map(d=>d.id===o?(c=!d.isShared,{...d,isShared:c}):d);Qt(s),R(d=>{var g;return[...d,{id:q(),sender:"system",text:`あなたのメモ「${((g=s.find(S=>S.id===o))==null?void 0:g.title)||"無題"}」を ${c?"公開":"非公開"} にしました。`,timestamp:Date.now()}]})},[O,L,Qt]),na=C.useCallback(()=>{if(!O||L!=="game_active")return;const c={id:q(),title:`Note ${O.myNotes.length+1}`,text:"",isShared:!1},s=[...O.myNotes,c];Qt(s),R(d=>[...d,{id:q(),sender:"system",text:`新しいメモ「${c.title}」を追加しました。`,timestamp:Date.now()}])},[O,L,Qt]),Zi=C.useCallback(o=>{if(!O||L!=="game_active"||O.myNotes.length<=1)return;const c=O.myNotes.find(d=>d.id===o),s=O.myNotes.filter(d=>d.id!==o);Qt(s),R(d=>[...d,{id:q(),sender:"system",text:`メモ「${(c==null?void 0:c.title)||"無題"}」を削除しました。`,timestamp:Date.now()}])},[O,L,Qt]),Aa=()=>{zr("deck_selection"),mt(null),Dn(null),Vl(null),Ce(null),sl(0),$r("deciding"),Me([]),Yn(),gn()},qi=o=>{Vl(o),Ce(null)},bi=()=>{if(!mn){Ce("テスト用のデッキを選択してください。");return}const o=De.find(z=>z.id===mn);if(!o){Ce("選択されたデッキが見つかりません。");return}if(o.cardIds.length===0){Ce("選択されたデッキにカードがありません。");return}const c=o.cardIds.map(z=>Kn(z)).filter(Boolean),s=Ea(c),d=s.slice(0,rt),g=s.slice(rt),S=[{id:q(),title:"Test Note 1",text:"",isShared:!1}],T=[{id:q(),title:"Opponent Note 1",text:"Mock opponent notes visible for testing.",isShared:!0}];mt({life:Gl,deck:g,hand:d,field:[],fieldTokens:[],graveyard:[],myNotes:S}),Dn({life:Gl,deckCount:Math.max(0,o.cardIds.length-rt),handCount:rt,field:[],fieldTokens:[],graveyard:[],opponentNotes:T}),zr("MULLIGAN"),sl(0),$r("deciding"),Me([]),Ce(`マリガンフェイズ。初期手札${rt}枚。`)},es=()=>{!U||tn==="kept"||($r("kept"),zr("game_active"),Ce(`手札をキープしました (手札${U.hand.length}枚、マリガン${st}回)。テストゲーム開始！`))},Ga=()=>{if(!U||tn==="kept"||st>=7)return;$r("selecting_bottom");const o=Ea([...U.hand,...U.deck]),c=o.slice(0,rt),s=o.slice(rt);mt(g=>g?{...g,hand:c,deck:s}:null),Me([]);const d=st+1;Ce(`マリガン ${st+1}回目: 7枚ドローしました。${d}枚をデッキボトムに送ってください。`)},ts=()=>{if(!U||tn!=="selecting_bottom")return;const o=st+1;if(Jn.length!==o){Ce(`マリガンエラー: ${o}枚のカードを選択してボトムに送る必要があります。現在${Jn.length}枚選択されています。`);return}Ce(null);const c=U.hand.filter((g,S)=>!Jn.includes(S)),s=U.hand.filter((g,S)=>Jn.includes(S)),d=st+1;mt(g=>g?{...g,hand:c,deck:[...g.deck,...s]}:null),sl(d),$r("deciding"),Me([]),Ce(`マリガン ${d}回目完了。新しい手札は ${c.length}枚です。この手札でキープしますか？`)},ns=o=>{if(tn!=="selecting_bottom")return;const c=st+1;Me(s=>{const d=[...s],g=d.indexOf(o);return g>-1?d.splice(g,1):d.length<c?d.push(o):Ce(`既に ${c}枚選択済みです。選択済みのカードをクリックして解除してください。`),d})},ra=C.useCallback(o=>{if(!U||Q!=="game_active")return;let c=typeof o=="string"?parseInt(o,10):o;if(isNaN(c)){Ce("無効なライフ値です。");return}c=Math.max(0,c),mt(s=>s?{...s,life:c}:null),Ce(`ライフを ${c} に変更しました。`)},[U,Q]),rs=()=>{if(!U||U.deck.length===0||Q!=="game_active"){Ce(Q!=="game_active"?"まだゲームがアクティブではありません。":"デッキにカードがありません。");return}const[o,...c]=U.deck;mt(s=>s?{...s,deck:c,hand:[...s.hand,o]}:null),Ce(null)},vl=(o,c)=>{if(!U||Q!=="game_active"){Ce(Q!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}const s=U.hand.filter((d,g)=>g!==c);mt(d=>d?{...d,hand:s,field:[...d.field,o]}:null),Ce(null)},ls=o=>{if(!U||Q!=="game_active"){Ce("テストゲームがアクティブでないためトークンを生成できません。");return}const c=Ta(o);if(!c){Ce("選択されたトークン定義が見つかりません。");return}const d={instanceId:q(),definition:c};mt(g=>g?{...g,fieldTokens:[...g.fieldTokens,d]}:null),Ce(`テストトークン「${c.name}」を生成しました。`),gn()},Ba=(o,c,s,d)=>{if(!U||Q!=="game_active"){Ce(Q!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}if(c==="card"){const g=o;mt(S=>{if(!S)return null;let T=[...S.hand],z=[...S.field];const b=[...S.graveyard,g];if(s==="hand")T.splice(d,1);else if(s==="field"){const pe=z.findIndex((Ge,Le)=>Le===d&&Ge.id===g.id);if(pe>-1)z.splice(pe,1);else{const Ge=z.findIndex(Le=>Le.id===g.id);Ge>-1?z.splice(Ge,1):console.warn(`TestSendToGraveyard (Card): card ID ${g.id} not found on field.`)}}return{...S,hand:T,field:z,graveyard:b}})}else if(c==="token"){const g=o;mt(S=>S?{...S,fieldTokens:S.fieldTokens.filter(T=>T.instanceId!==g.instanceId)}:null),Ce(`テストトークン「${g.definition.name}」がフィールドを離れました。`)}Ce(null)},Ha=C.useCallback((o,c,s)=>{if(!U||Q!=="game_active")return;let d=`カード「${o.name}」を墓地から`;const g=[...U.graveyard];g.splice(c,1);let S=[...U.hand],T=[...U.field];s==="hand"?(S.push(o),d+="手札へ移動しました。"):(T.push(o),d+="フィールドへ移動しました。"),mt(z=>z?{...z,graveyard:g,hand:S,field:T}:null),Fr&&nn==="my"&&Ar(g),Ce(d)},[U,Q,Fr,nn]),Va=C.useCallback((o,c)=>{!U||Q!=="game_active"||mt(s=>s?{...s,myNotes:s.myNotes.map(d=>d.id===o?{...d,text:c}:d)}:null)},[U,Q]),as=C.useCallback((o,c)=>{!U||Q!=="game_active"||mt(s=>s?{...s,myNotes:s.myNotes.map(d=>d.id===o?{...d,title:c}:d)}:null)},[U,Q]),is=C.useCallback(o=>{if(!U||Q!=="game_active")return;let c=!1,s="";mt(d=>{if(!d)return null;const g=d.myNotes.map(S=>S.id===o?(c=!S.isShared,s=S.title,{...S,isShared:c}):S);return{...d,myNotes:g}}),Ce(`テストメモ「${s||"無題"}」を ${c?"公開":"非公開"} にしました。`)},[U,Q]),ss=C.useCallback(()=>{if(!U||Q!=="game_active")return;const c={id:q(),title:`Test Note ${U.myNotes.length+1}`,text:"",isShared:!1};mt(s=>s?{...s,myNotes:[...s.myNotes,c]}:null),Ce(`新しいテストメモ「${c.title}」を追加しました。`)},[U,Q]),os=C.useCallback(o=>{if(!U||Q!=="game_active"||U.myNotes.length<=1)return;const c=U.myNotes.find(s=>s.id===o);mt(s=>s?{...s,myNotes:s.myNotes.filter(d=>d.id!==o)}:null),Ce(`テストメモ「${(c==null?void 0:c.title)||"無題"}」を削除しました。`)},[U,Q]),zn=C.useCallback((o,c=!1)=>{let s=[];c?o==="my"&&U?s=U.graveyard:o==="opponent"&&it&&(s=it.graveyard):o==="my"&&O?s=O.graveyard:o==="opponent"&&xe&&(s=xe.graveyard),Ar(s),Ur(o),ol(!0)},[O,xe,U,it]),kl=C.useCallback((o,c,s,d,g,S)=>{if((S?Q:L)!=="game_active")return;const z={type:s,data:c,fromZone:d,originalIndex:g,isTestGame:S};o.dataTransfer.setData("application/json",JSON.stringify(z)),o.dataTransfer.effectAllowed="move",Ql(z)},[L,Q]),xl=C.useCallback(()=>{Ql(null),Ln(!1),hn(!1)},[]),hr=C.useCallback((o,c)=>{if(o.preventDefault(),G){if((G.isTestGame?Q:L)!=="game_active"){o.dataTransfer.dropEffect="none";return}c==="field"&&G.fromZone==="hand"&&G.type==="card"?(o.dataTransfer.dropEffect="move",Ln(!0)):c==="graveyard"&&(G.fromZone==="hand"||G.fromZone==="field")?(o.dataTransfer.dropEffect="move",hn(!0)):o.dataTransfer.dropEffect="none"}},[G,L,Q]),$n=C.useCallback(o=>{if(G){if((G.isTestGame?Q:L)!=="game_active")return;o==="field"&&G.fromZone==="hand"&&G.type==="card"?Ln(!0):o==="graveyard"&&(G.fromZone==="hand"||G.fromZone==="field")&&hn(!0)}},[G,L,Q]),Sl=C.useCallback(o=>{o==="field"&&Ln(!1),o==="graveyard"&&hn(!1)},[]),Wr=C.useCallback((o,c)=>{o.preventDefault();const s=o.dataTransfer.getData("application/json");if(s){try{const d=JSON.parse(s),{type:g,data:S,fromZone:T,originalIndex:z,isTestGame:b}=d;if((b?Q:L)!=="game_active")return;c==="field"&&T==="hand"&&g==="card"?b?vl(S,z):yl(S,z):c==="graveyard"&&(b?Ba(S,g,T,z):mr(S,g,T,z))}catch(d){console.error("Error processing dropped item data:",d)}Ql(null),Ln(!1),hn(!1)}},[yl,mr,vl,Ba,L,Q]),Qr=(o,c,s=!1)=>{const{card:d,count:g,originalIndices:S}=o,T=S[S.length-1],z=(G==null?void 0:G.type)==="card"&&(G==null?void 0:G.data).id===d.id&&(G==null?void 0:G.originalIndex)===T&&(G==null?void 0:G.fromZone)==="field"&&(G==null?void 0:G.isTestGame)===s,b=s?Q:L,pe=b!=="game_active";return i.jsx(Xt,{card:d,context:"field",count:g>1?g:void 0,isMyCard:c,originalIndex:T,onDragStartItem:c?(Ge,Le,ue,Qe,kn)=>kl(Ge,Le,ue,Qe,kn,s):void 0,onDragEndItem:c?xl:void 0,isDraggable:c&&b==="game_active",isDragging:z,isDisabled:pe},`${d.id}-${c?"my":"opponent"}-fieldgroup-${T}`)},Jr=(o,c,s,d=!1)=>{const g=(G==null?void 0:G.type)==="token"&&(G==null?void 0:G.data).instanceId===o.instanceId&&(G==null?void 0:G.fromZone)==="field"&&(G==null?void 0:G.isTestGame)===d,S=d?Q:L,T=S!=="game_active";return i.jsx(Xt,{tokenInstance:o,isTokenDisplay:!0,context:"field",isMyCard:s,originalIndex:c,onDragStartItem:s?(z,b,pe,Ge,Le)=>kl(z,b,pe,Ge,Le,d):void 0,onDragEndItem:s?xl:void 0,isDraggable:s&&S==="game_active",isDragging:g,isDisabled:T},o.instanceId)},la=()=>i.jsxs("div",{className:"view-container main-view",children:[i.jsx("header",{children:i.jsx("h1",{children:"P2Pチャット & カードゲーム"})}),i.jsxs("nav",{className:"main-nav",children:[i.jsx("button",{onClick:()=>H("cardEditor"),children:"カードエディタ"}),i.jsx("button",{onClick:()=>H("deckEditor"),children:"デッキエディタ"}),i.jsx("button",{onClick:()=>H("tokenEditor"),children:"トークンエディタ"}),i.jsx("button",{onClick:()=>{Aa(),H("testGameView")},children:"テストゲーム画面"})]}),i.jsxs("section",{className:"room-actions","aria-labelledby":"room-actions-heading",children:[i.jsx("h2",{id:"room-actions-heading",className:"sr-only",children:"ルーム操作"}),i.jsxs("div",{className:"create-room-section",children:[i.jsx("h3",{children:"P2Pセッションを開始/参加"}),i.jsx("p",{className:"info-text",children:"部屋名を入力してP2Pセッションを開始または参加します。相手と同じ部屋名を使用してください。"}),i.jsxs("div",{className:"input-group",children:[i.jsx("label",{htmlFor:"roomNameInput",className:"sr-only",children:"部屋名"}),i.jsx("input",{id:"roomNameInput",type:"text",value:x,onChange:o=>te(o.target.value),placeholder:"部屋名（例: ProjectOmega）","aria-describedby":fe?"error-message":void 0,disabled:se}),i.jsx("button",{onClick:()=>cr(x),disabled:se||!x.trim(),"aria-live":"polite",children:se?"準備中...":"ルームに入る"})]})]}),i.jsxs("div",{className:"join-room-section",children:[i.jsx("h3",{children:"既存の部屋に参加 (クイック選択)"}),i.jsx("p",{className:"info-text",children:"一般的な部屋名を選択して素早く参加できます。"}),Bc.length>0?i.jsx("ul",{className:"room-list",children:Bc.map(o=>i.jsxs("li",{children:[i.jsx("span",{children:o}),i.jsx("button",{onClick:()=>cr(o),disabled:se,"aria-label":`${o} に参加する`,children:se?"準備中...":"選択"})]},o))}):i.jsx("p",{children:"利用可能なクイック選択ルームはありません。"})]})]}),fe&&i.jsx("p",{id:"error-message",className:"error-message global-error",role:"alert",children:fe})]}),Wa=()=>i.jsxs("div",{className:"view-container card-editor-view",children:[i.jsxs("header",{children:[i.jsx("h2",{children:"カードエディタ"}),i.jsx("button",{onClick:()=>{H("main"),w(null),Lr(null),sr({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""})},children:"メインに戻る"})]}),fe&&i.jsx("p",{className:"error-message",role:"alert",children:fe}),i.jsxs("section",{className:"import-export-section",children:[i.jsx("h4",{children:"JSONインポート/エクスポート"}),i.jsx("input",{type:"file",accept:".json",ref:fn,onChange:Vi,style:{display:"none"},id:"card-import-input"}),i.jsx("button",{onClick:()=>{var o;return(o=fn.current)==null?void 0:o.click()},className:"import-button",children:"カードをJSONからインポート"}),i.jsx("button",{onClick:za,className:"export-button",disabled:lt.length===0,children:"カードをJSONへエクスポート"})]}),i.jsxs("section",{className:"card-form-section",children:[i.jsx("h3",{children:qt?"カードを編集":"新しいカードを作成"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"cardName",children:"カード名:"}),i.jsx("input",{type:"text",id:"cardName",name:"name",value:bt.name||"",onChange:ln,required:!0})]}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"cardCost",children:"コスト:"}),i.jsx("input",{type:"number",id:"cardCost",name:"cost",value:bt.cost||0,onChange:ln,min:"0"})]}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"cardAttack",children:"攻撃力:"}),i.jsx("input",{type:"number",id:"cardAttack",name:"attack",value:bt.attack||0,onChange:ln,min:"0"})]}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"cardDefense",children:"防御力/体力:"}),i.jsx("input",{type:"number",id:"cardDefense",name:"defense",value:bt.defense||0,onChange:ln,min:"0"})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{htmlFor:"cardText",children:"カードテキスト:"}),i.jsx("textarea",{id:"cardText",name:"text",value:bt.text||"",onChange:ln,rows:3})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{htmlFor:"cardImageUrl",children:"画像URL (任意):"}),i.jsx("input",{type:"text",id:"cardImageUrl",name:"imageUrl",value:bt.imageUrl||"",onChange:ln,placeholder:"https://example.com/image.png"})]})]}),i.jsx("button",{onClick:Hi,children:qt?"カードを更新":"カードを追加"}),qt&&i.jsx("button",{onClick:()=>{Lr(null),sr({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""})},className:"cancel-button",children:"キャンセル"})]}),i.jsxs("section",{className:"card-list-section",children:[i.jsxs("h3",{children:["登録済みカード一覧 (",lt.length,"枚)"]}),lt.length===0?i.jsx("p",{children:"登録されているカードはありません。"}):i.jsx("ul",{className:"card-list editor-list mtg-card-grid",children:lt.map(o=>i.jsxs("li",{className:"card-item-wrapper",children:[i.jsx(Xt,{card:o,context:"editor-list",isMyCard:!1}),i.jsxs("div",{className:"card-actions editor-actions",children:[i.jsx("button",{onClick:()=>Oa(o),children:"編集"}),i.jsx("button",{onClick:()=>dl(o.id),className:"delete-button",children:"削除"})]})]},o.id))})]})]}),gr=()=>i.jsxs("div",{className:"view-container token-editor-view",children:[i.jsxs("header",{children:[i.jsx("h2",{children:"トークンエディタ"}),i.jsx("button",{onClick:()=>{H("main"),w(null),Pn(null),In({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""})},children:"メインに戻る"})]}),fe&&i.jsx("p",{className:"error-message",role:"alert",children:fe}),i.jsxs("section",{className:"import-export-section",children:[i.jsx("h4",{children:"JSONインポート/エクスポート"}),i.jsx("input",{type:"file",accept:".json",ref:Hn,onChange:Qi,style:{display:"none"},id:"token-import-input"}),i.jsx("button",{onClick:()=>{var o;return(o=Hn.current)==null?void 0:o.click()},className:"import-button",children:"トークン定義をJSONからインポート"}),i.jsx("button",{onClick:Wi,className:"export-button",disabled:He.length===0,children:"トークン定義をJSONへエクスポート"})]}),i.jsxs("section",{className:"token-form-section",children:[i.jsx("h3",{children:Nt?"トークン定義を編集":"新しいトークン定義を作成"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"tokenName",children:"トークン名:"}),i.jsx("input",{type:"text",id:"tokenName",name:"name",value:et.name||"",onChange:Wt,required:!0})]}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"tokenPower",children:"パワー:"}),i.jsx("input",{type:"number",id:"tokenPower",name:"power",value:et.power||0,onChange:Wt,min:"0"})]}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"tokenToughness",children:"タフネス:"}),i.jsx("input",{type:"number",id:"tokenToughness",name:"toughness",value:et.toughness||0,onChange:Wt,min:"0"})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{htmlFor:"tokenTypes",children:"タイプ (カンマ区切り 例: Creature - Goblin, Artifact):"}),i.jsx("input",{type:"text",id:"tokenTypes",name:"types",value:(et.types||[]).join(", "),onChange:Wt})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{children:"色:"}),i.jsx("div",{className:"checkbox-group",children:["W","U","B","R","G","C","Gold"].map(o=>i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",name:o,checked:(et.colors||[]).includes(o),onChange:Wt})," ",o]},o))})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{htmlFor:"tokenText",children:"テキスト:"}),i.jsx("textarea",{id:"tokenText",name:"text",value:et.text||"",onChange:Wt,rows:2})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{htmlFor:"tokenImageUrl",children:"画像URL (任意):"}),i.jsx("input",{type:"text",id:"tokenImageUrl",name:"imageUrl",value:et.imageUrl||"",onChange:Wt,placeholder:"https://example.com/token.png"})]})]}),i.jsx("button",{onClick:Hr,children:Nt?"トークン定義を更新":"トークン定義を追加"}),Nt&&i.jsx("button",{onClick:()=>{Pn(null),In({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""})},className:"cancel-button",children:"キャンセル"})]}),i.jsxs("section",{className:"token-list-section",children:[i.jsxs("h3",{children:["登録済みトークン定義一覧 (",He.length,"件)"]}),He.length===0?i.jsx("p",{children:"登録されているトークン定義はありません。"}):i.jsxs("ul",{className:"card-list editor-list mtg-card-grid",children:[" ",He.map(o=>i.jsxs("li",{className:"card-item-wrapper",children:[" ",i.jsx(Xt,{tokenInstance:{instanceId:o.id,definition:o},isTokenDisplay:!0,context:"token-editor-list",isMyCard:!1}),i.jsxs("div",{className:"card-actions editor-actions",children:[i.jsx("button",{onClick:()=>fr(o),children:"編集"}),i.jsx("button",{onClick:()=>fl(o.id),className:"delete-button",children:"削除"})]})]},o.id))]})]})]}),us=()=>i.jsxs("div",{className:"view-container deck-editor-view",children:[i.jsxs("header",{children:[i.jsx("h2",{children:"デッキエディタ"}),i.jsx("button",{onClick:()=>{H("main"),w(null),or(null),En({name:"",selectedCardIds:[]})},children:"メインに戻る"})]}),fe&&i.jsx("p",{className:"error-message",role:"alert",children:fe}),i.jsxs("section",{className:"import-export-section",children:[i.jsx("h4",{children:"JSONインポート/エクスポート"}),i.jsx("input",{type:"file",accept:".json",ref:jn,onChange:Fa,style:{display:"none"},id:"deck-import-input"}),i.jsx("button",{onClick:()=>{var o;return(o=jn.current)==null?void 0:o.click()},className:"import-button",children:"デッキをJSONからインポート"}),i.jsx("button",{onClick:ml,className:"export-button",disabled:De.length===0,children:"デッキをJSONへエクスポート"})]}),i.jsxs("section",{className:"deck-form-section",children:[i.jsx("h3",{children:_n?"デッキを編集":"新しいデッキを作成"}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"deckName",children:"デッキ名:"}),i.jsx("input",{type:"text",id:"deckName",value:Gt.name,onChange:Zl,required:!0})]}),i.jsxs("h4",{children:["カードを選択 (現在 ",Gt.selectedCardIds.length,"枚)"]}),i.jsx("div",{className:"available-cards-list mtg-card-grid",children:lt.length===0?i.jsx("p",{children:"登録カードなし。まずカードエディタでカードを作成してください。"}):lt.map(o=>{const c=Gt.selectedCardIds.filter(s=>s===o.id).length;return i.jsx(Xt,{card:o,context:"deck-selector",isSelected:c>0,onAddToDeck:pl,onRemoveFromDeck:ql,cardsInDeckCount:c},o.id)})}),i.jsx("button",{onClick:$a,children:_n?"デッキを更新":"デッキを保存"}),_n&&i.jsx("button",{onClick:()=>{or(null),En({name:"",selectedCardIds:[]})},className:"cancel-button",children:"キャンセル"})]}),i.jsxs("section",{className:"deck-list-section",children:[i.jsxs("h3",{children:["登録済みデッキ一覧 (",De.length,"件)"]}),De.length===0?i.jsx("p",{children:"登録されているデッキはありません。"}):i.jsx("ul",{className:"deck-list editor-list",children:De.map(o=>i.jsxs("li",{className:"deck-item",children:[i.jsxs("span",{children:[o.name," (",o.cardIds.length,"枚)"]}),i.jsxs("div",{className:"deck-actions",children:[i.jsx("button",{onClick:()=>On(o),children:"編集"}),i.jsx("button",{onClick:()=>bl(o.id),className:"delete-button",children:"削除"})]})]},o.id))})]})]}),cs=()=>{var o,c;return i.jsxs("div",{className:`view-container room-view ${L==="game_active"||L==="MULLIGAN"?"game-active-scrollable":""}`,children:[i.jsxs("header",{className:"room-header",children:[i.jsxs("h2",{children:[J?`P2Pルーム: ${J}`:"P2Pルーム"," (あなたのID: ",K?K.substring(0,6):"未接続",")"]}),i.jsx("button",{onClick:Rn,disabled:se||Re,className:"leave-button",children:"ルーム退出"})]}),fe&&i.jsx("p",{className:"error-message room-error",role:"alert",children:fe}),L!=="game_active"&&L!=="MULLIGAN"&&i.jsxs("section",{className:"connection-setup","aria-labelledby":"connection-setup-heading",children:[i.jsx("h3",{id:"connection-setup-heading",children:"接続設定"}),i.jsxs("div",{className:"ws-status-section",children:[i.jsx("h4",{children:"シグナリングサーバー接続状態"}),i.jsxs("p",{children:["WebSocket: ",i.jsx("span",{className:`status-${M}`,children:M.toUpperCase()})]}),me&&i.jsxs("p",{children:["参加中のルーム: ",me]}),ne.length>0&&i.jsxs("p",{children:["接続ユーザー数: ",ne.length,"人"]}),N&&i.jsx("p",{className:"info-text",children:"ルームに参加中..."})]}),M==="connected"&&i.jsxs("div",{className:"auto-p2p-section",children:[i.jsx("h4",{children:"自動P2P接続"}),i.jsxs("p",{children:["P2P接続状態: ",i.jsx("span",{className:`status-${ae}`,children:ae.toUpperCase()})]}),Te!=="waiting"&&Te!=="completed"&&i.jsxs("div",{className:"handshake-progress",children:[i.jsx("h5",{children:"ハンドシェイク進行状況:"}),i.jsxs("p",{className:"handshake-step",children:[Te==="creating-offer"&&"📝 オファーSDP作成中...",Te==="offer-sent"&&"✓ オファーSDP送信完了 → アンサー待機中",Te==="offer-received"&&"✓ オファー受信完了",Te==="setting-offer"&&"📝 オファー情報セット中...",Te==="creating-answer"&&"📝 アンサーSDP作成中...",Te==="answer-sent"&&"✓ アンサーSDP送信完了",Te==="setting-answer"&&"📝 アンサー情報セット中...",Te==="ice-exchange"&&"🔄 ICE候補交換中...",Te==="ice-checking"&&"🔍 ICE接続性チェック中...",Te==="ice-connected"&&"✓ ICE接続成功 → データチャンネル待機中",Te==="failed"&&"❌ ハンドシェイク失敗"]}),ye.length>0&&i.jsxs("p",{className:"ice-queue",children:["保留中のICE候補: ",ye.length,"個"]})]}),ne.length<2&&i.jsx("p",{className:"info-text",children:"他のユーザーの参加を待っています..."}),ne.length>=2&&ae==="disconnected"&&Te==="waiting"&&i.jsx("button",{onClick:()=>La(!0),className:"start-connection-btn",children:"P2P接続を開始"})]})]}),L!=="game_active"&&L!=="MULLIGAN"&&(M==="failed"||M==="disconnected")&&i.jsxs("section",{className:"p2p-setup manual-fallback","aria-labelledby":"p2p-setup-manual-heading",children:[i.jsx("h3",{id:"p2p-setup-manual-heading",children:"P2P接続設定 (手動フォールバック)"}),i.jsx("p",{className:"info-text",children:"自動接続が失敗しました。手動でP2P接続情報を交換してください。"}),Re&&i.jsx("p",{className:"info-text",children:"P2P接続を初期化中 (TURNサーバー情報取得中)..."}),i.jsx("p",{className:"info-text",children:"以下の手順でP2P接続情報を相手と交換してください。"}),i.jsxs("div",{className:"connection-actions",children:[i.jsx("button",{onClick:Mn,disabled:Re||ae==="connected"||ae==="connecting",children:"1a. オファー作成 (あなたが開始)"}),i.jsx("button",{onClick:Bi,disabled:Re||ae==="connected"||ae==="connecting"||!ie.trim(),children:"1b. アンサー作成 (相手オファー受信後)"})]}),ct&&i.jsxs("div",{className:"sdp-section",children:[i.jsxs("label",{htmlFor:"localSdpManualTextarea",children:["あなたの",ke?"オファー":"アンサー","SDP (相手に伝えてください):"]}),i.jsx("textarea",{id:"localSdpManualTextarea",value:ct,readOnly:!0,rows:4}),i.jsx("button",{onClick:()=>dr(ct,`自分の${ke?"オファー":"アンサー"}SDP`),children:"コピー"})]}),i.jsxs("div",{className:"sdp-section",children:[i.jsxs("label",{htmlFor:"remoteSdpInputManual",children:["相手の",ke?"アンサー":"オファー","SDP (相手から受け取って入力):"]}),i.jsx("textarea",{id:"remoteSdpInputManual",value:ie,onChange:s=>Ye(s.target.value),rows:4,placeholder:ke?"相手のアンサーSDPをここに貼り付け":"相手のオファーSDPをここに貼り付け"})]}),dt.length>0&&i.jsxs("div",{className:"ice-section",children:[i.jsx("label",{htmlFor:"localIceManualTextarea",children:"あなたのICE候補 (相手に伝えてください):"}),i.jsx("textarea",{id:"localIceManualTextarea",value:JSON.stringify(dt,null,2),readOnly:!0,rows:4}),i.jsx("button",{onClick:()=>dr(JSON.stringify(dt,null,2),"自分のICE候補"),children:"コピー"})]}),i.jsxs("div",{className:"ice-section",children:[i.jsx("label",{htmlFor:"remoteIceInputManual",children:"相手のICE候補 (相手から受け取って入力):"}),i.jsx("textarea",{id:"remoteIceInputManual",value:Oe,onChange:s=>oe(s.target.value),rows:4,placeholder:"相手のICE候補をここにJSON配列として貼り付け"})]}),i.jsx("button",{onClick:Ma,className:"connection-actions",disabled:Re||!ie.trim()&&!Oe.trim()||ae==="connected",children:"2. 相手情報セット & 接続試行"}),i.jsxs("p",{children:["P2P接続状態: ",i.jsx("span",{className:`status-${ae}`,children:ae.toUpperCase()})," ",ke?"(あなたはオファー側)":"(あなたはアンサー側)"]})]}),ae==="connected"&&i.jsxs("section",{className:`game-section ${L==="game_active"||L==="MULLIGAN"?"full-game-board-active":""}`,"aria-labelledby":"game-heading",children:[L!=="game_active"&&L!=="MULLIGAN"&&i.jsx("h3",{id:"game-heading",children:"カードゲーム"}),L==="deck_selection"&&i.jsxs("div",{className:"deck-selection-area",children:[i.jsx("h4",{children:"デッキを選択してください"}),De.length===0?i.jsx("p",{children:"プレイ可能なデッキがありません。デッキエディタで作成してください。"}):i.jsx("ul",{className:"deck-list game-deck-selector",children:De.map(s=>i.jsxs("li",{className:at===s.id?"selected":"",children:[s.name," (",s.cardIds.length,"枚)",i.jsx("button",{onClick:()=>hl(s.id),children:at===s.id?"再選択":"選択"})]},s.id))}),at&&i.jsxs("p",{children:["あなたが選択中のデッキ: ",(o=De.find(s=>s.id===at))==null?void 0:o.name," (",(c=De.find(s=>s.id===at))==null?void 0:c.cardIds.length,"枚)"]}),Xe&&i.jsxs("p",{children:["相手(",Xe.peerId.substring(0,6),")が選択中のデッキ: ",Xe.name," (",Xe.size,"枚)"]}),Hl&&ke&&i.jsx("button",{onClick:gl,className:"start-game-button",children:"ゲーム開始 (あなたはオファー側)"}),Hl&&!ke&&i.jsx("p",{children:"オファー側がゲームを開始するのを待っています..."})]}),L==="MULLIGAN"&&O&&i.jsxs("div",{className:"mulligan-decision-area",children:[i.jsx("h4",{children:"マリガンフェイズ (ロンドンマリガン)"}),xt==="deciding"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["現在のあなたの手札 (",O.hand.length,"枚、マリガン ",tt,"回)。どうしますか？"]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの現在の手札（確認用）",children:O.hand.map((s,d)=>i.jsx(Xt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,isDisabled:!0,isDraggable:!1},`${s.id}-mymulligandecide-${d}`))}),i.jsxs("div",{className:"mulligan-buttons",children:[i.jsxs("button",{onClick:Ua,className:"mulligan-button keep",children:["手札をキープ (",O.hand.length,"枚)"]}),tt<7&&i.jsxs("button",{onClick:Tt,className:"mulligan-button mulligan",children:["マリガン (7枚引き、",tt+1,"枚ボトムへ)"]}),tt>=7&&i.jsxs("p",{children:["これ以上マリガンできません。この手札（",O.hand.length,"枚）をキープしてください。"]})]})]}),xt==="selecting_bottom"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["マリガン ",tt+1,"回目: 新しく7枚引きました。その中から ",tt+1,"枚を選んでデッキの底に送ってください。"]}),i.jsxs("p",{children:["選択済み: ",Bt.length," / ",tt+1," 枚"]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone mulligan-selection-hand",children:O.hand.map((s,d)=>i.jsx(Xt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,onClick:()=>ea(d),isSelected:Bt.includes(d),isSelectable:!0,isDisabled:!1},`${s.id}-mymulliganselect-${d}`))}),i.jsxs("button",{onClick:pr,disabled:Bt.length!==tt+1,className:"confirm-bottom-selection-button",children:["選択完了 (",tt+1,"枚ボトムへ)"]})]}),xt==="kept"&&i.jsx("p",{children:"あなたは手札をキープしました。相手の決定を待っています..."}),i.jsxs("div",{className:"opponent-mulligan-status",children:["相手のマリガン状態: ",Qn==="kept"?`キープ済み (手札 ${(xe==null?void 0:xe.handCount)??"?"}, マリガン ${il}回)`:`考慮中 (マリガン ${il}回)`]})]}),(L==="game_active"||L==="MULLIGAN"&&xt==="kept")&&O&&xe&&i.jsxs("div",{className:"game-board arena-style",children:[i.jsxs("div",{className:"player-area opponent-area-arena",children:[i.jsxs("div",{className:"player-info-bar arena-info-bar",children:[i.jsx("div",{className:"avatar-placeholder arena-avatar",children:"O"}),i.jsxs("span",{className:"player-name-arena",children:["相手 (",pt?pt.substring(0,6):"確認中",")"]}),i.jsxs("div",{className:"life-display-arena",children:[i.jsx("span",{className:"life-label",children:"Life: "}),i.jsx("span",{className:"life-value",children:xe.life})]}),i.jsxs("div",{className:"zone-counts-arena",children:[i.jsxs("span",{children:["Hand: ",xe.handCount]}),i.jsxs("span",{children:["Deck: ",xe.deckCount]}),i.jsxs("span",{children:["GY Cards: ",xe.graveyard.length]}),i.jsxs("span",{children:["Tokens: ",xe.fieldTokens.length]})]})]}),i.jsxs("div",{className:"playing-space-arena",children:[i.jsxs("div",{className:"deck-zone-arena opponent-deck-arena","aria-label":"相手のデッキ",children:[i.jsx("div",{className:"deck-pile-visual",children:"Deck"}),i.jsx("span",{className:"count-overlay",children:xe.deckCount})]}),i.jsxs("div",{className:"field-zone-arena opponent-field-arena mtg-card-zone","aria-label":"相手のフィールド",children:[Ai(xe.field).map(s=>Qr(s,!1,!1)),xe.fieldTokens.map((s,d)=>Jr(s,d,!1,!1))]}),i.jsxs("div",{className:"graveyard-zone-arena opponent-graveyard-arena","aria-label":"相手の墓地 (クリックで表示)",onClick:()=>zn("opponent"),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&zn("opponent"),children:[i.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),i.jsx("span",{className:"count-overlay",children:xe.graveyard.length}),xe.graveyard.length>0&&i.jsx("span",{className:"graveyard-top-card-preview",children:xe.graveyard[xe.graveyard.length-1].name})]})]}),L==="game_active"&&i.jsx("div",{className:"notes-container opponent-notes-container",children:xe.opponentNotes.map(s=>i.jsxs("div",{className:"notes-area opponent-notes-area individual-note-area",children:[i.jsxs("div",{className:"notes-header",children:[i.jsx("span",{className:"notes-title",title:s.title,children:s.title}),i.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]})]}),s.isShared?i.jsx("div",{className:"notes-content scrollable-text",children:s.text||i.jsx("em",{children:"メモは空です"})}):i.jsx("div",{className:"notes-content hidden-notes",children:i.jsx("em",{children:"相手のメモは非公開です。"})})]},s.id))})]}),i.jsxs("div",{className:"player-area my-area-arena",children:[i.jsxs("div",{className:"player-info-bar arena-info-bar",children:[i.jsx("div",{className:"avatar-placeholder arena-avatar",children:"P"}),i.jsxs("span",{className:"player-name-arena",children:["あなた (",K.substring(0,6),")"]}),i.jsxs("div",{className:"life-control-arena",children:[i.jsx("span",{className:"life-label",children:"Life: "}),i.jsx("button",{onClick:()=>Zn(O.life-1),disabled:L!=="game_active","aria-label":"ライフを1減らす",children:"-"}),i.jsx("input",{type:"number",value:O.life,onChange:s=>Zn(s.target.value),disabled:L!=="game_active",className:"life-input-arena","aria-label":"現在のライフ"}),i.jsx("button",{onClick:()=>Zn(O.life+1),disabled:L!=="game_active","aria-label":"ライフを1増やす",children:"+"})]}),i.jsxs("div",{className:"zone-counts-arena",children:[i.jsxs("span",{children:["Deck: ",O.deck.length]}),i.jsxs("span",{children:["GY Cards: ",O.graveyard.length]}),i.jsxs("span",{children:["Tokens: ",O.fieldTokens.length]})]}),L==="game_active"&&i.jsx("button",{onClick:()=>Jl(!1),className:"create-token-button",children:"トークン生成"})]}),i.jsxs("div",{className:"playing-space-arena",children:[i.jsxs("div",{className:"deck-zone-arena my-deck-arena","aria-label":"あなたのデッキ",children:[i.jsx("button",{onClick:Ji,disabled:O.deck.length===0||L!=="game_active",className:"deck-pile-visual draw-button-on-deck",children:"Deck"}),i.jsx("span",{className:"count-overlay",children:O.deck.length})]}),i.jsxs("div",{className:`field-zone-arena my-field-arena mtg-card-zone ${Ia?"drop-target-active":""}`,"aria-label":"あなたのフィールド (手札からドラッグ&ドロップでプレイ可能)",onDragOver:s=>hr(s,"field"),onDrop:s=>Wr(s,"field"),onDragEnter:()=>$n("field"),onDragLeave:()=>Sl("field"),children:[Ai(O.field).map(s=>Qr(s,!0,!1)),O.fieldTokens.map((s,d)=>Jr(s,d,!0,!1))]}),i.jsxs("div",{className:`graveyard-zone-arena my-graveyard-arena ${Gr?"drop-target-graveyard-active":""}`,"aria-label":"あなたの墓地 (クリックで表示、手札/フィールドからドラッグ&ドロップで墓地へ)",onClick:()=>zn("my"),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&zn("my"),onDragOver:s=>hr(s,"graveyard"),onDrop:s=>Wr(s,"graveyard"),onDragEnter:()=>$n("graveyard"),onDragLeave:()=>Sl("graveyard"),children:[i.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),i.jsx("span",{className:"count-overlay",children:O.graveyard.length}),O.graveyard.length>0&&i.jsx("span",{className:"graveyard-top-card-preview",children:O.graveyard[O.graveyard.length-1].name})]})]}),L==="game_active"&&i.jsxs("div",{className:"notes-container my-notes-container",children:[i.jsx("button",{onClick:na,className:"add-note-button",children:"新しいメモを追加"}),O.myNotes.map(s=>i.jsxs("div",{className:"notes-area my-notes-area individual-note-area",children:[i.jsxs("div",{className:"notes-header",children:[i.jsx("input",{type:"text",value:s.title,onChange:d=>Yi(s.id,d.target.value),className:"notes-title-input","aria-label":`メモ「${s.title}」のタイトル`}),i.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]}),i.jsx("button",{onClick:()=>Xi(s.id),className:"notes-toggle-button","aria-pressed":s.isShared,"aria-label":s.isShared?`メモ「${s.title}」を非公開にする`:`メモ「${s.title}」を公開する`,children:s.isShared?"非公開":"公開"}),i.jsx("button",{onClick:()=>Zi(s.id),className:"notes-delete-button",disabled:O.myNotes.length<=1,"aria-label":`メモ「${s.title}」を削除`,children:"削除"})]}),i.jsx("textarea",{className:"notes-textarea scrollable-text",value:s.text,onChange:d=>Ki(s.id,d.target.value),placeholder:"ここにメモを入力...","aria-label":`メモ「${s.title}」の内容`})]},s.id))]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの手札",children:(L==="game_active"||L==="MULLIGAN"&&xt==="kept")&&O.hand.map((s,d)=>{const g=(G==null?void 0:G.type)==="card"&&G.data.id===s.id&&G.originalIndex===d&&G.fromZone==="hand"&&!G.isTestGame;return i.jsx(Xt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,onDragStartItem:(S,T,z,b,pe)=>kl(S,T,z,b,pe,!1),onDragEndItem:xl,isDraggable:L==="game_active",isDragging:g,isDisabled:L!=="game_active"},`${s.id}-myhand-${d}`)})})]})]}),L==="game_over"&&i.jsx("p",{children:"ゲーム終了！"})]}),ae==="connected"&&L!=="game_active"&&L!=="MULLIGAN"&&i.jsxs("section",{className:"chat-section","aria-labelledby":"chat-heading",children:[i.jsx("h3",{id:"chat-heading",children:"チャット"}),i.jsx("div",{className:"chat-messages",role:"log","aria-live":"polite",ref:Dr,children:$e.map(s=>i.jsxs("div",{className:`chat-message ${s.sender}`,children:[i.jsx("p",{children:s.text}),i.jsx("span",{className:"timestamp",children:new Date(s.timestamp).toLocaleTimeString()})]},s.id))}),i.jsxs("div",{className:"chat-input-area",children:[i.jsx("input",{type:"text",value:be,onChange:s=>Rt(s.target.value),placeholder:"メッセージを入力...",onKeyPress:s=>s.key==="Enter"&&vn(),disabled:se||Re||ae!=="connected","aria-label":"チャットメッセージ入力"}),i.jsx("button",{onClick:vn,disabled:se||Re||ae!=="connected",children:"送信"})]})]}),L!=="game_active"&&L!=="MULLIGAN"&&i.jsxs("div",{style:{marginTop:"20px",fontSize:"0.8em",color:"#777"},children:[i.jsxs("p",{children:["あなたのピアID: ",K||"N/A"]}),i.jsxs("p",{children:["相手のピアID (判明時): ",pt||"N/A"]})]})]})},ds=()=>{var o,c;return i.jsxs("div",{className:`view-container test-game-view ${Q==="game_active"||Q==="MULLIGAN"?"game-active-scrollable":""}`,children:[i.jsxs("header",{className:"room-header",children:[i.jsx("h2",{children:"テストゲーム画面"}),i.jsx("button",{onClick:()=>{H("main"),Aa()},className:"leave-button",children:"メインに戻る"})]}),Pa&&i.jsx("p",{className:"error-message room-error",role:"alert",children:Pa}),Q==="deck_selection"&&i.jsxs("section",{className:"deck-selection-area","aria-labelledby":"test-deck-selection-heading",children:[i.jsx("h3",{id:"test-deck-selection-heading",children:"テスト用デッキを選択"}),De.length===0?i.jsx("p",{children:"プレイ可能なデッキがありません。デッキエディタで作成してください。"}):i.jsx("ul",{className:"deck-list game-deck-selector",children:De.map(s=>i.jsxs("li",{className:mn===s.id?"selected":"",children:[s.name," (",s.cardIds.length,"枚)",i.jsx("button",{onClick:()=>qi(s.id),children:mn===s.id?"選択中":"選択"})]},s.id))}),mn&&i.jsxs("p",{children:["選択中のデッキ: ",(o=De.find(s=>s.id===mn))==null?void 0:o.name," (",(c=De.find(s=>s.id===mn))==null?void 0:c.cardIds.length,"枚)"]}),i.jsx("button",{onClick:bi,className:"start-game-button",disabled:!mn,children:"テストゲーム開始"})]}),Q==="MULLIGAN"&&U&&i.jsxs("section",{className:"mulligan-decision-area","aria-labelledby":"test-mulligan-heading",children:[i.jsx("h3",{id:"test-mulligan-heading",children:"マリガンフェイズ (ロンドンマリガン - テスト)"}),tn==="deciding"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["現在のあなたの手札 (",U.hand.length,"枚、マリガン ",st,"回)。どうしますか？"]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの現在の手札（確認用）",children:U.hand.map((s,d)=>i.jsx(Xt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,isDisabled:!0,isDraggable:!1},`${s.id}-mytestmulligandecide-${d}`))}),i.jsxs("div",{className:"mulligan-buttons",children:[i.jsxs("button",{onClick:es,className:"mulligan-button keep",children:["手札をキープ (",U.hand.length,"枚)"]}),st<7&&i.jsxs("button",{onClick:Ga,className:"mulligan-button mulligan",children:["マリガン (7枚引き、",st+1,"枚ボトムへ)"]}),st>=7&&i.jsxs("p",{children:["これ以上マリガンできません。この手札（",U.hand.length,"枚）をキープしてください。"]})]})]}),tn==="selecting_bottom"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["マリガン ",st+1,"回目: 新しく7枚引きました。その中から ",st+1,"枚を選んでデッキの底に送ってください。"]}),i.jsxs("p",{children:["選択済み: ",Jn.length," / ",st+1," 枚"]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone mulligan-selection-hand",children:U.hand.map((s,d)=>i.jsx(Xt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,onClick:()=>ns(d),isSelected:Jn.includes(d),isSelectable:!0,isDisabled:!1},`${s.id}-mytestmulliganselect-${d}`))}),i.jsxs("button",{onClick:ts,disabled:Jn.length!==st+1,className:"confirm-bottom-selection-button",children:["選択完了 (",st+1,"枚ボトムへ)"]})]}),tn==="kept"&&i.jsx("p",{children:"手札をキープしました。ゲームを開始しています..."})]}),(Q==="game_active"||Q==="MULLIGAN"&&tn==="kept")&&U&&it&&i.jsxs("section",{className:"game-section full-game-board-active","aria-labelledby":"test-game-board-heading",children:[i.jsx("h3",{id:"test-game-board-heading",className:"sr-only",children:"テストゲームボード"}),i.jsxs("div",{className:"game-board arena-style",children:[i.jsxs("div",{className:"player-area opponent-area-arena",children:[i.jsxs("div",{className:"player-info-bar arena-info-bar",children:[i.jsx("div",{className:"avatar-placeholder arena-avatar",children:"M"}),i.jsx("span",{className:"player-name-arena",children:"相手 (モック)"}),i.jsxs("div",{className:"life-display-arena",children:[i.jsx("span",{className:"life-label",children:"Life: "}),i.jsx("span",{className:"life-value",children:it.life})]}),i.jsxs("div",{className:"zone-counts-arena",children:[i.jsxs("span",{children:["Hand: ",it.handCount]}),i.jsxs("span",{children:["Deck: ",it.deckCount]}),i.jsxs("span",{children:["GY Cards: ",it.graveyard.length]}),i.jsxs("span",{children:["Tokens: ",it.fieldTokens.length]})]})]}),i.jsxs("div",{className:"playing-space-arena",children:[i.jsxs("div",{className:"deck-zone-arena opponent-deck-arena","aria-label":"相手のデッキ(モック)",children:[i.jsx("div",{className:"deck-pile-visual",children:"Deck"}),i.jsx("span",{className:"count-overlay",children:it.deckCount})]}),i.jsxs("div",{className:"field-zone-arena opponent-field-arena mtg-card-zone","aria-label":"相手のフィールド (モック)",children:[Ai(it.field).map(s=>Qr(s,!1,!0)),it.fieldTokens.map((s,d)=>Jr(s,d,!1,!0))]}),i.jsxs("div",{className:"graveyard-zone-arena opponent-graveyard-arena","aria-label":"相手の墓地(モック) (クリックで表示)",onClick:()=>zn("opponent",!0),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&zn("opponent",!0),children:[i.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),i.jsx("span",{className:"count-overlay",children:it.graveyard.length}),it.graveyard.length>0&&i.jsx("span",{className:"graveyard-top-card-preview",children:it.graveyard[it.graveyard.length-1].name})]})]}),Q==="game_active"&&i.jsx("div",{className:"notes-container opponent-notes-container",children:it.opponentNotes.map(s=>i.jsxs("div",{className:"notes-area opponent-notes-area individual-note-area",children:[i.jsxs("div",{className:"notes-header",children:[i.jsx("span",{className:"notes-title",title:s.title,children:s.title}),i.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]})]}),s.isShared?i.jsx("div",{className:"notes-content scrollable-text",children:s.text||i.jsx("em",{children:"メモは空です"})}):i.jsx("div",{className:"notes-content hidden-notes",children:i.jsx("em",{children:"相手のメモは非公開です。"})})]},s.id))})]}),i.jsxs("div",{className:"player-area my-area-arena",children:[i.jsxs("div",{className:"player-info-bar arena-info-bar",children:[i.jsx("div",{className:"avatar-placeholder arena-avatar",children:"T"}),i.jsx("span",{className:"player-name-arena",children:"あなた (テスト)"}),i.jsxs("div",{className:"life-control-arena",children:[i.jsx("span",{className:"life-label",children:"Life: "}),i.jsx("button",{onClick:()=>ra(U.life-1),disabled:Q!=="game_active","aria-label":"テストライフを1減らす",children:"-"}),i.jsx("input",{type:"number",value:U.life,onChange:s=>ra(s.target.value),disabled:Q!=="game_active",className:"life-input-arena","aria-label":"現在のテストライフ"}),i.jsx("button",{onClick:()=>ra(U.life+1),disabled:Q!=="game_active","aria-label":"テストライフを1増やす",children:"+"})]}),i.jsxs("div",{className:"zone-counts-arena",children:[i.jsxs("span",{children:["Deck: ",U.deck.length]}),i.jsxs("span",{children:["GY Cards: ",U.graveyard.length]}),i.jsxs("span",{children:["Tokens: ",U.fieldTokens.length]})]}),Q==="game_active"&&i.jsx("button",{onClick:()=>Jl(!0),className:"create-token-button",children:"テストトークン生成"})]}),i.jsxs("div",{className:"playing-space-arena",children:[i.jsxs("div",{className:"deck-zone-arena my-deck-arena","aria-label":"あなたのデッキ",children:[i.jsx("button",{onClick:rs,disabled:U.deck.length===0||Q!=="game_active",className:"deck-pile-visual draw-button-on-deck",children:"Deck"}),i.jsx("span",{className:"count-overlay",children:U.deck.length})]}),i.jsxs("div",{className:`field-zone-arena my-field-arena mtg-card-zone ${Ia&&(G!=null&&G.isTestGame)?"drop-target-active":""}`,"aria-label":"あなたのフィールド (手札からドラッグ&ドロップでプレイ可能)",onDragOver:s=>hr(s,"field"),onDrop:s=>Wr(s,"field"),onDragEnter:()=>$n("field"),onDragLeave:()=>Sl("field"),children:[Ai(U.field).map(s=>Qr(s,!0,!0)),U.fieldTokens.map((s,d)=>Jr(s,d,!0,!0))]}),i.jsxs("div",{className:`graveyard-zone-arena my-graveyard-arena ${Gr&&(G!=null&&G.isTestGame)?"drop-target-graveyard-active":""}`,"aria-label":"あなたの墓地 (クリックで表示、手札/フィールドからドラッグ&ドロップで墓地へ)",onClick:()=>zn("my",!0),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&zn("my",!0),onDragOver:s=>hr(s,"graveyard"),onDrop:s=>Wr(s,"graveyard"),onDragEnter:()=>$n("graveyard"),onDragLeave:()=>Sl("graveyard"),children:[i.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),i.jsx("span",{className:"count-overlay",children:U.graveyard.length}),U.graveyard.length>0&&i.jsx("span",{className:"graveyard-top-card-preview",children:U.graveyard[U.graveyard.length-1].name})]})]}),Q==="game_active"&&i.jsxs("div",{className:"notes-container my-notes-container",children:[i.jsx("button",{onClick:ss,className:"add-note-button",children:"新しいテストメモを追加"}),U.myNotes.map(s=>i.jsxs("div",{className:"notes-area my-notes-area individual-note-area",children:[i.jsxs("div",{className:"notes-header",children:[i.jsx("input",{type:"text",value:s.title,onChange:d=>as(s.id,d.target.value),className:"notes-title-input","aria-label":`テストメモ「${s.title}」のタイトル`}),i.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]}),i.jsx("button",{onClick:()=>is(s.id),className:"notes-toggle-button","aria-pressed":s.isShared,"aria-label":s.isShared?`テストメモ「${s.title}」を非公開にする`:`テストメモ「${s.title}」を公開する`,children:s.isShared?"非公開":"公開"}),i.jsx("button",{onClick:()=>os(s.id),className:"notes-delete-button",disabled:U.myNotes.length<=1,"aria-label":`テストメモ「${s.title}」を削除`,children:"削除"})]}),i.jsx("textarea",{className:"notes-textarea scrollable-text",value:s.text,onChange:d=>Va(s.id,d.target.value),placeholder:"テストメモを入力...","aria-label":`テストメモ「${s.title}」の内容`})]},s.id))]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの手札",children:(Q==="game_active"||Q==="MULLIGAN"&&tn==="kept")&&U.hand.map((s,d)=>{const g=(G==null?void 0:G.type)==="card"&&G.data.id===s.id&&G.originalIndex===d&&G.fromZone==="hand"&&G.isTestGame;return i.jsx(Xt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,onDragStartItem:(S,T,z,b,pe)=>kl(S,T,z,b,pe,!0),onDragEndItem:xl,isDraggable:Q==="game_active",isDragging:g,isDisabled:Q!=="game_active"},`${s.id}-mytest-hand-${d}`)})})]})]})]}),Q==="game_over"&&i.jsx("p",{children:"テストゲーム終了。"})]})},Qa=()=>{switch(D){case"main":return la();case"room":return cs();case"cardEditor":return Wa();case"deckEditor":return us();case"tokenEditor":return gr();case"testGameView":return ds();default:return la()}};return i.jsxs("div",{className:`app-container ${D==="room"&&(L==="game_active"||L==="MULLIGAN")||D==="testGameView"&&["game_active","MULLIGAN"].includes(Q)?"full-width-game game-active-bg":""}`,children:[Qa(),Fr&&i.jsx("div",{className:"modal-overlay",onClick:Yn,role:"dialog","aria-modal":"true","aria-labelledby":"graveyard-modal-title",children:i.jsxs("div",{className:"modal-content graveyard-viewer-modal",onClick:o=>o.stopPropagation(),children:[i.jsxs("header",{className:"modal-header",children:[i.jsxs("h3",{id:"graveyard-modal-title",children:[nn==="my"?"あなたの墓地":"相手の墓地"," (",Wl.length,"枚)"]}),i.jsx("button",{onClick:Yn,className:"modal-close-button","aria-label":"閉じる",children:"×"})]}),i.jsx("div",{className:"modal-body mtg-card-grid graveyard-cards-display",children:Wl.length===0?i.jsx("p",{children:"墓地は空です。"}):Wl.map((o,c)=>i.jsx(Xt,{card:o,context:"graveyard-viewer",isMyCard:nn==="my",originalIndex:c,onMoveFromGraveyardToHand:nn==="my"?D==="room"?(s,d)=>Vr(s,d,"hand"):(s,d)=>Ha(s,d,"hand"):void 0,onMoveFromGraveyardToField:nn==="my"?D==="room"?(s,d)=>Vr(s,d,"field"):(s,d)=>Ha(s,d,"field"):void 0,isGameActive:D==="room"?L==="game_active":Q==="game_active"},`${o.id}-gyview-${c}-${nn}`))})]})}),ul&&i.jsx("div",{className:"modal-overlay",onClick:gn,role:"dialog","aria-modal":"true","aria-labelledby":"create-token-modal-title",children:i.jsxs("div",{className:"modal-content create-token-modal",onClick:o=>o.stopPropagation(),children:[i.jsxs("header",{className:"modal-header",children:[i.jsx("h3",{id:"create-token-modal-title",children:"トークンを生成"}),i.jsx("button",{onClick:gn,className:"modal-close-button","aria-label":"閉じる",children:"×"})]}),i.jsx("div",{className:"modal-body mtg-card-grid token-selector-list",children:He.length===0?i.jsx("p",{children:"利用可能なトークン定義がありません。トークンエディタで作成してください。"}):He.map(o=>i.jsx(Xt,{tokenInstance:{instanceId:o.id,definition:o},isTokenDisplay:!0,context:"token-selector",onClick:()=>Gi?ls(o.id):ta(o.id),isSelectable:!0,isMyCard:!0},o.id))})]})})]})}const Vc=document.getElementById("root");Vc&&Yd.createRoot(Vc).render(i.jsxs(Bd.StrictMode,{children:[" ",i.jsx(bd,{})," "]}));
