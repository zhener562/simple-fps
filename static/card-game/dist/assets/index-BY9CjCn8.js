(function(){const V=document.createElement("link").relList;if(V&&V.supports&&V.supports("modulepreload"))return;for(const H of document.querySelectorAll('link[rel="modulepreload"]'))te(H);new MutationObserver(H=>{for(const ie of H)if(ie.type==="childList")for(const ge of ie.addedNodes)ge.tagName==="LINK"&&ge.rel==="modulepreload"&&te(ge)}).observe(document,{childList:!0,subtree:!0});function x(H){const ie={};return H.integrity&&(ie.integrity=H.integrity),H.referrerPolicy&&(ie.referrerPolicy=H.referrerPolicy),H.crossOrigin==="use-credentials"?ie.credentials="include":H.crossOrigin==="anonymous"?ie.credentials="omit":ie.credentials="same-origin",ie}function te(H){if(H.ep)return;H.ep=!0;const ie=x(H);fetch(H.href,ie)}})();function Vc(L){return L&&L.__esModule&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L}var Io={exports:{}},Na={},To={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc;function Ud(){if(Lc)return he;Lc=1;var L=Symbol.for("react.element"),V=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),ge=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Qe=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),Pe=Symbol.iterator;function Q(h){return h===null||typeof h!="object"?null:(h=Pe&&h[Pe]||h["@@iterator"],typeof h=="function"?h:null)}var _e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ot=Object.assign,ye={};function oe(h,N,le){this.props=h,this.context=N,this.refs=ye,this.updater=le||_e}oe.prototype.isReactComponent={},oe.prototype.setState=function(h,N){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,N,"setState")},oe.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function Je(){}Je.prototype=oe.prototype;function ut(h,N,le){this.props=h,this.context=N,this.refs=ye,this.updater=le||_e}var Xe=ut.prototype=new Je;Xe.constructor=ut,ot(Xe,oe.prototype),Xe.isPureReactComponent=!0;var Re=Array.isArray,de=Object.prototype.hasOwnProperty,Oe={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function Ze(h,N,le){var ne,fe={},pe=null,we=null;if(N!=null)for(ne in N.ref!==void 0&&(we=N.ref),N.key!==void 0&&(pe=""+N.key),N)de.call(N,ne)&&!R.hasOwnProperty(ne)&&(fe[ne]=N[ne]);var ae=arguments.length-2;if(ae===1)fe.children=le;else if(1<ae){for(var re=Array(ae),ft=0;ft<ae;ft++)re[ft]=arguments[ft+2];fe.children=re}if(h&&h.defaultProps)for(ne in ae=h.defaultProps,ae)fe[ne]===void 0&&(fe[ne]=ae[ne]);return{$$typeof:L,type:h,key:pe,ref:we,props:fe,_owner:Oe.current}}function Rt(h,N){return{$$typeof:L,type:h.type,key:N,ref:h.ref,props:h.props,_owner:h._owner}}function se(h){return typeof h=="object"&&h!==null&&h.$$typeof===L}function Ee(h){var N={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(le){return N[le]})}var K=/\/+/g;function ct(h,N){return typeof h=="object"&&h!==null&&h.key!=null?Ee(""+h.key):N.toString(36)}function dt(h,N,le,ne,fe){var pe=typeof h;(pe==="undefined"||pe==="boolean")&&(h=null);var we=!1;if(h===null)we=!0;else switch(pe){case"string":case"number":we=!0;break;case"object":switch(h.$$typeof){case L:case V:we=!0}}if(we)return we=h,fe=fe(we),h=ne===""?"."+ct(we,0):ne,Re(fe)?(le="",h!=null&&(le=h.replace(K,"$&/")+"/"),dt(fe,N,le,"",function(ft){return ft})):fe!=null&&(se(fe)&&(fe=Rt(fe,le+(!fe.key||we&&we.key===fe.key?"":(""+fe.key).replace(K,"$&/")+"/")+h)),N.push(fe)),1;if(we=0,ne=ne===""?".":ne+":",Re(h))for(var ae=0;ae<h.length;ae++){pe=h[ae];var re=ne+ct(pe,ae);we+=dt(pe,N,le,re,fe)}else if(re=Q(h),typeof re=="function")for(h=re.call(h),ae=0;!(pe=h.next()).done;)pe=pe.value,re=ne+ct(pe,ae++),we+=dt(pe,N,le,re,fe);else if(pe==="object")throw N=String(h),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return we}function ve(h,N,le){if(h==null)return h;var ne=[],fe=0;return dt(h,ne,"","",function(pe){return N.call(le,pe,fe++)}),ne}function ke(h){if(h._status===-1){var N=h._result;N=N(),N.then(function(le){(h._status===0||h._status===-1)&&(h._status=1,h._result=le)},function(le){(h._status===0||h._status===-1)&&(h._status=2,h._result=le)}),h._status===-1&&(h._status=0,h._result=N)}if(h._status===1)return h._result.default;throw h._result}var Ie={current:null},I={transition:null},Y={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:I,ReactCurrentOwner:Oe};function M(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:ve,forEach:function(h,N,le){ve(h,function(){N.apply(this,arguments)},le)},count:function(h){var N=0;return ve(h,function(){N++}),N},toArray:function(h){return ve(h,function(N){return N})||[]},only:function(h){if(!se(h))throw Error("React.Children.only expected to receive a single React element child.");return h}},he.Component=oe,he.Fragment=x,he.Profiler=H,he.PureComponent=ut,he.StrictMode=te,he.Suspense=ce,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,he.act=M,he.cloneElement=function(h,N,le){if(h==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+h+".");var ne=ot({},h.props),fe=h.key,pe=h.ref,we=h._owner;if(N!=null){if(N.ref!==void 0&&(pe=N.ref,we=Oe.current),N.key!==void 0&&(fe=""+N.key),h.type&&h.type.defaultProps)var ae=h.type.defaultProps;for(re in N)de.call(N,re)&&!R.hasOwnProperty(re)&&(ne[re]=N[re]===void 0&&ae!==void 0?ae[re]:N[re])}var re=arguments.length-2;if(re===1)ne.children=le;else if(1<re){ae=Array(re);for(var ft=0;ft<re;ft++)ae[ft]=arguments[ft+2];ne.children=ae}return{$$typeof:L,type:h.type,key:fe,ref:pe,props:ne,_owner:we}},he.createContext=function(h){return h={$$typeof:ge,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},h.Provider={$$typeof:ie,_context:h},h.Consumer=h},he.createElement=Ze,he.createFactory=function(h){var N=Ze.bind(null,h);return N.type=h,N},he.createRef=function(){return{current:null}},he.forwardRef=function(h){return{$$typeof:w,render:h}},he.isValidElement=se,he.lazy=function(h){return{$$typeof:Le,_payload:{_status:-1,_result:h},_init:ke}},he.memo=function(h,N){return{$$typeof:Qe,type:h,compare:N===void 0?null:N}},he.startTransition=function(h){var N=I.transition;I.transition={};try{h()}finally{I.transition=N}},he.unstable_act=M,he.useCallback=function(h,N){return Ie.current.useCallback(h,N)},he.useContext=function(h){return Ie.current.useContext(h)},he.useDebugValue=function(){},he.useDeferredValue=function(h){return Ie.current.useDeferredValue(h)},he.useEffect=function(h,N){return Ie.current.useEffect(h,N)},he.useId=function(){return Ie.current.useId()},he.useImperativeHandle=function(h,N,le){return Ie.current.useImperativeHandle(h,N,le)},he.useInsertionEffect=function(h,N){return Ie.current.useInsertionEffect(h,N)},he.useLayoutEffect=function(h,N){return Ie.current.useLayoutEffect(h,N)},he.useMemo=function(h,N){return Ie.current.useMemo(h,N)},he.useReducer=function(h,N,le){return Ie.current.useReducer(h,N,le)},he.useRef=function(h){return Ie.current.useRef(h)},he.useState=function(h){return Ie.current.useState(h)},he.useSyncExternalStore=function(h,N,le){return Ie.current.useSyncExternalStore(h,N,le)},he.useTransition=function(){return Ie.current.useTransition()},he.version="18.3.1",he}var Rc;function Mo(){return Rc||(Rc=1,To.exports=Ud()),To.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc;function Ad(){if(Mc)return Na;Mc=1;var L=Mo(),V=Symbol.for("react.element"),x=Symbol.for("react.fragment"),te=Object.prototype.hasOwnProperty,H=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ie={key:!0,ref:!0,__self:!0,__source:!0};function ge(w,ce,Qe){var Le,Pe={},Q=null,_e=null;Qe!==void 0&&(Q=""+Qe),ce.key!==void 0&&(Q=""+ce.key),ce.ref!==void 0&&(_e=ce.ref);for(Le in ce)te.call(ce,Le)&&!ie.hasOwnProperty(Le)&&(Pe[Le]=ce[Le]);if(w&&w.defaultProps)for(Le in ce=w.defaultProps,ce)Pe[Le]===void 0&&(Pe[Le]=ce[Le]);return{$$typeof:V,type:w,key:Q,ref:_e,props:Pe,_owner:H.current}}return Na.Fragment=x,Na.jsx=ge,Na.jsxs=ge,Na}var Oc;function Gd(){return Oc||(Oc=1,Io.exports=Ad()),Io.exports}var i=Gd(),C=Mo();const Bd=Vc(C);var Gi={},Do={exports:{}},Gt={},Lo={exports:{}},Ro={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc;function Hd(){return zc||(zc=1,function(L){function V(I,Y){var M=I.length;I.push(Y);e:for(;0<M;){var h=M-1>>>1,N=I[h];if(0<H(N,Y))I[h]=Y,I[M]=N,M=h;else break e}}function x(I){return I.length===0?null:I[0]}function te(I){if(I.length===0)return null;var Y=I[0],M=I.pop();if(M!==Y){I[0]=M;e:for(var h=0,N=I.length,le=N>>>1;h<le;){var ne=2*(h+1)-1,fe=I[ne],pe=ne+1,we=I[pe];if(0>H(fe,M))pe<N&&0>H(we,fe)?(I[h]=we,I[pe]=M,h=pe):(I[h]=fe,I[ne]=M,h=ne);else if(pe<N&&0>H(we,M))I[h]=we,I[pe]=M,h=pe;else break e}}return Y}function H(I,Y){var M=I.sortIndex-Y.sortIndex;return M!==0?M:I.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ie=performance;L.unstable_now=function(){return ie.now()}}else{var ge=Date,w=ge.now();L.unstable_now=function(){return ge.now()-w}}var ce=[],Qe=[],Le=1,Pe=null,Q=3,_e=!1,ot=!1,ye=!1,oe=typeof setTimeout=="function"?setTimeout:null,Je=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Xe(I){for(var Y=x(Qe);Y!==null;){if(Y.callback===null)te(Qe);else if(Y.startTime<=I)te(Qe),Y.sortIndex=Y.expirationTime,V(ce,Y);else break;Y=x(Qe)}}function Re(I){if(ye=!1,Xe(I),!ot)if(x(ce)!==null)ot=!0,ke(de);else{var Y=x(Qe);Y!==null&&Ie(Re,Y.startTime-I)}}function de(I,Y){ot=!1,ye&&(ye=!1,Je(Ze),Ze=-1),_e=!0;var M=Q;try{for(Xe(Y),Pe=x(ce);Pe!==null&&(!(Pe.expirationTime>Y)||I&&!Ee());){var h=Pe.callback;if(typeof h=="function"){Pe.callback=null,Q=Pe.priorityLevel;var N=h(Pe.expirationTime<=Y);Y=L.unstable_now(),typeof N=="function"?Pe.callback=N:Pe===x(ce)&&te(ce),Xe(Y)}else te(ce);Pe=x(ce)}if(Pe!==null)var le=!0;else{var ne=x(Qe);ne!==null&&Ie(Re,ne.startTime-Y),le=!1}return le}finally{Pe=null,Q=M,_e=!1}}var Oe=!1,R=null,Ze=-1,Rt=5,se=-1;function Ee(){return!(L.unstable_now()-se<Rt)}function K(){if(R!==null){var I=L.unstable_now();se=I;var Y=!0;try{Y=R(!0,I)}finally{Y?ct():(Oe=!1,R=null)}}else Oe=!1}var ct;if(typeof ut=="function")ct=function(){ut(K)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,ve=dt.port2;dt.port1.onmessage=K,ct=function(){ve.postMessage(null)}}else ct=function(){oe(K,0)};function ke(I){R=I,Oe||(Oe=!0,ct())}function Ie(I,Y){Ze=oe(function(){I(L.unstable_now())},Y)}L.unstable_IdlePriority=5,L.unstable_ImmediatePriority=1,L.unstable_LowPriority=4,L.unstable_NormalPriority=3,L.unstable_Profiling=null,L.unstable_UserBlockingPriority=2,L.unstable_cancelCallback=function(I){I.callback=null},L.unstable_continueExecution=function(){ot||_e||(ot=!0,ke(de))},L.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rt=0<I?Math.floor(1e3/I):5},L.unstable_getCurrentPriorityLevel=function(){return Q},L.unstable_getFirstCallbackNode=function(){return x(ce)},L.unstable_next=function(I){switch(Q){case 1:case 2:case 3:var Y=3;break;default:Y=Q}var M=Q;Q=Y;try{return I()}finally{Q=M}},L.unstable_pauseExecution=function(){},L.unstable_requestPaint=function(){},L.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var M=Q;Q=I;try{return Y()}finally{Q=M}},L.unstable_scheduleCallback=function(I,Y,M){var h=L.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?h+M:h):M=h,I){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=M+N,I={id:Le++,callback:Y,priorityLevel:I,startTime:M,expirationTime:N,sortIndex:-1},M>h?(I.sortIndex=M,V(Qe,I),x(ce)===null&&I===x(Qe)&&(ye?(Je(Ze),Ze=-1):ye=!0,Ie(Re,M-h))):(I.sortIndex=N,V(ce,I),ot||_e||(ot=!0,ke(de))),I},L.unstable_shouldYield=Ee,L.unstable_wrapCallback=function(I){var Y=Q;return function(){var M=Q;Q=Y;try{return I.apply(this,arguments)}finally{Q=M}}}}(Ro)),Ro}var $c;function Vd(){return $c||($c=1,Lo.exports=Hd()),Lo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc;function Wd(){if(Fc)return Gt;Fc=1;var L=Mo(),V=Vd();function x(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var te=new Set,H={};function ie(e,t){ge(e,t),ge(e+"Capture",t)}function ge(e,t){for(H[e]=t,e=0;e<t.length;e++)te.add(t[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ce=Object.prototype.hasOwnProperty,Qe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Le={},Pe={};function Q(e){return ce.call(Pe,e)?!0:ce.call(Le,e)?!1:Qe.test(e)?Pe[e]=!0:(Le[e]=!0,!1)}function _e(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ot(e,t,n,r){if(t===null||typeof t>"u"||_e(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ye(e,t,n,r,l,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oe[e]=new ye(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oe[t]=new ye(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){oe[e]=new ye(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oe[e]=new ye(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oe[e]=new ye(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){oe[e]=new ye(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){oe[e]=new ye(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){oe[e]=new ye(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){oe[e]=new ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var Je=/[\-:]([a-z])/g;function ut(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Je,ut);oe[t]=new ye(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Je,ut);oe[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Je,ut);oe[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){oe[e]=new ye(e,1,!1,e.toLowerCase(),null,!1,!1)}),oe.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){oe[e]=new ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xe(e,t,n,r){var l=oe.hasOwnProperty(t)?oe[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ot(t,n,l,r)&&(n=null),r||l===null?Q(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Re=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),Oe=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),Ze=Symbol.for("react.strict_mode"),Rt=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),I=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var M=Object.assign,h;function N(e){if(h===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);h=t&&t[1]||""}return`
`+h+e}var le=!1;function ne(e,t){if(!e||le)return"";le=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(k){var r=k}Reflect.construct(e,[],t)}else{try{t.call()}catch(k){r=k}e.call(t.prototype)}else{try{throw Error()}catch(k){r=k}e()}}catch(k){if(k&&r&&typeof k.stack=="string"){for(var l=k.stack.split(`
`),a=r.stack.split(`
`),u=l.length-1,f=a.length-1;1<=u&&0<=f&&l[u]!==a[f];)f--;for(;1<=u&&0<=f;u--,f--)if(l[u]!==a[f]){if(u!==1||f!==1)do if(u--,f--,0>f||l[u]!==a[f]){var p=`
`+l[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=f);break}}}finally{le=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function fe(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case Oe:return"Portal";case Rt:return"Profiler";case Ze:return"StrictMode";case ct:return"Suspense";case dt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ee:return(e.displayName||"Context")+".Consumer";case se:return(e._context.displayName||"Context")+".Provider";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case ke:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}function we(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(t);case 8:return t===Ze?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function re(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ft(e){var t=re(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sn(e){e._valueTracker||(e._valueTracker=ft(e))}function An(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=re(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function on(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qe(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dr(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ae(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Te(e,t){t=t.checked,t!=null&&Xe(e,"checked",t,!1)}function Gn(e,t){Te(e,t);var n=ae(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bn(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bn(e,t.type,ae(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function be(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bn(e,t,n){(t!=="number"||on(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mt=Array.isArray;function un(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ae(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Bt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(x(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lr(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(x(92));if(Mt(n)){if(1<n.length)throw Error(x(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ae(n)}}function Cn(e,t){var n=ae(t.value),r=ae(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _t,Rr=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_t=_t||document.createElement("div"),_t.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_t.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D=["Webkit","ms","Moz","O"];Object.keys(Ht).forEach(function(e){D.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ht[t]=Ht[e]})});function Vt(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ht.hasOwnProperty(e)&&Ht[e]?(""+t).trim():t+"px"}function O(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Vt(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Et=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Et[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(x(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(x(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(x(61))}if(t.style!=null&&typeof t.style!="object")throw Error(x(62))}}function xt(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lt=null;function al(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pt=null,Hn=null,Vn=null;function ar(e){if(e=ua(e)){if(typeof pt!="function")throw Error(x(280));var t=e.stateNode;t&&(t=ni(t),pt(e.stateNode,e.type,t))}}function et(e){Hn?Vn?Vn.push(e):Vn=[e]:Hn=e}function Mr(){if(Hn){var e=Hn,t=Vn;if(Vn=Hn=null,ar(e),t)for(e=0;e<t.length;e++)ar(t[e])}}function Kl(e,t){return e(t)}function Or(){}var Pt=!1;function Wn(e,t,n){if(Pt)return e(t,n);Pt=!0;try{return Kl(e,t,n)}finally{Pt=!1,(Hn!==null||Vn!==null)&&(Or(),Mr())}}function Qn(e,t){var n=e.stateNode;if(n===null)return null;var r=ni(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(x(231,t,typeof n));return n}var Jn=!1;if(w)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Jn=!1}function ir(e,t,n,r,l,a,u,f,p){var k=Array.prototype.slice.call(arguments,3);try{t.apply(n,k)}catch(_){this.onError(_)}}var J=!1,sr=null,F=!1,tt=null,at={onError:function(e){J=!0,sr=e}};function _a(e,t,n,r,l,a,u,f,p){J=!1,sr=null,ir.apply(at,arguments)}function Nn(e,t,n,r,l,a,u,f,p){if(_a.apply(this,arguments),J){if(J){var k=sr;J=!1,sr=null}else throw Error(x(198));F||(F=!0,tt=k)}}function jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function je(e){if(jn(e)!==e)throw Error(x(188))}function mt(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error(x(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return je(l),e;if(a===r)return je(l),t;a=a.sibling}throw Error(x(188))}if(n.return!==r.return)n=l,r=a;else{for(var u=!1,f=l.child;f;){if(f===n){u=!0,n=l,r=a;break}if(f===r){u=!0,r=l,n=a;break}f=f.sibling}if(!u){for(f=a.child;f;){if(f===n){u=!0,n=a,r=l;break}if(f===r){u=!0,r=a,n=l;break}f=f.sibling}if(!u)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?e:t}function il(e){return e=mt(e),e!==null?Xt(e):null}function Xt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xt(e);if(t!==null)return t;e=e.sibling}return null}var or=V.unstable_scheduleCallback,_n=V.unstable_cancelCallback,zr=V.unstable_shouldYield,$r=V.unstable_requestPaint,Ae=V.unstable_now,fn=V.unstable_getCurrentPriorityLevel,sl=V.unstable_ImmediatePriority,ol=V.unstable_UserBlockingPriority,Kn=V.unstable_NormalPriority,Hi=V.unstable_LowPriority,Xl=V.unstable_IdlePriority,ul=null,Zt=null;function G(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ul,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:Pa,Ea=Math.log,Fr=Math.LN2;function Pa(e){return e>>>=0,e===0?32:31-(Ea(e)/Fr|0)|0}var En=64,Yn=4194304;function ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ke(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~l;f!==0?r=ur(f):(a&=u,a!==0&&(r=ur(a)))}else u=n&~l,u!==0?r=ur(u):a!==0&&(r=ur(a));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-It(t),l=1<<n,r|=e[n],t&=~l;return r}function Ur(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ia(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-It(a),f=1<<u,p=l[u];p===-1?((f&n)===0||(f&r)!==0)&&(l[u]=Ur(f,t)):p<=t&&(e.expiredLanes|=f),a&=~f}}function pn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cl(){var e=En;return En<<=1,(En&4194240)===0&&(En=64),e}function dl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ot(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=n}function cr(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-It(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function qt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-It(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Ce=0;function Ta(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Da,dr,La,Ra,Ma,bt=!1,Ar=[],Pn=null,mn=null,hn=null,Gr=new Map,Br=new Map,In=[],fr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oa(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Gr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(t.pointerId)}}function Hr(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=ua(t),t!==null&&dr(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Vi(e,t,n,r,l){switch(t){case"focusin":return Pn=Hr(Pn,e,t,n,r,l),!0;case"dragenter":return mn=Hr(mn,e,t,n,r,l),!0;case"mouseover":return hn=Hr(hn,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return Gr.set(a,Hr(Gr.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,Br.set(a,Hr(Br.get(a)||null,e,t,n,r,l)),!0}return!1}function za(e){var t=Jr(e.target);if(t!==null){var n=jn(t);if(n!==null){if(t=n.tag,t===13){if(t=Yl(n),t!==null){e.blockedOn=t,Ma(e.priority,function(){La(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ql(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);lt=r,n.target.dispatchEvent(r),lt=null}else return t=ua(n),t!==null&&dr(t),e.blockedOn=n,!1;t.shift()}return!0}function Tn(e,t,n){fl(e)&&n.delete(t)}function Wi(){bt=!1,Pn!==null&&fl(Pn)&&(Pn=null),mn!==null&&fl(mn)&&(mn=null),hn!==null&&fl(hn)&&(hn=null),Gr.forEach(Tn),Br.forEach(Tn)}function Vr(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,V.unstable_scheduleCallback(V.unstable_NormalPriority,Wi)))}function Wr(e){function t(l){return Vr(l,e)}if(0<Ar.length){Vr(Ar[0],e);for(var n=1;n<Ar.length;n++){var r=Ar[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pn!==null&&Vr(Pn,e),mn!==null&&Vr(mn,e),hn!==null&&Vr(hn,e),Gr.forEach(t),Br.forEach(t),n=0;n<In.length;n++)r=In[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)za(n),n.blockedOn===null&&In.shift()}var pr=Re.ReactCurrentBatchConfig,pl=!0;function Qi(e,t,n,r){var l=Ce,a=pr.transition;pr.transition=null;try{Ce=1,Zl(e,t,n,r)}finally{Ce=l,pr.transition=a}}function Ji(e,t,n,r){var l=Ce,a=pr.transition;pr.transition=null;try{Ce=4,Zl(e,t,n,r)}finally{Ce=l,pr.transition=a}}function Zl(e,t,n,r){if(pl){var l=ql(e,t,n,r);if(l===null)vs(e,t,r,ml,n),Oa(e,r);else if(Vi(l,e,t,n,r))r.stopPropagation();else if(Oa(e,r),t&4&&-1<fr.indexOf(e)){for(;l!==null;){var a=ua(l);if(a!==null&&Da(a),a=ql(e,t,n,r),a===null&&vs(e,t,r,ml,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else vs(e,t,r,null,n)}}var ml=null;function ql(e,t,n,r){if(ml=null,e=al(r),e=Jr(e),e!==null)if(t=jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yl(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ml=e,null}function $a(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fn()){case sl:return 1;case ol:return 4;case Kn:case Hi:return 16;case Xl:return 536870912;default:return 16}default:return 16}}var Dn=null,bl=null,hl=null;function Fa(){if(hl)return hl;var e,t=bl,n=t.length,r,l="value"in Dn?Dn.value:Dn.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===l[a-r];r++);return hl=l.slice(e,1<r?1-r:void 0)}function gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function Ua(){return!1}function Tt(e){function t(n,r,l,a,u){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(a):a[f]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?yl:Ua,this.isPropagationStopped=Ua,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),t}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Tt(Ln),mr=M({},Ln,{view:0,detail:0}),Ki=Tt(mr),vl,kl,St,xl=M({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==St&&(St&&e.type==="mousemove"?(vl=e.screenX-St.screenX,kl=e.screenY-St.screenY):kl=vl=0,St=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),Aa=Tt(xl),Yi=M({},xl,{dataTransfer:0}),Xi=Tt(Yi),Zi=M({},mr,{relatedTarget:0}),Sl=Tt(Zi),qi=M({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),bi=Tt(qi),es=M({},Ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ts=Tt(es),ns=M({},Ln,{data:0}),Ga=Tt(ns),ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ba={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ls(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ba[e])?!!t[e]:!1}function wl(){return ls}var Ha=M({},mr,{key:function(e){if(e.key){var t=ta[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),as=Tt(Ha),is=M({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Va=Tt(is),ss=M({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),os=Tt(ss),Rn=M({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cl=Tt(Rn),Nl=M({},xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jl=Tt(Nl),_l=[9,13,27,32],hr=w&&"CompositionEvent"in window,Mn=null;w&&"documentMode"in document&&(Mn=document.documentMode);var El=w&&"TextEvent"in window&&!Mn,Qr=w&&(!hr||Mn&&8<Mn&&11>=Mn),na=" ",Wa=!1;function Qa(e,t){switch(e){case"keyup":return _l.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function us(e,t){switch(e){case"compositionend":return Ja(t);case"keypress":return t.which!==32?null:(Wa=!0,na);case"textInput":return e=t.data,e===na&&Wa?null:e;default:return null}}function cs(e,t){if(gr)return e==="compositionend"||!hr&&Qa(e,t)?(e=Fa(),hl=bl=Dn=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qr&&t.locale!=="ko"?null:t.data;default:return null}}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o[e.type]:t==="textarea"}function s(e,t,n,r){et(r),t=ba(t,"onChange"),0<t.length&&(n=new ea("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var d=null,g=null;function S(e){Ko(e,0)}function T(e){var t=Ll(e);if(An(t))return e}function $(e,t){if(e==="change")return t}var b=!1;if(w){var me;if(w){var ze="oninput"in document;if(!ze){var De=document.createElement("div");De.setAttribute("oninput","return;"),ze=typeof De.oninput=="function"}me=ze}else me=!1;b=me&&(!document.documentMode||9<document.documentMode)}function ue(){d&&(d.detachEvent("onpropertychange",Be),g=d=null)}function Be(e){if(e.propertyName==="value"&&T(g)){var t=[];s(t,g,e,al(e)),Wn(S,t)}}function gn(e,t,n){e==="focusin"?(ue(),d=t,g=n,d.attachEvent("onpropertychange",Be)):e==="focusout"&&ue()}function On(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return T(g)}function Ka(e,t){if(e==="click")return T(t)}function Ya(e,t){if(e==="input"||e==="change")return T(t)}function Wc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:Wc;function ra(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ce.call(t,l)||!yn(e[l],t[l]))return!1}return!0}function Oo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zo(e,t){var n=Oo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oo(n)}}function $o(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$o(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fo(){for(var e=window,t=on();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=on(e.document)}return t}function ds(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qc(e){var t=Fo(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$o(n.ownerDocument.documentElement,n)){if(r!==null&&ds(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=zo(n,a);var u=zo(n,r);l&&u&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jc=w&&"documentMode"in document&&11>=document.documentMode,Pl=null,fs=null,la=null,ps=!1;function Uo(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ps||Pl==null||Pl!==on(r)||(r=Pl,"selectionStart"in r&&ds(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),la&&ra(la,r)||(la=r,r=ba(fs,"onSelect"),0<r.length&&(t=new ea("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pl)))}function Xa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Il={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionend:Xa("Transition","TransitionEnd")},ms={},Ao={};w&&(Ao=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function Za(e){if(ms[e])return ms[e];if(!Il[e])return e;var t=Il[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ao)return ms[e]=t[n];return e}var Go=Za("animationend"),Bo=Za("animationiteration"),Ho=Za("animationstart"),Vo=Za("transitionend"),Wo=new Map,Qo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(e,t){Wo.set(e,t),ie(t,[e])}for(var hs=0;hs<Qo.length;hs++){var gs=Qo[hs],Kc=gs.toLowerCase(),Yc=gs[0].toUpperCase()+gs.slice(1);yr(Kc,"on"+Yc)}yr(Go,"onAnimationEnd"),yr(Bo,"onAnimationIteration"),yr(Ho,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(Vo,"onTransitionEnd"),ge("onMouseEnter",["mouseout","mouseover"]),ge("onMouseLeave",["mouseout","mouseover"]),ge("onPointerEnter",["pointerout","pointerover"]),ge("onPointerLeave",["pointerout","pointerover"]),ie("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ie("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ie("onBeforeInput",["compositionend","keypress","textInput","paste"]),ie("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ie("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ie("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xc=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function Jo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Nn(r,t,void 0,e),e.currentTarget=null}function Ko(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var f=r[u],p=f.instance,k=f.currentTarget;if(f=f.listener,p!==a&&l.isPropagationStopped())break e;Jo(l,f,k),a=p}else for(u=0;u<r.length;u++){if(f=r[u],p=f.instance,k=f.currentTarget,f=f.listener,p!==a&&l.isPropagationStopped())break e;Jo(l,f,k),a=p}}}if(F)throw e=tt,F=!1,tt=null,e}function $e(e,t){var n=t[Ns];n===void 0&&(n=t[Ns]=new Set);var r=e+"__bubble";n.has(r)||(Yo(t,e,2,!1),n.add(r))}function ys(e,t,n){var r=0;t&&(r|=4),Yo(n,e,r,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function ia(e){if(!e[qa]){e[qa]=!0,te.forEach(function(n){n!=="selectionchange"&&(Xc.has(n)||ys(n,!1,e),ys(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qa]||(t[qa]=!0,ys("selectionchange",!1,t))}}function Yo(e,t,n,r){switch($a(t)){case 1:var l=Qi;break;case 4:l=Ji;break;default:l=Zl}n=l.bind(null,t,n,e),l=void 0,!Jn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function vs(e,t,n,r,l){var a=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var f=r.stateNode.containerInfo;if(f===l||f.nodeType===8&&f.parentNode===l)break;if(u===4)for(u=r.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===l||p.nodeType===8&&p.parentNode===l))return;u=u.return}for(;f!==null;){if(u=Jr(f),u===null)return;if(p=u.tag,p===5||p===6){r=a=u;continue e}f=f.parentNode}}r=r.return}Wn(function(){var k=a,_=al(n),E=[];e:{var j=Wo.get(e);if(j!==void 0){var z=ea,A=e;switch(e){case"keypress":if(gl(n)===0)break e;case"keydown":case"keyup":z=as;break;case"focusin":A="focus",z=Sl;break;case"focusout":A="blur",z=Sl;break;case"beforeblur":case"afterblur":z=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Xi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=os;break;case Go:case Bo:case Ho:z=bi;break;case Vo:z=Cl;break;case"scroll":z=Ki;break;case"wheel":z=jl;break;case"copy":case"cut":case"paste":z=ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Va}var B=(t&4)!==0,Ye=!B&&e==="scroll",y=B?j!==null?j+"Capture":null:j;B=[];for(var m=k,v;m!==null;){v=m;var P=v.stateNode;if(v.tag===5&&P!==null&&(v=P,y!==null&&(P=Qn(m,y),P!=null&&B.push(sa(m,P,v)))),Ye)break;m=m.return}0<B.length&&(j=new z(j,A,null,n,_),E.push({event:j,listeners:B}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",j&&n!==lt&&(A=n.relatedTarget||n.fromElement)&&(Jr(A)||A[Xn]))break e;if((z||j)&&(j=_.window===_?_:(j=_.ownerDocument)?j.defaultView||j.parentWindow:window,z?(A=n.relatedTarget||n.toElement,z=k,A=A?Jr(A):null,A!==null&&(Ye=jn(A),A!==Ye||A.tag!==5&&A.tag!==6)&&(A=null)):(z=null,A=k),z!==A)){if(B=Aa,P="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(B=Va,P="onPointerLeave",y="onPointerEnter",m="pointer"),Ye=z==null?j:Ll(z),v=A==null?j:Ll(A),j=new B(P,m+"leave",z,n,_),j.target=Ye,j.relatedTarget=v,P=null,Jr(_)===k&&(B=new B(y,m+"enter",A,n,_),B.target=v,B.relatedTarget=Ye,P=B),Ye=P,z&&A)t:{for(B=z,y=A,m=0,v=B;v;v=Tl(v))m++;for(v=0,P=y;P;P=Tl(P))v++;for(;0<m-v;)B=Tl(B),m--;for(;0<v-m;)y=Tl(y),v--;for(;m--;){if(B===y||y!==null&&B===y.alternate)break t;B=Tl(B),y=Tl(y)}B=null}else B=null;z!==null&&Xo(E,j,z,B,!1),A!==null&&Ye!==null&&Xo(E,Ye,A,B,!0)}}e:{if(j=k?Ll(k):window,z=j.nodeName&&j.nodeName.toLowerCase(),z==="select"||z==="input"&&j.type==="file")var W=$;else if(c(j))if(b)W=Ya;else{W=On;var X=gn}else(z=j.nodeName)&&z.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(W=Ka);if(W&&(W=W(e,k))){s(E,W,n,_);break e}X&&X(e,j,k),e==="focusout"&&(X=j._wrapperState)&&X.controlled&&j.type==="number"&&Bn(j,"number",j.value)}switch(X=k?Ll(k):window,e){case"focusin":(c(X)||X.contentEditable==="true")&&(Pl=X,fs=k,la=null);break;case"focusout":la=fs=Pl=null;break;case"mousedown":ps=!0;break;case"contextmenu":case"mouseup":case"dragend":ps=!1,Uo(E,n,_);break;case"selectionchange":if(Jc)break;case"keydown":case"keyup":Uo(E,n,_)}var Z;if(hr)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else gr?Qa(e,n)&&(ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ee="onCompositionStart");ee&&(Qr&&n.locale!=="ko"&&(gr||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&gr&&(Z=Fa()):(Dn=_,bl="value"in Dn?Dn.value:Dn.textContent,gr=!0)),X=ba(k,ee),0<X.length&&(ee=new Ga(ee,e,null,n,_),E.push({event:ee,listeners:X}),Z?ee.data=Z:(Z=Ja(n),Z!==null&&(ee.data=Z)))),(Z=El?us(e,n):cs(e,n))&&(k=ba(k,"onBeforeInput"),0<k.length&&(_=new Ga("onBeforeInput","beforeinput",null,n,_),E.push({event:_,listeners:k}),_.data=Z))}Ko(E,t)})}function sa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ba(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Qn(e,n),a!=null&&r.unshift(sa(e,a,l)),a=Qn(e,t),a!=null&&r.push(sa(e,a,l))),e=e.return}return r}function Tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xo(e,t,n,r,l){for(var a=t._reactName,u=[];n!==null&&n!==r;){var f=n,p=f.alternate,k=f.stateNode;if(p!==null&&p===r)break;f.tag===5&&k!==null&&(f=k,l?(p=Qn(n,a),p!=null&&u.unshift(sa(n,p,f))):l||(p=Qn(n,a),p!=null&&u.push(sa(n,p,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Zc=/\r\n?/g,qc=/\u0000|\uFFFD/g;function Zo(e){return(typeof e=="string"?e:""+e).replace(Zc,`
`).replace(qc,"")}function ei(e,t,n){if(t=Zo(t),Zo(e)!==t&&n)throw Error(x(425))}function ti(){}var ks=null,xs=null;function Ss(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ws=typeof setTimeout=="function"?setTimeout:void 0,bc=typeof clearTimeout=="function"?clearTimeout:void 0,qo=typeof Promise=="function"?Promise:void 0,ed=typeof queueMicrotask=="function"?queueMicrotask:typeof qo<"u"?function(e){return qo.resolve(null).then(e).catch(td)}:ws;function td(e){setTimeout(function(){throw e})}function Cs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Wr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Wr(t)}function vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),zn="__reactFiber$"+Dl,oa="__reactProps$"+Dl,Xn="__reactContainer$"+Dl,Ns="__reactEvents$"+Dl,nd="__reactListeners$"+Dl,rd="__reactHandles$"+Dl;function Jr(e){var t=e[zn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xn]||n[zn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bo(e);e!==null;){if(n=e[zn])return n;e=bo(e)}return t}e=n,n=e.parentNode}return null}function ua(e){return e=e[zn]||e[Xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ll(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(x(33))}function ni(e){return e[oa]||null}var js=[],Rl=-1;function kr(e){return{current:e}}function Fe(e){0>Rl||(e.current=js[Rl],js[Rl]=null,Rl--)}function Me(e,t){Rl++,js[Rl]=e.current,e.current=t}var xr={},wt=kr(xr),zt=kr(!1),Kr=xr;function Ml(e,t){var n=e.type.contextTypes;if(!n)return xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function $t(e){return e=e.childContextTypes,e!=null}function ri(){Fe(zt),Fe(wt)}function eu(e,t,n){if(wt.current!==xr)throw Error(x(168));Me(wt,t),Me(zt,n)}function tu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(x(108,we(e)||"Unknown",l));return M({},n,r)}function li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xr,Kr=wt.current,Me(wt,e),Me(zt,zt.current),!0}function nu(e,t,n){var r=e.stateNode;if(!r)throw Error(x(169));n?(e=tu(e,t,Kr),r.__reactInternalMemoizedMergedChildContext=e,Fe(zt),Fe(wt),Me(wt,e)):Fe(zt),Me(zt,n)}var Zn=null,ai=!1,_s=!1;function ru(e){Zn===null?Zn=[e]:Zn.push(e)}function ld(e){ai=!0,ru(e)}function Sr(){if(!_s&&Zn!==null){_s=!0;var e=0,t=Ce;try{var n=Zn;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zn=null,ai=!1}catch(l){throw Zn!==null&&(Zn=Zn.slice(e+1)),or(sl,Sr),l}finally{Ce=t,_s=!1}}return null}var Ol=[],zl=0,ii=null,si=0,en=[],tn=0,Yr=null,qn=1,bn="";function Xr(e,t){Ol[zl++]=si,Ol[zl++]=ii,ii=e,si=t}function lu(e,t,n){en[tn++]=qn,en[tn++]=bn,en[tn++]=Yr,Yr=e;var r=qn;e=bn;var l=32-It(r)-1;r&=~(1<<l),n+=1;var a=32-It(t)+l;if(30<a){var u=l-l%5;a=(r&(1<<u)-1).toString(32),r>>=u,l-=u,qn=1<<32-It(t)+l|n<<l|r,bn=a+e}else qn=1<<a|n<<l|r,bn=e}function Es(e){e.return!==null&&(Xr(e,1),lu(e,1,0))}function Ps(e){for(;e===ii;)ii=Ol[--zl],Ol[zl]=null,si=Ol[--zl],Ol[zl]=null;for(;e===Yr;)Yr=en[--tn],en[tn]=null,bn=en[--tn],en[tn]=null,qn=en[--tn],en[tn]=null}var Qt=null,Jt=null,Ge=!1,vn=null;function au(e,t){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function iu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Jt=vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yr!==null?{id:qn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qt=e,Jt=null,!0):!1;default:return!1}}function Is(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ts(e){if(Ge){var t=Jt;if(t){var n=t;if(!iu(e,t)){if(Is(e))throw Error(x(418));t=vr(n.nextSibling);var r=Qt;t&&iu(e,t)?au(r,n):(e.flags=e.flags&-4097|2,Ge=!1,Qt=e)}}else{if(Is(e))throw Error(x(418));e.flags=e.flags&-4097|2,Ge=!1,Qt=e}}}function su(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function oi(e){if(e!==Qt)return!1;if(!Ge)return su(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ss(e.type,e.memoizedProps)),t&&(t=Jt)){if(Is(e))throw ou(),Error(x(418));for(;t;)au(e,t),t=vr(t.nextSibling)}if(su(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jt=vr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jt=null}}else Jt=Qt?vr(e.stateNode.nextSibling):null;return!0}function ou(){for(var e=Jt;e;)e=vr(e.nextSibling)}function $l(){Jt=Qt=null,Ge=!1}function Ds(e){vn===null?vn=[e]:vn.push(e)}var ad=Re.ReactCurrentBatchConfig;function ca(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var f=l.refs;u===null?delete f[a]:f[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,e))}return e}function ui(e,t){throw e=Object.prototype.toString.call(t),Error(x(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uu(e){var t=e._init;return t(e._payload)}function cu(e){function t(y,m){if(e){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function l(y,m){return y=Ir(y,m),y.index=0,y.sibling=null,y}function a(y,m,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function u(y){return e&&y.alternate===null&&(y.flags|=2),y}function f(y,m,v,P){return m===null||m.tag!==6?(m=Co(v,y.mode,P),m.return=y,m):(m=l(m,v),m.return=y,m)}function p(y,m,v,P){var W=v.type;return W===R?_(y,m,v.props.children,P,v.key):m!==null&&(m.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ke&&uu(W)===m.type)?(P=l(m,v.props),P.ref=ca(y,m,v),P.return=y,P):(P=Ri(v.type,v.key,v.props,null,y.mode,P),P.ref=ca(y,m,v),P.return=y,P)}function k(y,m,v,P){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=No(v,y.mode,P),m.return=y,m):(m=l(m,v.children||[]),m.return=y,m)}function _(y,m,v,P,W){return m===null||m.tag!==7?(m=ll(v,y.mode,P,W),m.return=y,m):(m=l(m,v),m.return=y,m)}function E(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Co(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case de:return v=Ri(m.type,m.key,m.props,null,y.mode,v),v.ref=ca(y,null,m),v.return=y,v;case Oe:return m=No(m,y.mode,v),m.return=y,m;case ke:var P=m._init;return E(y,P(m._payload),v)}if(Mt(m)||Y(m))return m=ll(m,y.mode,v,null),m.return=y,m;ui(y,m)}return null}function j(y,m,v,P){var W=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return W!==null?null:f(y,m,""+v,P);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case de:return v.key===W?p(y,m,v,P):null;case Oe:return v.key===W?k(y,m,v,P):null;case ke:return W=v._init,j(y,m,W(v._payload),P)}if(Mt(v)||Y(v))return W!==null?null:_(y,m,v,P,null);ui(y,v)}return null}function z(y,m,v,P,W){if(typeof P=="string"&&P!==""||typeof P=="number")return y=y.get(v)||null,f(m,y,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case de:return y=y.get(P.key===null?v:P.key)||null,p(m,y,P,W);case Oe:return y=y.get(P.key===null?v:P.key)||null,k(m,y,P,W);case ke:var X=P._init;return z(y,m,v,X(P._payload),W)}if(Mt(P)||Y(P))return y=y.get(v)||null,_(m,y,P,W,null);ui(m,P)}return null}function A(y,m,v,P){for(var W=null,X=null,Z=m,ee=m=0,yt=null;Z!==null&&ee<v.length;ee++){Z.index>ee?(yt=Z,Z=null):yt=Z.sibling;var Ne=j(y,Z,v[ee],P);if(Ne===null){Z===null&&(Z=yt);break}e&&Z&&Ne.alternate===null&&t(y,Z),m=a(Ne,m,ee),X===null?W=Ne:X.sibling=Ne,X=Ne,Z=yt}if(ee===v.length)return n(y,Z),Ge&&Xr(y,ee),W;if(Z===null){for(;ee<v.length;ee++)Z=E(y,v[ee],P),Z!==null&&(m=a(Z,m,ee),X===null?W=Z:X.sibling=Z,X=Z);return Ge&&Xr(y,ee),W}for(Z=r(y,Z);ee<v.length;ee++)yt=z(Z,y,ee,v[ee],P),yt!==null&&(e&&yt.alternate!==null&&Z.delete(yt.key===null?ee:yt.key),m=a(yt,m,ee),X===null?W=yt:X.sibling=yt,X=yt);return e&&Z.forEach(function(Tr){return t(y,Tr)}),Ge&&Xr(y,ee),W}function B(y,m,v,P){var W=Y(v);if(typeof W!="function")throw Error(x(150));if(v=W.call(v),v==null)throw Error(x(151));for(var X=W=null,Z=m,ee=m=0,yt=null,Ne=v.next();Z!==null&&!Ne.done;ee++,Ne=v.next()){Z.index>ee?(yt=Z,Z=null):yt=Z.sibling;var Tr=j(y,Z,Ne.value,P);if(Tr===null){Z===null&&(Z=yt);break}e&&Z&&Tr.alternate===null&&t(y,Z),m=a(Tr,m,ee),X===null?W=Tr:X.sibling=Tr,X=Tr,Z=yt}if(Ne.done)return n(y,Z),Ge&&Xr(y,ee),W;if(Z===null){for(;!Ne.done;ee++,Ne=v.next())Ne=E(y,Ne.value,P),Ne!==null&&(m=a(Ne,m,ee),X===null?W=Ne:X.sibling=Ne,X=Ne);return Ge&&Xr(y,ee),W}for(Z=r(y,Z);!Ne.done;ee++,Ne=v.next())Ne=z(Z,y,ee,Ne.value,P),Ne!==null&&(e&&Ne.alternate!==null&&Z.delete(Ne.key===null?ee:Ne.key),m=a(Ne,m,ee),X===null?W=Ne:X.sibling=Ne,X=Ne);return e&&Z.forEach(function(Fd){return t(y,Fd)}),Ge&&Xr(y,ee),W}function Ye(y,m,v,P){if(typeof v=="object"&&v!==null&&v.type===R&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case de:e:{for(var W=v.key,X=m;X!==null;){if(X.key===W){if(W=v.type,W===R){if(X.tag===7){n(y,X.sibling),m=l(X,v.props.children),m.return=y,y=m;break e}}else if(X.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ke&&uu(W)===X.type){n(y,X.sibling),m=l(X,v.props),m.ref=ca(y,X,v),m.return=y,y=m;break e}n(y,X);break}else t(y,X);X=X.sibling}v.type===R?(m=ll(v.props.children,y.mode,P,v.key),m.return=y,y=m):(P=Ri(v.type,v.key,v.props,null,y.mode,P),P.ref=ca(y,m,v),P.return=y,y=P)}return u(y);case Oe:e:{for(X=v.key;m!==null;){if(m.key===X)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=l(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=No(v,y.mode,P),m.return=y,y=m}return u(y);case ke:return X=v._init,Ye(y,m,X(v._payload),P)}if(Mt(v))return A(y,m,v,P);if(Y(v))return B(y,m,v,P);ui(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=l(m,v),m.return=y,y=m):(n(y,m),m=Co(v,y.mode,P),m.return=y,y=m),u(y)):n(y,m)}return Ye}var Fl=cu(!0),du=cu(!1),ci=kr(null),di=null,Ul=null,Ls=null;function Rs(){Ls=Ul=di=null}function Ms(e){var t=ci.current;Fe(ci),e._currentValue=t}function Os(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Al(e,t){di=e,Ls=Ul=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ft=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(Ls!==e)if(e={context:e,memoizedValue:t,next:null},Ul===null){if(di===null)throw Error(x(308));Ul=e,di.dependencies={lanes:0,firstContext:e}}else Ul=Ul.next=e;return t}var Zr=null;function zs(e){Zr===null?Zr=[e]:Zr.push(e)}function fu(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,zs(t)):(n.next=l.next,l.next=n),t.interleaved=n,er(e,r)}function er(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wr=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Se&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,er(e,n)}return l=r.interleaved,l===null?(t.next=t,zs(r)):(t.next=l.next,l.next=t),r.interleaved=t,er(e,n)}function fi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qt(e,n)}}function mu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pi(e,t,n,r){var l=e.updateQueue;wr=!1;var a=l.firstBaseUpdate,u=l.lastBaseUpdate,f=l.shared.pending;if(f!==null){l.shared.pending=null;var p=f,k=p.next;p.next=null,u===null?a=k:u.next=k,u=p;var _=e.alternate;_!==null&&(_=_.updateQueue,f=_.lastBaseUpdate,f!==u&&(f===null?_.firstBaseUpdate=k:f.next=k,_.lastBaseUpdate=p))}if(a!==null){var E=l.baseState;u=0,_=k=p=null,f=a;do{var j=f.lane,z=f.eventTime;if((r&j)===j){_!==null&&(_=_.next={eventTime:z,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var A=e,B=f;switch(j=t,z=n,B.tag){case 1:if(A=B.payload,typeof A=="function"){E=A.call(z,E,j);break e}E=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=B.payload,j=typeof A=="function"?A.call(z,E,j):A,j==null)break e;E=M({},E,j);break e;case 2:wr=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,j=l.effects,j===null?l.effects=[f]:j.push(f))}else z={eventTime:z,lane:j,tag:f.tag,payload:f.payload,callback:f.callback,next:null},_===null?(k=_=z,p=E):_=_.next=z,u|=j;if(f=f.next,f===null){if(f=l.shared.pending,f===null)break;j=f,f=j.next,j.next=null,l.lastBaseUpdate=j,l.shared.pending=null}}while(!0);if(_===null&&(p=E),l.baseState=p,l.firstBaseUpdate=k,l.lastBaseUpdate=_,t=l.shared.interleaved,t!==null){l=t;do u|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);el|=u,e.lanes=u,e.memoizedState=E}}function hu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(x(191,l));l.call(r)}}}var da={},$n=kr(da),fa=kr(da),pa=kr(da);function qr(e){if(e===da)throw Error(x(174));return e}function Fs(e,t){switch(Me(pa,t),Me(fa,e),Me($n,da),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dn(t,e)}Fe($n),Me($n,t)}function Gl(){Fe($n),Fe(fa),Fe(pa)}function gu(e){qr(pa.current);var t=qr($n.current),n=dn(t,e.type);t!==n&&(Me(fa,e),Me($n,n))}function Us(e){fa.current===e&&(Fe($n),Fe(fa))}var He=kr(0);function mi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var As=[];function Gs(){for(var e=0;e<As.length;e++)As[e]._workInProgressVersionPrimary=null;As.length=0}var hi=Re.ReactCurrentDispatcher,Bs=Re.ReactCurrentBatchConfig,br=0,Ve=null,it=null,ht=null,gi=!1,ma=!1,ha=0,id=0;function Ct(){throw Error(x(321))}function Hs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yn(e[n],t[n]))return!1;return!0}function Vs(e,t,n,r,l,a){if(br=a,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hi.current=e===null||e.memoizedState===null?cd:dd,e=n(r,l),ma){a=0;do{if(ma=!1,ha=0,25<=a)throw Error(x(301));a+=1,ht=it=null,t.updateQueue=null,hi.current=fd,e=n(r,l)}while(ma)}if(hi.current=ki,t=it!==null&&it.next!==null,br=0,ht=it=Ve=null,gi=!1,t)throw Error(x(300));return e}function Ws(){var e=ha!==0;return ha=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ve.memoizedState=ht=e:ht=ht.next=e,ht}function rn(){if(it===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ht===null?Ve.memoizedState:ht.next;if(t!==null)ht=t,it=e;else{if(e===null)throw Error(x(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ht===null?Ve.memoizedState=ht=e:ht=ht.next=e}return ht}function ga(e,t){return typeof t=="function"?t(e):t}function Qs(e){var t=rn(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=it,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var u=l.next;l.next=a.next,a.next=u}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var f=u=null,p=null,k=a;do{var _=k.lane;if((br&_)===_)p!==null&&(p=p.next={lane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),r=k.hasEagerState?k.eagerState:e(r,k.action);else{var E={lane:_,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null};p===null?(f=p=E,u=r):p=p.next=E,Ve.lanes|=_,el|=_}k=k.next}while(k!==null&&k!==a);p===null?u=r:p.next=f,yn(r,t.memoizedState)||(Ft=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,Ve.lanes|=a,el|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Js(e){var t=rn(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do a=e(a,u.action),u=u.next;while(u!==l);yn(a,t.memoizedState)||(Ft=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function yu(){}function vu(e,t){var n=Ve,r=rn(),l=t(),a=!yn(r.memoizedState,l);if(a&&(r.memoizedState=l,Ft=!0),r=r.queue,Ks(Su.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,ya(9,xu.bind(null,n,r,l,t),void 0,null),gt===null)throw Error(x(349));(br&30)!==0||ku(n,t,l)}return l}function ku(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xu(e,t,n,r){t.value=n,t.getSnapshot=r,wu(t)&&Cu(e)}function Su(e,t,n){return n(function(){wu(t)&&Cu(e)})}function wu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yn(e,n)}catch{return!0}}function Cu(e){var t=er(e,1);t!==null&&wn(t,e,1,-1)}function Nu(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t.queue=e,e=e.dispatch=ud.bind(null,Ve,e),[t.memoizedState,e]}function ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ju(){return rn().memoizedState}function yi(e,t,n,r){var l=Fn();Ve.flags|=e,l.memoizedState=ya(1|t,n,void 0,r===void 0?null:r)}function vi(e,t,n,r){var l=rn();r=r===void 0?null:r;var a=void 0;if(it!==null){var u=it.memoizedState;if(a=u.destroy,r!==null&&Hs(r,u.deps)){l.memoizedState=ya(t,n,a,r);return}}Ve.flags|=e,l.memoizedState=ya(1|t,n,a,r)}function _u(e,t){return yi(8390656,8,e,t)}function Ks(e,t){return vi(2048,8,e,t)}function Eu(e,t){return vi(4,2,e,t)}function Pu(e,t){return vi(4,4,e,t)}function Iu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tu(e,t,n){return n=n!=null?n.concat([e]):null,vi(4,4,Iu.bind(null,t,e),n)}function Ys(){}function Du(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lu(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ru(e,t,n){return(br&21)===0?(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=n):(yn(n,t)||(n=cl(),Ve.lanes|=n,el|=n,e.baseState=!0),t)}function sd(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=Bs.transition;Bs.transition={};try{e(!1),t()}finally{Ce=n,Bs.transition=r}}function Mu(){return rn().memoizedState}function od(e,t,n){var r=Er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ou(e))zu(t,n);else if(n=fu(e,t,n,r),n!==null){var l=Lt();wn(n,e,r,l),$u(n,t,r)}}function ud(e,t,n){var r=Er(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ou(e))zu(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,f=a(u,n);if(l.hasEagerState=!0,l.eagerState=f,yn(f,u)){var p=t.interleaved;p===null?(l.next=l,zs(t)):(l.next=p.next,p.next=l),t.interleaved=l;return}}catch{}finally{}n=fu(e,t,l,r),n!==null&&(l=Lt(),wn(n,e,r,l),$u(n,t,r))}}function Ou(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function zu(e,t){ma=gi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $u(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qt(e,n)}}var ki={readContext:nn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},cd={readContext:nn,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:_u,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yi(4194308,4,Iu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yi(4194308,4,e,t)},useInsertionEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var n=Fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=od.bind(null,Ve,e),[r.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:Nu,useDebugValue:Ys,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=Nu(!1),t=e[0];return e=sd.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ve,l=Fn();if(Ge){if(n===void 0)throw Error(x(407));n=n()}else{if(n=t(),gt===null)throw Error(x(349));(br&30)!==0||ku(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,_u(Su.bind(null,r,a,e),[e]),r.flags|=2048,ya(9,xu.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Fn(),t=gt.identifierPrefix;if(Ge){var n=bn,r=qn;n=(r&~(1<<32-It(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ha++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=id++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dd={readContext:nn,useCallback:Du,useContext:nn,useEffect:Ks,useImperativeHandle:Tu,useInsertionEffect:Eu,useLayoutEffect:Pu,useMemo:Lu,useReducer:Qs,useRef:ju,useState:function(){return Qs(ga)},useDebugValue:Ys,useDeferredValue:function(e){var t=rn();return Ru(t,it.memoizedState,e)},useTransition:function(){var e=Qs(ga)[0],t=rn().memoizedState;return[e,t]},useMutableSource:yu,useSyncExternalStore:vu,useId:Mu,unstable_isNewReconciler:!1},fd={readContext:nn,useCallback:Du,useContext:nn,useEffect:Ks,useImperativeHandle:Tu,useInsertionEffect:Eu,useLayoutEffect:Pu,useMemo:Lu,useReducer:Js,useRef:ju,useState:function(){return Js(ga)},useDebugValue:Ys,useDeferredValue:function(e){var t=rn();return it===null?t.memoizedState=e:Ru(t,it.memoizedState,e)},useTransition:function(){var e=Js(ga)[0],t=rn().memoizedState;return[e,t]},useMutableSource:yu,useSyncExternalStore:vu,useId:Mu,unstable_isNewReconciler:!1};function kn(e,t){if(e&&e.defaultProps){t=M({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:M({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xi={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lt(),l=Er(e),a=tr(r,l);a.payload=t,n!=null&&(a.callback=n),t=Cr(e,a,l),t!==null&&(wn(t,e,l,r),fi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lt(),l=Er(e),a=tr(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Cr(e,a,l),t!==null&&(wn(t,e,l,r),fi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),r=Er(e),l=tr(n,r);l.tag=2,t!=null&&(l.callback=t),t=Cr(e,l,r),t!==null&&(wn(t,e,r,n),fi(t,e,r))}};function Fu(e,t,n,r,l,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!ra(n,r)||!ra(l,a):!0}function Uu(e,t,n){var r=!1,l=xr,a=t.contextType;return typeof a=="object"&&a!==null?a=nn(a):(l=$t(t)?Kr:wt.current,r=t.contextTypes,a=(r=r!=null)?Ml(e,l):xr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Au(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xi.enqueueReplaceState(t,t.state,null)}function Zs(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},$s(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=nn(a):(a=$t(t)?Kr:wt.current,l.context=Ml(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Xs(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&xi.enqueueReplaceState(l,l.state,null),pi(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Bl(e,t){try{var n="",r=t;do n+=fe(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function qs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pd=typeof WeakMap=="function"?WeakMap:Map;function Gu(e,t,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ei||(Ei=!0,ho=r),bs(e,t)},n}function Bu(e,t,n){n=tr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){bs(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){bs(e,t),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Hu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pd;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Ed.bind(null,e,t,n),t.then(e,e))}function Vu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=tr(-1,1),t.tag=2,Cr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var md=Re.ReactCurrentOwner,Ft=!1;function Dt(e,t,n,r){t.child=e===null?du(t,null,n,r):Fl(t,e.child,n,r)}function Qu(e,t,n,r,l){n=n.render;var a=t.ref;return Al(t,l),r=Vs(e,t,n,r,a,l),n=Ws(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,nr(e,t,l)):(Ge&&n&&Es(t),t.flags|=1,Dt(e,t,r,l),t.child)}function Ju(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!wo(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Ku(e,t,a,r,l)):(e=Ri(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&l)===0){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:ra,n(u,r)&&e.ref===t.ref)return nr(e,t,l)}return t.flags|=1,e=Ir(a,r),e.ref=t.ref,e.return=t,t.child=e}function Ku(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(ra(a,r)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=r=a,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Ft=!0);else return t.lanes=e.lanes,nr(e,t,l)}return eo(e,t,n,r,l)}function Yu(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Vl,Kt),Kt|=n;else{if((n&1073741824)===0)return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(Vl,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Me(Vl,Kt),Kt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Me(Vl,Kt),Kt|=r;return Dt(e,t,l,n),t.child}function Xu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function eo(e,t,n,r,l){var a=$t(n)?Kr:wt.current;return a=Ml(t,a),Al(t,l),n=Vs(e,t,n,r,a,l),r=Ws(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,nr(e,t,l)):(Ge&&r&&Es(t),t.flags|=1,Dt(e,t,n,l),t.child)}function Zu(e,t,n,r,l){if($t(n)){var a=!0;li(t)}else a=!1;if(Al(t,l),t.stateNode===null)wi(e,t),Uu(t,n,r),Zs(t,n,r,l),r=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var p=u.context,k=n.contextType;typeof k=="object"&&k!==null?k=nn(k):(k=$t(n)?Kr:wt.current,k=Ml(t,k));var _=n.getDerivedStateFromProps,E=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function";E||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==r||p!==k)&&Au(t,u,r,k),wr=!1;var j=t.memoizedState;u.state=j,pi(t,r,u,l),p=t.memoizedState,f!==r||j!==p||zt.current||wr?(typeof _=="function"&&(Xs(t,n,_,r),p=t.memoizedState),(f=wr||Fu(t,n,f,r,j,p,k))?(E||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),u.props=r,u.state=p,u.context=k,r=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,pu(e,t),f=t.memoizedProps,k=t.type===t.elementType?f:kn(t.type,f),u.props=k,E=t.pendingProps,j=u.context,p=n.contextType,typeof p=="object"&&p!==null?p=nn(p):(p=$t(n)?Kr:wt.current,p=Ml(t,p));var z=n.getDerivedStateFromProps;(_=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==E||j!==p)&&Au(t,u,r,p),wr=!1,j=t.memoizedState,u.state=j,pi(t,r,u,l);var A=t.memoizedState;f!==E||j!==A||zt.current||wr?(typeof z=="function"&&(Xs(t,n,z,r),A=t.memoizedState),(k=wr||Fu(t,n,k,r,j,A,p)||!1)?(_||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,A,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,A,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),u.props=r,u.state=A,u.context=p,r=k):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),r=!1)}return to(e,t,n,r,a,l)}function to(e,t,n,r,l,a){Xu(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return l&&nu(t,n,!1),nr(e,t,a);r=t.stateNode,md.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Fl(t,e.child,null,a),t.child=Fl(t,null,f,a)):Dt(e,t,f,a),t.memoizedState=r.state,l&&nu(t,n,!0),t.child}function qu(e){var t=e.stateNode;t.pendingContext?eu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eu(e,t.context,!1),Fs(e,t.containerInfo)}function bu(e,t,n,r,l){return $l(),Ds(l),t.flags|=256,Dt(e,t,n,r),t.child}var no={dehydrated:null,treeContext:null,retryLane:0};function ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function ec(e,t,n){var r=t.pendingProps,l=He.current,a=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(l&2)!==0),f?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Me(He,l&1),e===null)return Ts(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(u=r.children,e=r.fallback,a?(r=t.mode,a=t.child,u={mode:"hidden",children:u},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Mi(u,r,0,null),e=ll(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ro(n),t.memoizedState=no,e):lo(t,u));if(l=e.memoizedState,l!==null&&(f=l.dehydrated,f!==null))return hd(e,t,u,r,f,l,n);if(a){a=r.fallback,u=t.mode,l=e.child,f=l.sibling;var p={mode:"hidden",children:r.children};return(u&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Ir(l,p),r.subtreeFlags=l.subtreeFlags&14680064),f!==null?a=Ir(f,a):(a=ll(a,u,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,u=e.child.memoizedState,u=u===null?ro(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=no,r}return a=e.child,e=a.sibling,r=Ir(a,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function lo(e,t){return t=Mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Si(e,t,n,r){return r!==null&&Ds(r),Fl(t,e.child,null,n),e=lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hd(e,t,n,r,l,a,u){if(n)return t.flags&256?(t.flags&=-257,r=qs(Error(x(422))),Si(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=Mi({mode:"visible",children:r.children},l,0,null),a=ll(a,l,u,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,(t.mode&1)!==0&&Fl(t,e.child,null,u),t.child.memoizedState=ro(u),t.memoizedState=no,a);if((t.mode&1)===0)return Si(e,t,u,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var f=r.dgst;return r=f,a=Error(x(419)),r=qs(a,r,void 0),Si(e,t,u,r)}if(f=(u&e.childLanes)!==0,Ft||f){if(r=gt,r!==null){switch(u&-u){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|u))!==0?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,er(e,l),wn(r,e,l,-1))}return So(),r=qs(Error(x(421))),Si(e,t,u,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Pd.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Jt=vr(l.nextSibling),Qt=t,Ge=!0,vn=null,e!==null&&(en[tn++]=qn,en[tn++]=bn,en[tn++]=Yr,qn=e.id,bn=e.overflow,Yr=t),t=lo(t,r.children),t.flags|=4096,t)}function tc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Os(e.return,t,n)}function ao(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function nc(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(Dt(e,t,r.children,n),r=He.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tc(e,n,t);else if(e.tag===19)tc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Me(He,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&mi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ao(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&mi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ao(t,!0,n,null,a);break;case"together":ao(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),el|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(x(153));if(t.child!==null){for(e=t.child,n=Ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gd(e,t,n){switch(t.tag){case 3:qu(t),$l();break;case 5:gu(t);break;case 1:$t(t.type)&&li(t);break;case 4:Fs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Me(ci,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Me(He,He.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?ec(e,t,n):(Me(He,He.current&1),e=nr(e,t,n),e!==null?e.sibling:null);Me(He,He.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return nc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Me(He,He.current),r)break;return null;case 22:case 23:return t.lanes=0,Yu(e,t,n)}return nr(e,t,n)}var rc,io,lc,ac;rc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},io=function(){},lc=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,qr($n.current);var a=null;switch(n){case"input":l=qe(e,l),r=qe(e,r),a=[];break;case"select":l=M({},l,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":l=Bt(e,l),r=Bt(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ti)}xe(n,r);var u;n=null;for(k in l)if(!r.hasOwnProperty(k)&&l.hasOwnProperty(k)&&l[k]!=null)if(k==="style"){var f=l[k];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(H.hasOwnProperty(k)?a||(a=[]):(a=a||[]).push(k,null));for(k in r){var p=r[k];if(f=l!=null?l[k]:void 0,r.hasOwnProperty(k)&&p!==f&&(p!=null||f!=null))if(k==="style")if(f){for(u in f)!f.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in p)p.hasOwnProperty(u)&&f[u]!==p[u]&&(n||(n={}),n[u]=p[u])}else n||(a||(a=[]),a.push(k,n)),n=p;else k==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(a=a||[]).push(k,p)):k==="children"?typeof p!="string"&&typeof p!="number"||(a=a||[]).push(k,""+p):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(H.hasOwnProperty(k)?(p!=null&&k==="onScroll"&&$e("scroll",e),a||f===p||(a=[])):(a=a||[]).push(k,p))}n&&(a=a||[]).push("style",n);var k=a;(t.updateQueue=k)&&(t.flags|=4)}},ac=function(e,t,n,r){n!==r&&(t.flags|=4)};function va(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yd(e,t,n){var r=t.pendingProps;switch(Ps(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return $t(t.type)&&ri(),Nt(t),null;case 3:return r=t.stateNode,Gl(),Fe(zt),Fe(wt),Gs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,vn!==null&&(vo(vn),vn=null))),io(e,t),Nt(t),null;case 5:Us(t);var l=qr(pa.current);if(n=t.type,e!==null&&t.stateNode!=null)lc(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(x(166));return Nt(t),null}if(e=qr($n.current),oi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[zn]=t,r[oa]=a,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(l=0;l<aa.length;l++)$e(aa[l],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":Dr(r,a),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},$e("invalid",r);break;case"textarea":lr(r,a),$e("invalid",r)}xe(n,a),l=null;for(var u in a)if(a.hasOwnProperty(u)){var f=a[u];u==="children"?typeof f=="string"?r.textContent!==f&&(a.suppressHydrationWarning!==!0&&ei(r.textContent,f,e),l=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(a.suppressHydrationWarning!==!0&&ei(r.textContent,f,e),l=["children",""+f]):H.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&$e("scroll",r)}switch(n){case"input":sn(r),be(r,a,!0);break;case"textarea":sn(r),Lr(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ti)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cn(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[zn]=t,e[oa]=r,rc(e,t,!1,!1),t.stateNode=e;e:{switch(u=xt(n,r),n){case"dialog":$e("cancel",e),$e("close",e),l=r;break;case"iframe":case"object":case"embed":$e("load",e),l=r;break;case"video":case"audio":for(l=0;l<aa.length;l++)$e(aa[l],e);l=r;break;case"source":$e("error",e),l=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),l=r;break;case"details":$e("toggle",e),l=r;break;case"input":Dr(e,r),l=qe(e,r),$e("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=M({},r,{value:void 0}),$e("invalid",e);break;case"textarea":lr(e,r),l=Bt(e,r),$e("invalid",e);break;default:l=r}xe(n,l),f=l;for(a in f)if(f.hasOwnProperty(a)){var p=f[a];a==="style"?O(e,p):a==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Rr(e,p)):a==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Ue(e,p):typeof p=="number"&&Ue(e,""+p):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(H.hasOwnProperty(a)?p!=null&&a==="onScroll"&&$e("scroll",e):p!=null&&Xe(e,a,p,u))}switch(n){case"input":sn(e),be(e,r,!1);break;case"textarea":sn(e),Lr(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ae(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?un(e,!!r.multiple,a,!1):r.defaultValue!=null&&un(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ti)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)ac(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(x(166));if(n=qr(pa.current),qr($n.current),oi(t)){if(r=t.stateNode,n=t.memoizedProps,r[zn]=t,(a=r.nodeValue!==n)&&(e=Qt,e!==null))switch(e.tag){case 3:ei(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ei(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=t,t.stateNode=r}return Nt(t),null;case 13:if(Fe(He),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&Jt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ou(),$l(),t.flags|=98560,a=!1;else if(a=oi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(x(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(x(317));a[zn]=t}else $l(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Nt(t),a=!1}else vn!==null&&(vo(vn),vn=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(He.current&1)!==0?st===0&&(st=3):So())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return Gl(),io(e,t),e===null&&ia(t.stateNode.containerInfo),Nt(t),null;case 10:return Ms(t.type._context),Nt(t),null;case 17:return $t(t.type)&&ri(),Nt(t),null;case 19:if(Fe(He),a=t.memoizedState,a===null)return Nt(t),null;if(r=(t.flags&128)!==0,u=a.rendering,u===null)if(r)va(a,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=mi(e),u!==null){for(t.flags|=128,va(a,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Me(He,He.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ae()>Wl&&(t.flags|=128,r=!0,va(a,!1),t.lanes=4194304)}else{if(!r)if(e=mi(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),va(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Ge)return Nt(t),null}else 2*Ae()-a.renderingStartTime>Wl&&n!==1073741824&&(t.flags|=128,r=!0,va(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ae(),t.sibling=null,n=He.current,Me(He,r?n&1|2:n&1),t):(Nt(t),null);case 22:case 23:return xo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Kt&1073741824)!==0&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(x(156,t.tag))}function vd(e,t){switch(Ps(t),t.tag){case 1:return $t(t.type)&&ri(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gl(),Fe(zt),Fe(wt),Gs(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Us(t),null;case 13:if(Fe(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(x(340));$l()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(He),null;case 4:return Gl(),null;case 10:return Ms(t.type._context),null;case 22:case 23:return xo(),null;case 24:return null;default:return null}}var Ci=!1,jt=!1,kd=typeof WeakSet=="function"?WeakSet:Set,U=null;function Hl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(e,t,r)}else n.current=null}function so(e,t,n){try{n()}catch(r){We(e,t,r)}}var ic=!1;function xd(e,t){if(ks=pl,e=Fo(),ds(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,f=-1,p=-1,k=0,_=0,E=e,j=null;t:for(;;){for(var z;E!==n||l!==0&&E.nodeType!==3||(f=u+l),E!==a||r!==0&&E.nodeType!==3||(p=u+r),E.nodeType===3&&(u+=E.nodeValue.length),(z=E.firstChild)!==null;)j=E,E=z;for(;;){if(E===e)break t;if(j===n&&++k===l&&(f=u),j===a&&++_===r&&(p=u),(z=E.nextSibling)!==null)break;E=j,j=E.parentNode}E=z}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(xs={focusedElem:e,selectionRange:n},pl=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var A=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var B=A.memoizedProps,Ye=A.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?B:kn(t.type,B),Ye);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(P){We(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return A=ic,ic=!1,A}function ka(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&so(t,n,a)}l=l.next}while(l!==r)}}function Ni(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sc(e){var t=e.alternate;t!==null&&(e.alternate=null,sc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zn],delete t[oa],delete t[Ns],delete t[nd],delete t[rd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oc(e){return e.tag===5||e.tag===3||e.tag===4}function uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ti));else if(r!==4&&(e=e.child,e!==null))for(uo(e,t,n),e=e.sibling;e!==null;)uo(e,t,n),e=e.sibling}function co(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(co(e,t,n),e=e.sibling;e!==null;)co(e,t,n),e=e.sibling}var vt=null,xn=!1;function Nr(e,t,n){for(n=n.child;n!==null;)cc(e,t,n),n=n.sibling}function cc(e,t,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ul,n)}catch{}switch(n.tag){case 5:jt||Hl(n,t);case 6:var r=vt,l=xn;vt=null,Nr(e,t,n),vt=r,xn=l,vt!==null&&(xn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(xn?(e=vt,n=n.stateNode,e.nodeType===8?Cs(e.parentNode,n):e.nodeType===1&&Cs(e,n),Wr(e)):Cs(vt,n.stateNode));break;case 4:r=vt,l=xn,vt=n.stateNode.containerInfo,xn=!0,Nr(e,t,n),vt=r,xn=l;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,u=a.destroy;a=a.tag,u!==void 0&&((a&2)!==0||(a&4)!==0)&&so(n,t,u),l=l.next}while(l!==r)}Nr(e,t,n);break;case 1:if(!jt&&(Hl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){We(n,t,f)}Nr(e,t,n);break;case 21:Nr(e,t,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Nr(e,t,n),jt=r):Nr(e,t,n);break;default:Nr(e,t,n)}}function dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new kd),t.forEach(function(r){var l=Id.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Sn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:vt=f.stateNode,xn=!1;break e;case 3:vt=f.stateNode.containerInfo,xn=!0;break e;case 4:vt=f.stateNode.containerInfo,xn=!0;break e}f=f.return}if(vt===null)throw Error(x(160));cc(a,u,l),vt=null,xn=!1;var p=l.alternate;p!==null&&(p.return=null),l.return=null}catch(k){We(l,t,k)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fc(t,e),t=t.sibling}function fc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(t,e),Un(e),r&4){try{ka(3,e,e.return),Ni(3,e)}catch(B){We(e,e.return,B)}try{ka(5,e,e.return)}catch(B){We(e,e.return,B)}}break;case 1:Sn(t,e),Un(e),r&512&&n!==null&&Hl(n,n.return);break;case 5:if(Sn(t,e),Un(e),r&512&&n!==null&&Hl(n,n.return),e.flags&32){var l=e.stateNode;try{Ue(l,"")}catch(B){We(e,e.return,B)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&a.type==="radio"&&a.name!=null&&Te(l,a),xt(f,u);var k=xt(f,a);for(u=0;u<p.length;u+=2){var _=p[u],E=p[u+1];_==="style"?O(l,E):_==="dangerouslySetInnerHTML"?Rr(l,E):_==="children"?Ue(l,E):Xe(l,_,E,k)}switch(f){case"input":Gn(l,a);break;case"textarea":Cn(l,a);break;case"select":var j=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var z=a.value;z!=null?un(l,!!a.multiple,z,!1):j!==!!a.multiple&&(a.defaultValue!=null?un(l,!!a.multiple,a.defaultValue,!0):un(l,!!a.multiple,a.multiple?[]:"",!1))}l[oa]=a}catch(B){We(e,e.return,B)}}break;case 6:if(Sn(t,e),Un(e),r&4){if(e.stateNode===null)throw Error(x(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(B){We(e,e.return,B)}}break;case 3:if(Sn(t,e),Un(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wr(t.containerInfo)}catch(B){We(e,e.return,B)}break;case 4:Sn(t,e),Un(e);break;case 13:Sn(t,e),Un(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(mo=Ae())),r&4&&dc(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(jt=(k=jt)||_,Sn(t,e),jt=k):Sn(t,e),Un(e),r&8192){if(k=e.memoizedState!==null,(e.stateNode.isHidden=k)&&!_&&(e.mode&1)!==0)for(U=e,_=e.child;_!==null;){for(E=U=_;U!==null;){switch(j=U,z=j.child,j.tag){case 0:case 11:case 14:case 15:ka(4,j,j.return);break;case 1:Hl(j,j.return);var A=j.stateNode;if(typeof A.componentWillUnmount=="function"){r=j,n=j.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(B){We(r,n,B)}}break;case 5:Hl(j,j.return);break;case 22:if(j.memoizedState!==null){hc(E);continue}}z!==null?(z.return=j,U=z):hc(E)}_=_.sibling}e:for(_=null,E=e;;){if(E.tag===5){if(_===null){_=E;try{l=E.stateNode,k?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(f=E.stateNode,p=E.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=Vt("display",u))}catch(B){We(e,e.return,B)}}}else if(E.tag===6){if(_===null)try{E.stateNode.nodeValue=k?"":E.memoizedProps}catch(B){We(e,e.return,B)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;_===E&&(_=null),E=E.return}_===E&&(_=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:Sn(t,e),Un(e),r&4&&dc(e);break;case 21:break;default:Sn(t,e),Un(e)}}function Un(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oc(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Ue(l,""),r.flags&=-33);var a=uc(e);co(e,a,l);break;case 3:case 4:var u=r.stateNode.containerInfo,f=uc(e);uo(e,f,u);break;default:throw Error(x(161))}}catch(p){We(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sd(e,t,n){U=e,pc(e)}function pc(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var l=U,a=l.child;if(l.tag===22&&r){var u=l.memoizedState!==null||Ci;if(!u){var f=l.alternate,p=f!==null&&f.memoizedState!==null||jt;f=Ci;var k=jt;if(Ci=u,(jt=p)&&!k)for(U=l;U!==null;)u=U,p=u.child,u.tag===22&&u.memoizedState!==null?gc(l):p!==null?(p.return=u,U=p):gc(l);for(;a!==null;)U=a,pc(a),a=a.sibling;U=l,Ci=f,jt=k}mc(e)}else(l.subtreeFlags&8772)!==0&&a!==null?(a.return=l,U=a):mc(e)}}function mc(e){for(;U!==null;){var t=U;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:jt||Ni(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jt)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:kn(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&hu(t,a,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hu(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var k=t.alternate;if(k!==null){var _=k.memoizedState;if(_!==null){var E=_.dehydrated;E!==null&&Wr(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}jt||t.flags&512&&oo(t)}catch(j){We(t,t.return,j)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function hc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function gc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ni(4,t)}catch(p){We(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(p){We(t,l,p)}}var a=t.return;try{oo(t)}catch(p){We(t,a,p)}break;case 5:var u=t.return;try{oo(t)}catch(p){We(t,u,p)}}}catch(p){We(t,t.return,p)}if(t===e){U=null;break}var f=t.sibling;if(f!==null){f.return=t.return,U=f;break}U=t.return}}var wd=Math.ceil,ji=Re.ReactCurrentDispatcher,fo=Re.ReactCurrentOwner,ln=Re.ReactCurrentBatchConfig,Se=0,gt=null,nt=null,kt=0,Kt=0,Vl=kr(0),st=0,xa=null,el=0,_i=0,po=0,Sa=null,Ut=null,mo=0,Wl=1/0,rr=null,Ei=!1,ho=null,jr=null,Pi=!1,_r=null,Ii=0,wa=0,go=null,Ti=-1,Di=0;function Lt(){return(Se&6)!==0?Ae():Ti!==-1?Ti:Ti=Ae()}function Er(e){return(e.mode&1)===0?1:(Se&2)!==0&&kt!==0?kt&-kt:ad.transition!==null?(Di===0&&(Di=cl()),Di):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:$a(e.type)),e)}function wn(e,t,n,r){if(50<wa)throw wa=0,go=null,Error(x(185));Ot(e,n,r),((Se&2)===0||e!==gt)&&(e===gt&&((Se&2)===0&&(_i|=n),st===4&&Pr(e,kt)),At(e,r),n===1&&Se===0&&(t.mode&1)===0&&(Wl=Ae()+500,ai&&Sr()))}function At(e,t){var n=e.callbackNode;Ia(e,t);var r=Ke(e,e===gt?kt:0);if(r===0)n!==null&&_n(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_n(n),t===1)e.tag===0?ld(vc.bind(null,e)):ru(vc.bind(null,e)),ed(function(){(Se&6)===0&&Sr()}),n=null;else{switch(Ta(r)){case 1:n=sl;break;case 4:n=ol;break;case 16:n=Kn;break;case 536870912:n=Xl;break;default:n=Kn}n=_c(n,yc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yc(e,t){if(Ti=-1,Di=0,(Se&6)!==0)throw Error(x(327));var n=e.callbackNode;if(Ql()&&e.callbackNode!==n)return null;var r=Ke(e,e===gt?kt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Li(e,r);else{t=r;var l=Se;Se|=2;var a=xc();(gt!==e||kt!==t)&&(rr=null,Wl=Ae()+500,nl(e,t));do try{jd();break}catch(f){kc(e,f)}while(!0);Rs(),ji.current=a,Se=l,nt!==null?t=0:(gt=null,kt=0,t=st)}if(t!==0){if(t===2&&(l=pn(e),l!==0&&(r=l,t=yo(e,l))),t===1)throw n=xa,nl(e,0),Pr(e,r),At(e,Ae()),n;if(t===6)Pr(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Cd(l)&&(t=Li(e,r),t===2&&(a=pn(e),a!==0&&(r=a,t=yo(e,a))),t===1))throw n=xa,nl(e,0),Pr(e,r),At(e,Ae()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(x(345));case 2:rl(e,Ut,rr);break;case 3:if(Pr(e,r),(r&130023424)===r&&(t=mo+500-Ae(),10<t)){if(Ke(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Lt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ws(rl.bind(null,e,Ut,rr),t);break}rl(e,Ut,rr);break;case 4:if(Pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var u=31-It(r);a=1<<u,u=t[u],u>l&&(l=u),r&=~a}if(r=l,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wd(r/1960))-r,10<r){e.timeoutHandle=ws(rl.bind(null,e,Ut,rr),r);break}rl(e,Ut,rr);break;case 5:rl(e,Ut,rr);break;default:throw Error(x(329))}}}return At(e,Ae()),e.callbackNode===n?yc.bind(null,e):null}function yo(e,t){var n=Sa;return e.current.memoizedState.isDehydrated&&(nl(e,t).flags|=256),e=Li(e,t),e!==2&&(t=Ut,Ut=n,t!==null&&vo(t)),e}function vo(e){Ut===null?Ut=e:Ut.push.apply(Ut,e)}function Cd(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!yn(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~po,t&=~_i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-It(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if((Se&6)!==0)throw Error(x(327));Ql();var t=Ke(e,0);if((t&1)===0)return At(e,Ae()),null;var n=Li(e,t);if(e.tag!==0&&n===2){var r=pn(e);r!==0&&(t=r,n=yo(e,r))}if(n===1)throw n=xa,nl(e,0),Pr(e,t),At(e,Ae()),n;if(n===6)throw Error(x(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rl(e,Ut,rr),At(e,Ae()),null}function ko(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(Wl=Ae()+500,ai&&Sr())}}function tl(e){_r!==null&&_r.tag===0&&(Se&6)===0&&Ql();var t=Se;Se|=1;var n=ln.transition,r=Ce;try{if(ln.transition=null,Ce=1,e)return e()}finally{Ce=r,ln.transition=n,Se=t,(Se&6)===0&&Sr()}}function xo(){Kt=Vl.current,Fe(Vl)}function nl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bc(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Ps(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ri();break;case 3:Gl(),Fe(zt),Fe(wt),Gs();break;case 5:Us(r);break;case 4:Gl();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:Ms(r.type._context);break;case 22:case 23:xo()}n=n.return}if(gt=e,nt=e=Ir(e.current,null),kt=Kt=t,st=0,xa=null,po=_i=el=0,Ut=Sa=null,Zr!==null){for(t=0;t<Zr.length;t++)if(n=Zr[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=l,r.next=u}n.pending=r}Zr=null}return e}function kc(e,t){do{var n=nt;try{if(Rs(),hi.current=ki,gi){for(var r=Ve.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}gi=!1}if(br=0,ht=it=Ve=null,ma=!1,ha=0,fo.current=null,n===null||n.return===null){st=1,xa=t,nt=null;break}e:{var a=e,u=n.return,f=n,p=t;if(t=kt,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var k=p,_=f,E=_.tag;if((_.mode&1)===0&&(E===0||E===11||E===15)){var j=_.alternate;j?(_.updateQueue=j.updateQueue,_.memoizedState=j.memoizedState,_.lanes=j.lanes):(_.updateQueue=null,_.memoizedState=null)}var z=Vu(u);if(z!==null){z.flags&=-257,Wu(z,u,f,a,t),z.mode&1&&Hu(a,k,t),t=z,p=k;var A=t.updateQueue;if(A===null){var B=new Set;B.add(p),t.updateQueue=B}else A.add(p);break e}else{if((t&1)===0){Hu(a,k,t),So();break e}p=Error(x(426))}}else if(Ge&&f.mode&1){var Ye=Vu(u);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),Wu(Ye,u,f,a,t),Ds(Bl(p,f));break e}}a=p=Bl(p,f),st!==4&&(st=2),Sa===null?Sa=[a]:Sa.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Gu(a,p,t);mu(a,y);break e;case 1:f=p;var m=a.type,v=a.stateNode;if((a.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(jr===null||!jr.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=Bu(a,f,t);mu(a,P);break e}}a=a.return}while(a!==null)}wc(n)}catch(W){t=W,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function xc(){var e=ji.current;return ji.current=ki,e===null?ki:e}function So(){(st===0||st===3||st===2)&&(st=4),gt===null||(el&268435455)===0&&(_i&268435455)===0||Pr(gt,kt)}function Li(e,t){var n=Se;Se|=2;var r=xc();(gt!==e||kt!==t)&&(rr=null,nl(e,t));do try{Nd();break}catch(l){kc(e,l)}while(!0);if(Rs(),Se=n,ji.current=r,nt!==null)throw Error(x(261));return gt=null,kt=0,st}function Nd(){for(;nt!==null;)Sc(nt)}function jd(){for(;nt!==null&&!zr();)Sc(nt)}function Sc(e){var t=jc(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?wc(e):nt=t,fo.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=yd(n,t,Kt),n!==null){nt=n;return}}else{if(n=vd(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,nt=null;return}}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);st===0&&(st=5)}function rl(e,t,n){var r=Ce,l=ln.transition;try{ln.transition=null,Ce=1,_d(e,t,n,r)}finally{ln.transition=l,Ce=r}return null}function _d(e,t,n,r){do Ql();while(_r!==null);if((Se&6)!==0)throw Error(x(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(x(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(cr(e,a),e===gt&&(nt=gt=null,kt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Pi||(Pi=!0,_c(Kn,function(){return Ql(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=ln.transition,ln.transition=null;var u=Ce;Ce=1;var f=Se;Se|=4,fo.current=null,xd(e,n),fc(n,e),Qc(xs),pl=!!ks,xs=ks=null,e.current=n,Sd(n),$r(),Se=f,Ce=u,ln.transition=a}else e.current=n;if(Pi&&(Pi=!1,_r=e,Ii=l),a=e.pendingLanes,a===0&&(jr=null),G(n.stateNode),At(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ei)throw Ei=!1,e=ho,ho=null,e;return(Ii&1)!==0&&e.tag!==0&&Ql(),a=e.pendingLanes,(a&1)!==0?e===go?wa++:(wa=0,go=e):wa=0,Sr(),null}function Ql(){if(_r!==null){var e=Ta(Ii),t=ln.transition,n=Ce;try{if(ln.transition=null,Ce=16>e?16:e,_r===null)var r=!1;else{if(e=_r,_r=null,Ii=0,(Se&6)!==0)throw Error(x(331));var l=Se;for(Se|=4,U=e.current;U!==null;){var a=U,u=a.child;if((U.flags&16)!==0){var f=a.deletions;if(f!==null){for(var p=0;p<f.length;p++){var k=f[p];for(U=k;U!==null;){var _=U;switch(_.tag){case 0:case 11:case 15:ka(8,_,a)}var E=_.child;if(E!==null)E.return=_,U=E;else for(;U!==null;){_=U;var j=_.sibling,z=_.return;if(sc(_),_===k){U=null;break}if(j!==null){j.return=z,U=j;break}U=z}}}var A=a.alternate;if(A!==null){var B=A.child;if(B!==null){A.child=null;do{var Ye=B.sibling;B.sibling=null,B=Ye}while(B!==null)}}U=a}}if((a.subtreeFlags&2064)!==0&&u!==null)u.return=a,U=u;else e:for(;U!==null;){if(a=U,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:ka(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,U=y;break e}U=a.return}}var m=e.current;for(U=m;U!==null;){u=U;var v=u.child;if((u.subtreeFlags&2064)!==0&&v!==null)v.return=u,U=v;else e:for(u=m;U!==null;){if(f=U,(f.flags&2048)!==0)try{switch(f.tag){case 0:case 11:case 15:Ni(9,f)}}catch(W){We(f,f.return,W)}if(f===u){U=null;break e}var P=f.sibling;if(P!==null){P.return=f.return,U=P;break e}U=f.return}}if(Se=l,Sr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ul,e)}catch{}r=!0}return r}finally{Ce=n,ln.transition=t}}return!1}function Cc(e,t,n){t=Bl(n,t),t=Gu(e,t,1),e=Cr(e,t,1),t=Lt(),e!==null&&(Ot(e,1,t),At(e,t))}function We(e,t,n){if(e.tag===3)Cc(e,e,n);else for(;t!==null;){if(t.tag===3){Cc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){e=Bl(n,e),e=Bu(t,e,1),t=Cr(t,e,1),e=Lt(),t!==null&&(Ot(t,1,e),At(t,e));break}}t=t.return}}function Ed(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&n,gt===e&&(kt&n)===n&&(st===4||st===3&&(kt&130023424)===kt&&500>Ae()-mo?nl(e,0):po|=n),At(e,t)}function Nc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Yn,Yn<<=1,(Yn&130023424)===0&&(Yn=4194304)));var n=Lt();e=er(e,t),e!==null&&(Ot(e,t,n),At(e,n))}function Pd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nc(e,n)}function Id(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(t),Nc(e,n)}var jc;jc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)Ft=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ft=!1,gd(e,t,n);Ft=(e.flags&131072)!==0}else Ft=!1,Ge&&(t.flags&1048576)!==0&&lu(t,si,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wi(e,t),e=t.pendingProps;var l=Ml(t,wt.current);Al(t,n),l=Vs(null,t,r,e,l,n);var a=Ws();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$t(r)?(a=!0,li(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,$s(t),l.updater=xi,t.stateNode=l,l._reactInternals=t,Zs(t,r,e,n),t=to(null,t,r,!0,a,n)):(t.tag=0,Ge&&a&&Es(t),Dt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wi(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Dd(r),e=kn(r,e),l){case 0:t=eo(null,t,r,e,n);break e;case 1:t=Zu(null,t,r,e,n);break e;case 11:t=Qu(null,t,r,e,n);break e;case 14:t=Ju(null,t,r,kn(r.type,e),n);break e}throw Error(x(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:kn(r,l),eo(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:kn(r,l),Zu(e,t,r,l,n);case 3:e:{if(qu(t),e===null)throw Error(x(387));r=t.pendingProps,a=t.memoizedState,l=a.element,pu(e,t),pi(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Bl(Error(x(423)),t),t=bu(e,t,r,n,l);break e}else if(r!==l){l=Bl(Error(x(424)),t),t=bu(e,t,r,n,l);break e}else for(Jt=vr(t.stateNode.containerInfo.firstChild),Qt=t,Ge=!0,vn=null,n=du(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($l(),r===l){t=nr(e,t,n);break e}Dt(e,t,r,n)}t=t.child}return t;case 5:return gu(t),e===null&&Ts(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,u=l.children,Ss(r,l)?u=null:a!==null&&Ss(r,a)&&(t.flags|=32),Xu(e,t),Dt(e,t,u,n),t.child;case 6:return e===null&&Ts(t),null;case 13:return ec(e,t,n);case 4:return Fs(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fl(t,null,r,n):Dt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:kn(r,l),Qu(e,t,r,l,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,u=l.value,Me(ci,r._currentValue),r._currentValue=u,a!==null)if(yn(a.value,u)){if(a.children===l.children&&!zt.current){t=nr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var f=a.dependencies;if(f!==null){u=a.child;for(var p=f.firstContext;p!==null;){if(p.context===r){if(a.tag===1){p=tr(-1,n&-n),p.tag=2;var k=a.updateQueue;if(k!==null){k=k.shared;var _=k.pending;_===null?p.next=p:(p.next=_.next,_.next=p),k.pending=p}}a.lanes|=n,p=a.alternate,p!==null&&(p.lanes|=n),Os(a.return,n,t),f.lanes|=n;break}p=p.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(x(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),Os(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Dt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Al(t,n),l=nn(l),r=r(l),t.flags|=1,Dt(e,t,r,n),t.child;case 14:return r=t.type,l=kn(r,t.pendingProps),l=kn(r.type,l),Ju(e,t,r,l,n);case 15:return Ku(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:kn(r,l),wi(e,t),t.tag=1,$t(r)?(e=!0,li(t)):e=!1,Al(t,n),Uu(t,r,l),Zs(t,r,l,n),to(null,t,r,!0,e,n);case 19:return nc(e,t,n);case 22:return Yu(e,t,n)}throw Error(x(156,t.tag))};function _c(e,t){return or(e,t)}function Td(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,n,r){return new Td(e,t,n,r)}function wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dd(e){if(typeof e=="function")return wo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K)return 11;if(e===ve)return 14}return 2}function Ir(e,t){var n=e.alternate;return n===null?(n=an(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ri(e,t,n,r,l,a){var u=2;if(r=e,typeof e=="function")wo(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case R:return ll(n.children,l,a,t);case Ze:u=8,l|=8;break;case Rt:return e=an(12,n,t,l|2),e.elementType=Rt,e.lanes=a,e;case ct:return e=an(13,n,t,l),e.elementType=ct,e.lanes=a,e;case dt:return e=an(19,n,t,l),e.elementType=dt,e.lanes=a,e;case Ie:return Mi(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:u=10;break e;case Ee:u=9;break e;case K:u=11;break e;case ve:u=14;break e;case ke:u=16,r=null;break e}throw Error(x(130,e==null?e:typeof e,""))}return t=an(u,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function ll(e,t,n,r){return e=an(7,e,r,t),e.lanes=n,e}function Mi(e,t,n,r){return e=an(22,e,r,t),e.elementType=Ie,e.lanes=n,e.stateNode={isHidden:!1},e}function Co(e,t,n){return e=an(6,e,null,t),e.lanes=n,e}function No(e,t,n){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ld(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dl(0),this.expirationTimes=dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function jo(e,t,n,r,l,a,u,f,p){return e=new Ld(e,t,n,f,p),t===1?(t=1,a===!0&&(t|=8)):t=0,a=an(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(a),e}function Rd(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oe,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ec(e){if(!e)return xr;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(x(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(x(171))}if(e.tag===1){var n=e.type;if($t(n))return tu(e,n,t)}return t}function Pc(e,t,n,r,l,a,u,f,p){return e=jo(n,r,!0,e,l,a,u,f,p),e.context=Ec(null),n=e.current,r=Lt(),l=Er(n),a=tr(r,l),a.callback=t??null,Cr(n,a,l),e.current.lanes=l,Ot(e,l,r),At(e,r),e}function Oi(e,t,n,r){var l=t.current,a=Lt(),u=Er(l);return n=Ec(n),t.context===null?t.context=n:t.pendingContext=n,t=tr(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cr(l,t,u),e!==null&&(wn(e,l,u,a),fi(e,l,u)),u}function zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ic(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _o(e,t){Ic(e,t),(e=e.alternate)&&Ic(e,t)}function Md(){return null}var Tc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eo(e){this._internalRoot=e}$i.prototype.render=Eo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(x(409));Oi(e,t,null,null)},$i.prototype.unmount=Eo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tl(function(){Oi(null,e,null,null)}),t[Xn]=null}};function $i(e){this._internalRoot=e}$i.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ra();e={blockedOn:null,target:e,priority:t};for(var n=0;n<In.length&&t!==0&&t<In[n].priority;n++);In.splice(n,0,e),n===0&&za(e)}};function Po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dc(){}function Od(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var k=zi(u);a.call(k)}}var u=Pc(t,r,e,0,null,!1,!1,"",Dc);return e._reactRootContainer=u,e[Xn]=u.current,ia(e.nodeType===8?e.parentNode:e),tl(),u}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var f=r;r=function(){var k=zi(p);f.call(k)}}var p=jo(e,0,!1,null,null,!1,!1,"",Dc);return e._reactRootContainer=p,e[Xn]=p.current,ia(e.nodeType===8?e.parentNode:e),tl(function(){Oi(t,p,n,r)}),p}function Ui(e,t,n,r,l){var a=n._reactRootContainer;if(a){var u=a;if(typeof l=="function"){var f=l;l=function(){var p=zi(u);f.call(p)}}Oi(t,u,e,l)}else u=Od(n,t,e,l,r);return zi(u)}Da=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ur(t.pendingLanes);n!==0&&(qt(t,n|1),At(t,Ae()),(Se&6)===0&&(Wl=Ae()+500,Sr()))}break;case 13:tl(function(){var r=er(e,1);if(r!==null){var l=Lt();wn(r,e,1,l)}}),_o(e,1)}},dr=function(e){if(e.tag===13){var t=er(e,134217728);if(t!==null){var n=Lt();wn(t,e,134217728,n)}_o(e,134217728)}},La=function(e){if(e.tag===13){var t=Er(e),n=er(e,t);if(n!==null){var r=Lt();wn(n,e,t,r)}_o(e,t)}},Ra=function(){return Ce},Ma=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}},pt=function(e,t,n){switch(t){case"input":if(Gn(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ni(r);if(!l)throw Error(x(90));An(r),Gn(r,l)}}}break;case"textarea":Cn(e,n);break;case"select":t=n.value,t!=null&&un(e,!!n.multiple,t,!1)}},Kl=ko,Or=tl;var zd={usingClientEntryPoint:!1,Events:[ua,Ll,ni,et,Mr,ko]},Ca={findFiberByHostInstance:Jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$d={bundleType:Ca.bundleType,version:Ca.version,rendererPackageName:Ca.rendererPackageName,rendererConfig:Ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Re.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=il(e),e===null?null:e.stateNode},findFiberByHostInstance:Ca.findFiberByHostInstance||Md,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{ul=Ai.inject($d),Zt=Ai}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zd,Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Po(t))throw Error(x(200));return Rd(e,t,null,n)},Gt.createRoot=function(e,t){if(!Po(e))throw Error(x(299));var n=!1,r="",l=Tc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=jo(e,1,!1,null,null,n,!1,r,l),e[Xn]=t.current,ia(e.nodeType===8?e.parentNode:e),new Eo(t)},Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(x(188)):(e=Object.keys(e).join(","),Error(x(268,e)));return e=il(t),e=e===null?null:e.stateNode,e},Gt.flushSync=function(e){return tl(e)},Gt.hydrate=function(e,t,n){if(!Fi(t))throw Error(x(200));return Ui(null,e,t,!0,n)},Gt.hydrateRoot=function(e,t,n){if(!Po(e))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",u=Tc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Pc(t,null,e,1,n??null,l,!1,a,u),e[Xn]=t.current,ia(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new $i(t)},Gt.render=function(e,t,n){if(!Fi(t))throw Error(x(200));return Ui(null,e,t,!1,n)},Gt.unmountComponentAtNode=function(e){if(!Fi(e))throw Error(x(40));return e._reactRootContainer?(tl(function(){Ui(null,null,e,!1,function(){e._reactRootContainer=null,e[Xn]=null})}),!0):!1},Gt.unstable_batchedUpdates=ko,Gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fi(n))throw Error(x(200));if(e==null||e._reactInternals===void 0)throw Error(x(38));return Ui(e,t,n,!1,r)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Uc;function Qd(){if(Uc)return Do.exports;Uc=1;function L(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L)}catch(V){console.error(V)}}return L(),Do.exports=Wd(),Do.exports}var Ac;function Jd(){if(Ac)return Gi;Ac=1;var L=Qd();return Gi.createRoot=L.createRoot,Gi.hydrateRoot=L.hydrateRoot,Gi}var Kd=Jd();const Yd=Vc(Kd),Gc=["P2Pチャットルーム1"],Jl=20,rt=7,Bc=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}],Xd="https://p2p-sample.metered.live/api/v1/turn/credentials?apiKey=d51424dc9b80232dbc239f680b412cdbfe33",Zd=window.location.protocol==="https:"?"wss://":"ws://"+window.location.host+"/ws",q=()=>Date.now().toString(36)+Math.random().toString(36).substring(2,9),qd=()=>Math.random().toString(36).substring(2,10);function ja(L){const V=[...L];for(let x=V.length-1;x>0;x--){const te=Math.floor(Math.random()*(x+1));[V[x],V[te]]=[V[te],V[x]]}return V}function Bi(L){const V=new Map;return L.forEach((te,H)=>{if(V.has(te.id)){const ie=V.get(te.id);ie.count++,ie.indices.push(H)}else V.set(te.id,{cardDef:te,count:1,indices:[H]})}),Array.from(V.values()).sort((te,H)=>Math.min(...te.indices)-Math.min(...H.indices)).map(te=>({card:te.cardDef,count:te.count,originalIndices:te.indices.sort((H,ie)=>H-ie)}))}const Yt=({card:L,tokenInstance:V,isTokenDisplay:x,context:te,count:H,originalIndex:ie,isMyCard:ge,isSelected:w,onAddToDeck:ce,onRemoveFromDeck:Qe,cardsInDeckCount:Le,onDragStartItem:Pe,onDragEndItem:Q,isDraggable:_e,isDragging:ot,isDisabled:ye,onClick:oe,isSelectable:Je,onMoveFromGraveyardToHand:ut,onMoveFromGraveyardToField:Xe,isGameActive:Re})=>{var dt;const de=x?V==null?void 0:V.definition:L;if(!de)return null;const Oe=x?de.isCreature||de.power!==void 0&&de.power>0||de.toughness!==void 0&&de.toughness>0:de.attack>0||de.defense>0,R=ve=>{Pe&&typeof ie=="number"&&_e&&!ye&&(Pe(ve,x?V:L,x?"token":"card",te==="hand"?"hand":"field",ie),ve.dataTransfer&&(ve.dataTransfer.effectAllowed="move"))},Ze=ve=>{Q&&_e&&!ye&&Q(ve)},Rt=()=>{oe&&!ye&&Je&&(te==="token-selector"&&x?oe(de.id):typeof ie=="number"&&oe(ie))},se=ve=>{ve.stopPropagation(),ut&&typeof ie=="number"&&ge&&Re&&L&&ut(L,ie)},Ee=ve=>{ve.stopPropagation(),Xe&&typeof ie=="number"&&ge&&Re&&L&&Xe(L,ie)},K=ve=>!ve||ve.length===0?null:i.jsx("div",{className:"mtg-card-token-colors",children:ve.map(ke=>i.jsx("span",{className:`color-indicator color-${ke.toLowerCase()}`,title:ke},ke))}),ct=()=>{if(!x||!(V!=null&&V.definition.colors)||V.definition.colors.length===0)return;const ve=V.definition.colors;return ve.length===1?{w:"#f0f0c0",u:"#c0d8f0",b:"#c0c0c0",r:"#f0c0c0",g:"#c0f0c0",c:"#d0d0d0",gold:"#f0e0a0"}[ve[0].toLowerCase()]:"#e0d0b0"};return i.jsxs("div",{className:`mtg-card context-${te} ${x?"token-display":""} ${w?"selected":""} ${ot?"dragging":""} ${ye?"disabled-card":""} ${Je?"selectable-card-overlay":""}`,"aria-label":`${de.name} ${x?"token":"card"} ${Je?"(選択可能)":""} ${ye?"(操作不可)":""}`,draggable:_e&&ge&&(te==="hand"||te==="field")&&!ye,onDragStart:R,onDragEnd:Ze,onClick:Rt,role:Je?"button":void 0,tabIndex:Je?0:void 0,onKeyPress:Je?ve=>(ve.key==="Enter"||ve.key===" ")&&Rt():void 0,children:[i.jsxs("div",{className:"mtg-card-header",style:x?{backgroundColor:ct()}:{},children:[i.jsx("span",{className:"mtg-card-name",title:de.name,children:de.name}),!x&&i.jsx("span",{className:"mtg-card-cost",children:de.cost}),x&&K(de.colors)]}),i.jsx("div",{className:"mtg-card-image-area",children:de.imageUrl?i.jsx("img",{src:de.imageUrl,alt:de.name}):i.jsx("div",{className:"mtg-card-no-image",children:i.jsx("span",{children:x?"Token":"No Image"})})}),(te==="field"||te==="editor-list"||te==="token-editor-list"||te==="graveyard-viewer"||te==="hand"||te==="token-selector")&&i.jsx("div",{className:"mtg-card-type-line",children:x?((dt=de.types)==null?void 0:dt.join(" / "))||(Oe?"Token Creature":"Token"):Oe?"Creature":"Spell"}),i.jsx("div",{className:"mtg-card-text-box scrollable-text",children:i.jsx("p",{children:de.text||" "})}),Oe&&i.jsx("div",{className:"mtg-card-pt",children:x?`${de.power||0}/${de.toughness||0}`:`${de.attack}/${de.defense}`}),H&&H>1&&te==="field"&&!x&&i.jsxs("span",{className:"mtg-card-count-badge",children:["x",H]}),te==="deck-selector"&&ce&&Qe&&L&&i.jsxs("div",{className:"mtg-card-actions deck-selector-actions",children:[i.jsxs("span",{children:["In deck: ",Le]}),i.jsx("button",{onClick:()=>ce(L.id),"aria-label":`Add ${L.name}`,children:"Add"}),i.jsx("button",{onClick:()=>Qe(L.id),disabled:Le===0,"aria-label":`Remove ${L.name}`,children:"Remove"})]}),te==="graveyard-viewer"&&ge&&Re&&!x&&L&&i.jsxs("div",{className:"mtg-card-actions graveyard-actions",children:[ut&&i.jsx("button",{onClick:se,className:"card-action-button gy-to-hand",children:"To Hand"}),Xe&&i.jsx("button",{onClick:Ee,className:"card-action-button gy-to-field",children:"To Field"})]})]})};function bd(){const[L,V]=C.useState("main"),[x,te]=C.useState(""),[H,ie]=C.useState(null),[ge,w]=C.useState(null),[ce,Qe]=C.useState(!1),[Le,Pe]=C.useState(!1),Q=C.useRef(null),_e=C.useRef(null),[ot,ye]=C.useState(""),[oe,Je]=C.useState(""),[ut,Xe]=C.useState([]),[Re,de]=C.useState(""),[Oe,R]=C.useState([]),[Ze,Rt]=C.useState(""),[se,Ee]=C.useState("disconnected"),[K,ct]=C.useState(""),[dt,ve]=C.useState(null),[ke,Ie]=C.useState(!1),[I,Y]=C.useState(null),[M,h]=C.useState("disconnected"),[N,le]=C.useState(!1),[ne,fe]=C.useState([]),[pe,we]=C.useState([]),[ae,re]=C.useState("waiting"),ft=C.useRef(null),sn=C.useRef(null),An=C.useRef(null),on=C.useRef(null),[qe,Dr]=C.useState(()=>{try{const o=localStorage.getItem("cardGame_allCards");return o?JSON.parse(o):[]}catch(o){return console.error("Error loading cards from localStorage",o),[]}}),[Te,Gn]=C.useState(()=>{try{const o=localStorage.getItem("cardGame_allDecks");return o?JSON.parse(o):[]}catch(o){return console.error("Error loading decks from localStorage",o),[]}}),[be,Bn]=C.useState(()=>{try{const o=localStorage.getItem("cardGame_allTokenDefinitions");return o?JSON.parse(o):[]}catch(o){return console.error("Error loading token definitions from localStorage",o),[]}}),[Mt,un]=C.useState(null),[Bt,lr]=C.useState({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""}),[Cn,Lr]=C.useState(null),[cn,dn]=C.useState({name:"",selectedCardIds:[]}),[_t,Rr]=C.useState(null),[Ue,Ht]=C.useState({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""}),[D,Vt]=C.useState("chat_only"),[O,Et]=C.useState(null),[xe,xt]=C.useState(null),[lt,al]=C.useState(null),[pt,Hn]=C.useState(null),[Vn,ar]=C.useState(!1),[et,Mr]=C.useState(0),[Kl,Or]=C.useState(0),[Pt,Wn]=C.useState("deciding"),[Qn,Jn]=C.useState("deciding"),[Wt,ir]=C.useState([]),[J,sr]=C.useState("deck_selection"),[F,tt]=C.useState(null),[at,_a]=C.useState(null),[Nn,jn]=C.useState(null),[Yl,je]=C.useState(null),[mt,il]=C.useState(0),[Xt,or]=C.useState("deciding"),[_n,zr]=C.useState([]),[$r,Ae]=C.useState(!1),[fn,sl]=C.useState(null),[ol,Kn]=C.useState([]),[Hi,Xl]=C.useState(!1),[ul,Zt]=C.useState(!1),[G,It]=C.useState(null),[Ea,Fr]=C.useState(!1),[Pa,En]=C.useState(!1);C.useEffect(()=>{try{localStorage.setItem("cardGame_allCards",JSON.stringify(qe))}catch(o){console.error("Failed to save cards:",o),w("カードの保存に失敗しました。")}},[qe]),C.useEffect(()=>{try{localStorage.setItem("cardGame_allDecks",JSON.stringify(Te))}catch(o){console.error("Failed to save decks:",o),w("デッキの保存に失敗しました。")}},[Te]),C.useEffect(()=>{try{localStorage.setItem("cardGame_allTokenDefinitions",JSON.stringify(be))}catch(o){console.error("Failed to save token definitions:",o),w("トークン定義の保存に失敗しました。")}},[be]),C.useEffect(()=>{if(H&&Oe)try{localStorage.setItem(`chatHistory_${H}`,JSON.stringify(Oe))}catch(o){console.error("Failed to save chat history to localStorage:",o),w("チャット履歴の保存に失敗しました。")}},[Oe,H]),C.useEffect(()=>{ft.current&&(ft.current.scrollTop=ft.current.scrollHeight)},[Oe]);const Yn=C.useCallback(o=>qe.find(c=>c.id===o),[qe]),ur=C.useCallback(o=>be.find(c=>c.id===o),[be]),Ke=C.useCallback(o=>{if(_e.current&&_e.current.readyState==="open")try{_e.current.send(JSON.stringify(o))}catch(c){console.error("Failed to send data channel message:",c),w("データチャネルでのメッセージ送信に失敗しました。")}else console.warn("Data channel not open, cannot send game message:",o),w("P2P接続が確立していないか、データチャネルが開いていません。")},[]),Ur=C.useCallback(()=>{Ae(!1),sl(null),Kn([])},[]),Ia=o=>{Zt(o),Xl(!0)},pn=()=>Xl(!1);C.useEffect(()=>{D==="MULLIGAN"&&Pt==="kept"&&Qn==="kept"&&(Vt("game_active"),R(o=>[...o,{id:q(),sender:"system",text:`両プレイヤーが手札をキープしました。ゲーム開始！${ke?"あなたのターンです。":"相手のターンです。"}`,timestamp:Date.now()}]))},[Pt,Qn,D,ke]);const cl=C.useCallback(o=>{switch(o.peerId&&o.peerId!==K&&ve(o.peerId),o.type){case"deck_selected":if(o.peerId!==K){const c=pt==null?void 0:pt.name;Hn({name:o.deckName,size:o.deckSize,peerId:o.peerId});let s=`相手 (${o.peerId.substring(0,6)}) がデッキ「${o.deckName}」(${o.deckSize}枚)`;c&&c!==o.deckName?s+=" に変更しました。":c&&c===o.deckName?s+=" を再度選択しました。":s+=" を選択しました。",lt?(s+=" あなたも選択済みです。",ar(!0)):s+=" あなたの選択を待っています。",R(d=>[...d,{id:q(),sender:"system",text:s,timestamp:Date.now()}])}break;case"game_start_request":if(o.peerId!==K&&lt&&pt){const c=Te.find(s=>s.id===lt);if(c){const s=c.cardIds.map(b=>Yn(b)).filter(Boolean),d=ja(s),g=d.slice(0,rt),S=d.slice(rt),T=[{id:q(),title:"Note 1",text:"",isShared:!1}],$=[{id:q(),title:"Note 1",text:"",isShared:!1}];Et({life:o.initialOpponentLife,deck:S,hand:g,field:[],fieldTokens:[],graveyard:[],myNotes:T}),xt({life:Jl,deckCount:pt.size-rt,handCount:rt,field:[],fieldTokens:[],graveyard:[],opponentNotes:$}),Vt("MULLIGAN"),Mr(0),Or(0),Wn("deciding"),Jn("deciding"),ir([]),R(b=>[...b,{id:q(),sender:"system",text:`ゲームセットアップ完了。マリガンフェイズです。両プレイヤーは手札${rt}枚で開始。`,timestamp:Date.now()}])}else console.error("game_start_request: My selected deck not found. mySelectedDeckId:",lt),w("ゲーム開始エラー：自分の選択したデッキが見つかりません。")}break;case"player_decision_mulligan":if(o.peerId!==K){Or(o.mulligansTakenThisGame),xt(s=>s?{...s,handCount:o.resultingHandSize}:null);let c="";o.actionTaken==="kept_hand"?(Jn("kept"),c=`手札をキープしました (最終手札 ${o.resultingHandSize}枚、マリガン ${o.mulligansTakenThisGame}回)。`):(Jn("deciding"),c=`マリガンを行い、手札を ${o.resultingHandSize}枚にしました (マリガン ${o.mulligansTakenThisGame}回目)。`),R(s=>[...s,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})が${c}`,timestamp:Date.now()}])}break;case"draw_card":o.peerId!==K&&xe&&(xt(c=>c?{...c,deckCount:c.deckCount-1,handCount:c.handCount+1}:null),R(c=>[...c,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})がカードを1枚ドローしました。`,timestamp:Date.now()}]));break;case"play_card":o.peerId!==K&&xe&&o.card&&(xt(c=>c?{...c,handCount:c.handCount-1,field:[...c.field,o.card]}:null),R(c=>[...c,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})がカード「${o.card.name}」をプレイしました。`,timestamp:Date.now()}]));break;case"move_to_graveyard":if(o.peerId!==K&&xe&&o.card){const{card:c,fromZone:s}=o;let d=`相手(${o.peerId.substring(0,6)})がカード「${c.name}」を`;xt(g=>{if(!g)return null;let S=g.handCount,T=[...g.field];const $=g.graveyard?[...g.graveyard,c]:[c];if(s==="hand")S--,d+="手札から墓地へ送りました。";else if(s==="field"){const b=T.findIndex(me=>me.id===c.id);b>-1?(T.splice(b,1),d+="フィールドから墓地へ送りました。"):(console.warn(`Opponent move_to_graveyard from field: card ${c.name} (ID: ${c.id}) not found.`),d+="フィールドから墓地へ送ろうとしましたが、見つかりませんでした。")}return{...g,handCount:S,field:T,graveyard:$}}),R(g=>[...g,{id:q(),sender:"system",text:d,timestamp:Date.now()}])}break;case"update_life":o.peerId!==K&&xe&&(xt(c=>c?{...c,life:o.newLifeTotal}:null),R(c=>[...c,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})がライフを ${o.newLifeTotal} に変更しました。`,timestamp:Date.now()}]));break;case"move_from_graveyard":if(o.peerId!==K&&xe){const{card:c,toZone:s}=o;let d=`相手(${o.peerId.substring(0,6)})がカード「${c.name}」を墓地から`;xt(g=>{if(!g)return null;const S=[...g.graveyard],T=S.findIndex(me=>me.id===c.id);T>-1?S.splice(T,1):console.warn(`Opponent move_from_graveyard: card ${c.name} (ID: ${c.id}) not found in their graveyard representation. Decrementing count only.`);let $=g.handCount,b=[...g.field];return s==="hand"?($++,d+="手札へ移動しました。"):(b.push(c),d+="フィールドへ移動しました。"),{...g,handCount:$,field:b,graveyard:S}}),R(g=>[...g,{id:q(),sender:"system",text:d,timestamp:Date.now()}])}break;case"update_notes":o.peerId!==K&&(xt(c=>c?{...c,opponentNotes:o.notes}:null),R(c=>[...c,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})がメモを更新しました。`,timestamp:Date.now()}]));break;case"create_token":if(o.peerId!==K&&xe){be.find(s=>s.id===o.tokenDefinition.id)||Bn(s=>[...s,o.tokenDefinition]);const c={instanceId:o.instanceId,definition:o.tokenDefinition};xt(s=>s?{...s,fieldTokens:[...s.fieldTokens,c]}:null),R(s=>[...s,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})がトークン「${o.tokenDefinition.name}」を生成しました。`,timestamp:Date.now()}])}break;case"remove_token_from_field":if(o.peerId!==K&&xe){const c=xe.fieldTokens.find(s=>s.instanceId===o.instanceId);xt(s=>s?{...s,fieldTokens:s.fieldTokens.filter(d=>d.instanceId!==o.instanceId)}:null),c&&R(s=>[...s,{id:q(),sender:"system",text:`相手(${o.peerId.substring(0,6)})のトークン「${c.definition.name}」がフィールドを離れました。`,timestamp:Date.now()}])}break}},[K,xe,lt,Te,Yn,pt,ar,Vt,w,be]),dl=C.useRef(cl);C.useEffect(()=>{dl.current=cl},[cl]);const Ot=C.useCallback(()=>{Vt("chat_only"),Et(null),xt(null),al(null),Hn(null),ar(!1),Mr(0),Or(0),Wn("deciding"),Jn("deciding"),ir([]),ve(null),Ur(),pn()},[Ur,pn]),cr=C.useCallback(o=>{o.onopen=()=>{console.log("Data channel opened"),Ee("connected"),R(c=>[...c,{id:Date.now().toString(),sender:"system",text:"P2P接続が確立しました！チャットまたはゲームを開始できます。",timestamp:Date.now()}]),w(null),console.log("データチャンネル開通 - activeRoom:",H,"roomPhase:",D),H&&D==="chat_only"?(console.log("デッキ選択フェーズに移行します"),Vt("deck_selection")):console.log("デッキ選択フェーズに移行しない理由:",{activeRoom:H,roomPhase:D})},o.onmessage=c=>{try{const s=JSON.parse(c.data);s.messageType==="chat"&&s.payload&&typeof s.payload.text=="string"&&typeof s.payload.sender=="string"?(s.payload.sender!==K&&ve(s.payload.sender),R(d=>[...d,{id:Date.now().toString(),sender:"peer",text:s.payload.text,timestamp:Date.now()}])):s.messageType==="game_action"&&s.payload?dl.current(s.payload):console.warn("Unknown data channel message structure:",s)}catch(s){const d=c.data;R(g=>[...g,{id:Date.now().toString(),sender:"peer",text:`[RAW] ${d}`,timestamp:Date.now()}]),console.warn("Received non-JSON message on data channel, treating as raw text:",d,s)}},o.onclose=()=>{console.log("Data channel closed"),Q.current?(se!=="failed"&&Ee("disconnected"),R(c=>[...c,{id:Date.now().toString(),sender:"system",text:"データチャネルが閉じました。接続が失われたかリセットされた可能性があります。",timestamp:Date.now()}]),Ot()):console.log("Data channel closed, but peer connection already handled/null (likely local reset).")},o.onerror=c=>{console.error("Data channel error:",c),w("データチャネルエラーが発生しました。"),Ee("failed")}},[se,K,Vt,w,Ot]),qt=C.useCallback(async()=>{Pe(!0),w(null);let o=null;try{console.log("Fetching TURN credentials...");const c=await fetch(Xd);let s=[];if(c.ok)s=await c.json(),console.log("Successfully fetched TURN credentials:",s),(!Array.isArray(s)||s.length===0)&&(console.warn("Fetched TURN credentials are not a valid array or are empty. Using fallback STUN servers."),w("取得したTURNサーバー情報が空です。STUNサーバーで試行します。"),s=[...Bc]);else{const g=await c.text();console.error(`Failed to fetch TURN credentials: ${c.status} ${c.statusText}`,g),w(`TURNサーバー情報の取得に失敗: ${c.status}. STUNサーバーで試行します。`),s=[...Bc]}const d={iceServers:s};console.log("Initializing RTCPeerConnection with config:",d),o=new RTCPeerConnection(d),Q.current=o,o.onicecandidate=g=>{g.candidate?(console.log("=== ICE候補送信 ==="),console.log("Local ICE candidate generated:",g.candidate),I&&I.readyState===WebSocket.OPEN&&H?(console.log("ICE候補をWebSocket経由で送信中..."),I.send(JSON.stringify({msg_type:"ice-candidate",data:g.candidate.toJSON(),target:ne.find(S=>S!==K)||null})),console.log("✓ ICE候補送信完了")):(console.log("WebSocket利用不可、手動交換にフォールバック"),Xe(S=>[...S,g.candidate.toJSON()]))):console.log("ICE候補生成完了 (null candidate received)")},o.onicegatheringstatechange=()=>{Q.current&&(console.log("P2P ICE Gathering State:",Q.current.iceGatheringState),Q.current.iceGatheringState==="complete"&&R(g=>[...g,{id:q(),sender:"system",text:"ローカルICE候補の収集が完了しました。全ての候補を相手に伝えてください。",timestamp:Date.now()}]))},o.oniceconnectionstatechange=()=>{if(Q.current)switch(console.log("=== ICE接続状態変更 ==="),console.log("P2P ICE Connection State:",Q.current.iceConnectionState),Q.current.iceConnectionState){case"checking":console.log("ICE接続チェック中..."),re("ice-checking"),se!=="connected"&&Ee("connecting");break;case"connected":case"completed":console.log("✓ ICE接続成功！"),re("ice-connected"),_e.current&&_e.current.readyState==="open"?(console.log("=== P2P接続完全確立 ==="),Ee("connected"),re("completed"),R(g=>[...g,{id:q(),sender:"system",text:"🎉 P2P接続が完全に確立されました！ゲーム開始準備完了",timestamp:Date.now()}]),console.log("P2P接続確立 - activeRoom:",H,"roomPhase:",D),H&&D==="chat_only"?(console.log("デッキ選択フェーズに移行します"),Vt("deck_selection")):console.log("デッキ選択フェーズに移行しない理由:",{activeRoom:H,roomPhase:D})):!_e.current&&se!=="connected"&&(console.log("ICE接続成功、データチャンネル待機中..."),Ee("connecting"));break;case"disconnected":se!=="failed"&&se!=="disconnected"&&(Ee("disconnected"),w("P2P接続が切断されました。再接続を試みてください。"),Ot());break;case"failed":se!=="failed"&&(Ee("failed"),w("P2P接続に失敗しました。ネットワーク設定や相手との情報交換を確認してください。"),Ot());break;case"closed":se!=="disconnected"&&se!=="failed"&&(Ee("disconnected"),w("P2P接続が閉じられました。"),Ot());break;default:se!=="connected"&&se!=="failed"&&Ee("connecting")}},o.ondatachannel=g=>{console.log("Data channel received"),_e.current=g.channel,cr(g.channel),Q.current&&(Q.current.iceConnectionState==="connected"||Q.current.iceConnectionState==="completed")&&(Ee("connected"),console.log("データチャンネル受信時のP2P接続確立 - activeRoom:",H,"roomPhase:",D),D==="chat_only"?(console.log("デッキ選択フェーズに移行します"),Vt("deck_selection")):console.log("デッキ選択フェーズに移行しない理由:",{activeRoom:H,roomPhase:D}))}}catch(c){console.error("Error in initializePeerConnection:",c),w(`P2P初期化エラー: ${c.message}`),Ee("failed"),o&&o.close(),Q.current=null,o=null}finally{Pe(!1)}return o},[cr,Vt,Ot,se,w]),Ce=C.useCallback(async o=>{I&&I.close(),h("connecting"),le(!0);try{const c=new WebSocket(Zd);return c.onopen=()=>{console.log("WebSocket connected to signaling server"),h("connected"),Y(c),console.log("WebSocket state after setWsConnection:",c.readyState),c.send(JSON.stringify({msg_type:"join-room",data:{room_id:o,max_players:2}}))},c.onmessage=s=>{console.log("WebSocket message received, ws.readyState:",c.readyState),Ta(JSON.parse(s.data),c)},c.onclose=()=>{console.log("WebSocket disconnected"),h("disconnected"),Y(null),fe([]),le(!1)},c.onerror=s=>{console.error("WebSocket error:",s),h("failed"),w("シグナリングサーバーへの接続に失敗しました。"),le(!1)},c}catch(c){return console.error("Failed to connect to signaling server:",c),h("failed"),w("シグナリングサーバーへの接続に失敗しました。"),le(!1),null}},[I,K]),Ta=C.useCallback(async(o,c)=>{switch(console.log("Received signaling message:",o),console.log("Message structure - msg_type:",o.msg_type,"sender:",o.sender,"target:",o.target),o.msg_type){case"welcome":console.log("Welcome message received, client ID:",o.data.client_id);break;case"room-joined":console.log("room-joined メッセージ受信:",o.data),console.log("activeRoom を設定:",o.data.room_id),fe(o.data.players||[]),R(s=>[...s,{id:q(),sender:"system",text:`ルーム「${o.data.room_id}」に参加しました。接続されているユーザー: ${o.data.player_count}人`,timestamp:Date.now()}]);break;case"user-joined":fe(s=>{const d=[...s||[]];return d.includes(o.data.user_id)||d.push(o.data.user_id),d}),R(s=>[...s,{id:q(),sender:"system",text:`新しいユーザーが参加しました: ${o.data.user_id}`,timestamp:Date.now()}]),o.data.player_count===2&&se==="disconnected"&&R(s=>[...s,{id:q(),sender:"system",text:"2人揃いました！接続開始ボタンが表示されます。",timestamp:Date.now()}]);break;case"user-left":fe(s=>s.filter(d=>d!==o.data.user_id)),R(s=>[...s,{id:q(),sender:"system",text:`ユーザーが退出しました: ${o.data.user_id}`,timestamp:Date.now()}]);break;case"offer":o.sender&&await La(o.data,o.sender,c);break;case"answer":o.sender&&await Ra(o.data,o.sender);break;case"ice-candidate":o.sender&&await Ma(o.data,o.sender);break;case"room-error":console.log("room-error受信:",o.data),w(`ルーム参加エラー: ${o.data.error}`);break;default:console.warn("Unknown signaling message type:",o.msg_type)}},[se,R]),Da=C.useCallback(async o=>{if(Q.current){console.log("P2P connection already exists, skipping initialization");return}console.log("=== WebRTC ハンドシェイク開始 ==="),console.log("Role:",o?"オファー側":"アンサー側"),Ie(o),re(o?"creating-offer":"waiting-for-offer"),we([]);const c=await qt();if(!c){w("P2P接続の初期化に失敗しました。"),re("failed");return}if(o){console.log("1. オファーSDP送信準備中..."),re("creating-offer");const s=c.createDataChannel("game_and_chat_auto");_e.current=s,cr(s);try{console.log("2. オファーSDP作成中...");const d=await c.createOffer();if(await c.setLocalDescription(d),console.log("3. オファーSDP送信中...",d),re("offer-sent"),console.log(JSON.stringify({msg_type:"offer",data:d,target:ne.find(g=>g!==K)||null})),I&&I.readyState===WebSocket.OPEN)I.send(JSON.stringify({msg_type:"offer",data:d,target:ne.find(g=>g!==K)||null})),R(g=>[...g,{id:q(),sender:"system",text:"✓ ステップ1: オファーSDP送信完了",timestamp:Date.now()}]);else throw new Error("WebSocket接続が利用できません")}catch(d){console.error("Error creating/sending offer:",d),w("オファーの作成または送信に失敗しました。"),re("failed")}}else console.log("アンサー側: オファー受信を待機中..."),R(s=>[...s,{id:q(),sender:"system",text:"アンサー側として待機中... オファーを待っています",timestamp:Date.now()}])},[qt,cr,I,ne,K,R]),dr=C.useCallback(async()=>{if(!Q.current||!Q.current.remoteDescription){console.log("Remote description not set yet, cannot process pending ICE candidates");return}console.log(`Processing ${pe.length} pending ICE candidates`);for(const o of pe)try{await Q.current.addIceCandidate(new RTCIceCandidate(o)),console.log("✓ Pending ICE candidate processed successfully")}catch(c){console.error("Error processing pending ICE candidate:",c)}we([]),console.log("All pending ICE candidates processed")},[pe]),La=C.useCallback(async(o,c,s)=>{if(console.log("=== オファー受信 ==="),console.log("4. オファー受信:",c),console.log("Offer SDP:",o),Q.current){console.log("既にP2P接続が存在します。無視します。");return}re("offer-received"),Ie(!1),R(g=>[...g,{id:q(),sender:"system",text:"✓ ステップ2: オファー受信完了",timestamp:Date.now()}]);const d=await qt();if(!d){w("P2P接続の初期化に失敗しました。"),re("failed");return}try{console.log("5. オファー情報セット中..."),re("setting-offer"),await d.setRemoteDescription(new RTCSessionDescription(o)),console.log("6. アンサーSDP作成中..."),re("creating-answer");const g=await d.createAnswer();await d.setLocalDescription(g),console.log("7. アンサーSDP送信中...",g),re("answer-sent"),console.log(JSON.stringify({msg_type:"answer",data:g,target:c}));const S=s||I;if(console.log("=== デバッグ情報 ==="),console.log("activeRoom:",H),console.log("roomPhase:",D),console.log("WebSocket状態:",(S==null?void 0:S.readyState)===WebSocket.CONNECTING?"CONNECTING":(S==null?void 0:S.readyState)===WebSocket.OPEN?"OPEN":(S==null?void 0:S.readyState)===WebSocket.CLOSING?"CLOSING":(S==null?void 0:S.readyState)===WebSocket.CLOSED?"CLOSED":"UNKNOWN"),S&&S.readyState===WebSocket.OPEN)S.send(JSON.stringify({msg_type:"answer",data:g,target:c})),R(T=>[...T,{id:q(),sender:"system",text:"✓ ステップ3: アンサーSDP送信完了",timestamp:Date.now()}]),await dr();else throw new Error("WebSocket接続が利用できません")}catch(g){console.error("Error handling offer:",g),w("オファーの処理に失敗しました。"),re("failed")}},[qt,I,R,dr]),Ra=C.useCallback(async(o,c)=>{if(console.log("=== アンサー受信 ==="),console.log("8. アンサー受信:",c),console.log("Answer SDP:",o),!Q.current){console.error("No peer connection when receiving answer"),w("P2P接続が初期化されていません。"),re("failed");return}try{console.log("9. アンサー情報セット中..."),re("setting-answer"),await Q.current.setRemoteDescription(new RTCSessionDescription(o)),R(s=>[...s,{id:q(),sender:"system",text:"✓ ステップ4: アンサー情報セット完了",timestamp:Date.now()}]),console.log("10. ICE候補交換を開始..."),re("ice-exchange"),await dr()}catch(s){console.error("Error handling answer:",s),w("アンサーの処理に失敗しました。"),re("failed")}},[R,dr]),Ma=C.useCallback(async(o,c)=>{if(console.log("=== ICE候補受信 ==="),console.log("ICE候補受信 from:",c),console.log("Candidate:",o),!Q.current){console.error("No peer connection when receiving ICE candidate");return}if(!Q.current.remoteDescription){console.log("Remote description not set yet, queuing ICE candidate"),we(s=>{const d=[...s,o];return console.log(`ICE候補をキューに追加 (total: ${d.length})`),d});return}try{console.log("ICE候補情報セット中..."),await Q.current.addIceCandidate(new RTCIceCandidate(o)),console.log("✓ ICE候補追加成功")}catch(s){console.error("Error adding ICE candidate:",s)}},[]),bt=C.useCallback(async()=>{console.log("Manual P2P disconnect initiated."),_e.current&&(_e.current.onclose=null,_e.current.close(),_e.current=null),Q.current&&(Q.current.onicecandidate=null,Q.current.oniceconnectionstatechange=null,Q.current.ondatachannel=null,Q.current.onicegatheringstatechange=null,Q.current.close(),Q.current=null),ye(""),Je(""),Xe([]),de(""),we([]),re("waiting"),se!=="failed"&&Ee("disconnected"),Ie(!1),Ot()},[Ot,se]),Ar=()=>{Ze.trim()?(Ke({messageType:"chat",payload:{text:Ze,sender:K}}),R(o=>[...o,{id:Date.now().toString(),sender:"me",text:Ze,timestamp:Date.now()}]),Rt("")):Ze.trim()||w("メッセージが空です。")},Pn=C.useCallback(async()=>{R(o=>[...o,{id:q(),sender:"system",text:`ルーム「${H}」から退出しました。`,timestamp:Date.now()}]),I&&(I.close(),Y(null)),h("disconnected"),fe([]),we([]),re("waiting"),await bt(),ie(null),V("main"),w(null),ct("")},[bt,H,I]),mn=C.useCallback(async o=>{if(!o.trim()&&L==="main"&&!x.trim()){w("部屋名を入力するか、既存の部屋を選択してください。");return}const c=L==="main"&&x.trim()?x:o;Qe(!0),await bt();const s=qd();ct(s),ie(c),V("room"),te(""),w(null);const d=`chatHistory_${c}`,g=localStorage.getItem(d);let S=[];if(g)try{S=JSON.parse(g)}catch($){console.error("Failed to parse stored chat history:",$),S.push({id:Date.now().toString(),sender:"system",text:"チャット履歴の読み込みに失敗しました。",timestamp:Date.now()})}R([...S,{id:Date.now().toString(),sender:"system",text:`ルーム「${c}」に入室しました。シグナリングサーバーに接続中...`,timestamp:Date.now()}]),await Ce(c)||(w("シグナリングサーバーへの接続に失敗しました。手動接続を使用してください。"),R($=>[...$,{id:Date.now().toString(),sender:"system",text:`手動P2P接続を使用してください。あなたのP2P ID: ${s.substring(0,6)}`,timestamp:Date.now()}])),Qe(!1)},[L,x,bt,Ce]),hn=async(o,c)=>{if(o)try{await navigator.clipboard.writeText(o),alert(`${c} をクリップボードにコピーしました。`)}catch(s){console.error(`クリップボードへのコピーに失敗しました (${c}):`,s),w("クリップボードへのコピーに失敗しました。手動でコピーしてください。")}},Gr=C.useCallback(async()=>{await bt(),Ie(!0),Xe([]);const o=await qt();if(!o){w("P2P接続の初期化に失敗しました。TURNサーバー情報を確認してください。"),Ee("failed");return}const c=o.createDataChannel("game_and_chat_manual");_e.current=c,cr(c);try{Ee("connecting");const s=await o.createOffer();await o.setLocalDescription(s),ye(JSON.stringify(s)),R(d=>[...d,{id:Date.now().toString(),sender:"system",text:"オファーを作成しました。SDPを相手に伝えてください。ICE候補は集まり次第表示されます。",timestamp:Date.now()}])}catch(s){console.error("Error creating offer:",s),w(`手動オファー作成失敗: ${s.message}`),Ee("failed")}},[qt,cr,bt,w]),Br=C.useCallback(async()=>{if(!oe.trim()){w("相手のオファーSDP(手動)を入力してください。");return}await bt(),Ie(!1),Xe([]);const o=await qt();if(!o){w("P2P接続の初期化に失敗しました。TURNサーバー情報を確認してください。"),Ee("failed");return}try{Ee("connecting");const c=JSON.parse(oe);if(c.type!=="offer"){w("入力されたSDPはオファーではありません。相手のオファーSDPを正しく入力してください。"),Ee("failed");return}await o.setRemoteDescription(new RTCSessionDescription(c));const s=await o.createAnswer();await o.setLocalDescription(s),ye(JSON.stringify(s)),Je(""),R(d=>[...d,{id:Date.now().toString(),sender:"system",text:"アンサーを作成しました。SDPを相手に伝えてください。ICE候補は集まり次第表示されます。",timestamp:Date.now()}])}catch(c){console.error("Error creating answer:",c),w(`手動アンサー作成失敗: ${c.message}. オファーSDPが正しいか確認してください。`),Ee("failed")}},[oe,qt,bt,w]),In=C.useCallback(async()=>{const o=Q.current;if(!o){w("P2P接続が初期化されていません。まずオファーまたはアンサーを作成してください。");return}let c=!1;if(oe.trim())try{const s=JSON.parse(oe);ke?s.type==="answer"&&o.signalingState==="have-local-offer"?(await o.setRemoteDescription(new RTCSessionDescription(s)),R(d=>[...d,{id:Date.now().toString(),sender:"system",text:"相手のアンサーSDPを設定しました。",timestamp:Date.now()}]),c=!0):w("無効なSDPタイプまたはP2P状態です。オファー側はアンサーSDPを期待しています。現在の状態: "+o.signalingState):(w("アンサー側は通常、このステップでSDPを再設定しません。オファーSDPはアンサー作成時に設定されます。"),console.warn("Answerer attempting to set remote SDP via handleSetRemoteInfoManual. This is unusual.")),c&&Je("")}catch(s){console.error("Error setting remote SDP:",s),w(`相手のSDP設定失敗(手動): ${s.message}. 有効なJSON形式のSDPを入力してください。`)}if(Re.trim())try{let s=JSON.parse(Re);if(!Array.isArray(s))if(typeof s=="object"&&s!==null&&(s.candidate||s.sdpMid))console.warn("Remote ICE input was a single candidate object, wrapping in an array. Please provide a JSON array of candidates."),s=[s];else throw new Error("ICE候補はJSON配列形式である必要があります。");const d=s;let g=0;for(const S of d)if(S&&(typeof S.candidate=="string"||typeof S.sdpMid=="string"||typeof S.sdpMLineIndex=="number"))if(o.remoteDescription)await o.addIceCandidate(new RTCIceCandidate(S)),g++;else{console.warn("Skipping ICE candidate, remote description not yet set.",S),w("ICE候補を追加する前に、相手のSDP（オファー/アンサー）を設定する必要があります。");break}else console.warn("Skipping invalid remote ICE candidate object:",S);g>0?(R(S=>[...S,{id:Date.now().toString(),sender:"system",text:`${g}件の相手ICE候補を設定しました。`,timestamp:Date.now()}]),de("")):d.length>0&&g===0&&!ge&&w("ICE候補の追加に失敗しました。有効な候補か、または相手のSDPが先に設定されているか確認してください。")}catch(s){console.error("Error processing remote ICE candidates:",s),w(`相手ICE候補設定失敗(手動): ${s.message}. 有効なJSON配列を入力してください。`)}},[ke,oe,Re,w,ge]),fr=o=>{const{name:c,value:s}=o.target;lr(d=>({...d,[c]:c==="cost"||c==="attack"||c==="defense"?parseInt(s)||0:s}))},Oa=()=>{var o;if(!((o=Bt.name)!=null&&o.trim())){w("カード名を入力してください。");return}Mt!=null&&Mt.id?Dr(qe.map(c=>c.id===Mt.id?{...c,...Bt,id:Mt.id}:c)):Dr([...qe,{...Bt,id:q()}]),lr({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""}),un(null),w(null)},Hr=o=>{un(o),lr(o)},Vi=o=>{window.confirm("このカードを本当に削除しますか？このカードを使用しているデッキからも削除されます。")&&(Dr(qe.filter(c=>c.id!==o)),Gn(c=>c.map(s=>({...s,cardIds:s.cardIds.filter(d=>d!==o)}))),w(null))},za=()=>{if(qe.length===0){w("エクスポートするカードがありません。");return}try{const o=JSON.stringify(qe,null,2),c=new Blob([o],{type:"application/json"}),s=URL.createObjectURL(c),d=document.createElement("a");d.href=s,d.download="cards.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(s),w(null)}catch(o){console.error("カードのエクスポートに失敗しました:",o),w("カードのエクスポートに失敗しました。")}},fl=o=>{var d;const c=(d=o.target.files)==null?void 0:d[0];if(!c)return;const s=new FileReader;s.onload=g=>{var S;try{const T=(S=g.target)==null?void 0:S.result;if(typeof T!="string"){w("ファイル内容の読み取りに失敗しました。");return}const $=JSON.parse(T);if(!Array.isArray($)){w("無効なJSON形式です。カードの配列ではありません。");return}Dr(b=>{const me=new Map(b.map(ue=>[ue.id,ue]));let ze=0,De=0;return $.forEach(ue=>{ue&&typeof ue.id=="string"&&typeof ue.name=="string"&&typeof ue.cost=="number"&&typeof ue.attack=="number"&&typeof ue.defense=="number"&&typeof ue.text=="string"?(me.set(ue.id,{...me.get(ue.id),...ue}),ze++):(console.warn("インポート中に無効なカード構造をスキップ:",ue),De++)}),De>0?w(`${De}件のカードが無効な構造のためスキップされました。`):w(null),alert(`${ze}件のカードがインポート/更新されました。${De>0?De+"件はスキップされました。":""}`),Array.from(me.values())})}catch(T){console.error("カードのインポートに失敗しました:",T),w("カードのインポートに失敗しました。ファイルが正しいJSON形式であることを確認してください。")}finally{sn.current&&(sn.current.value="")}},s.onerror=()=>{w("ファイル読み込みエラーが発生しました。"),sn.current&&(sn.current.value="")},s.readAsText(c)},Tn=o=>{const{name:c,value:s,type:d}=o.target;if(d==="checkbox"){const{checked:g}=o.target;Ht(S=>{const T=S.colors||[];return g?{...S,colors:[...T,c]}:{...S,colors:T.filter($=>$!==c)}})}else Ht(c==="types"?g=>({...g,types:s.split(",").map(S=>S.trim()).filter(Boolean)}):g=>({...g,[c]:c==="power"||c==="toughness"?parseInt(s)||0:s}))},Wi=()=>{var c;if(!((c=Ue.name)!=null&&c.trim())){w("トークン名を入力してください。");return}const o={id:(_t==null?void 0:_t.id)||q(),name:Ue.name,power:Ue.power||0,toughness:Ue.toughness||0,colors:Ue.colors||[],types:Ue.types||[],text:Ue.text||"",imageUrl:Ue.imageUrl||"",isCreature:(Ue.power||0)>0||(Ue.toughness||0)>0||(Ue.types||[]).some(s=>s.toLowerCase().includes("creature"))};_t!=null&&_t.id?Bn(be.map(s=>s.id===_t.id?o:s)):Bn([...be,o]),Ht({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""}),Rr(null),w(null)},Vr=o=>{Rr(o),Ht(o)},Wr=o=>{window.confirm("このトークン定義を本当に削除しますか？")&&(Bn(be.filter(c=>c.id!==o)),w(null))},pr=()=>{if(be.length===0){w("エクスポートするトークン定義がありません。");return}try{const o=JSON.stringify(be,null,2),c=new Blob([o],{type:"application/json"}),s=URL.createObjectURL(c),d=document.createElement("a");d.href=s,d.download="token_definitions.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(s),w(null)}catch(o){console.error("トークン定義のエクスポートに失敗:",o),w("トークン定義のエクスポートに失敗。")}},pl=o=>{var d;const c=(d=o.target.files)==null?void 0:d[0];if(!c)return;const s=new FileReader;s.onload=g=>{var S;try{const T=(S=g.target)==null?void 0:S.result;if(typeof T!="string"){w("ファイル内容の読み取り失敗。");return}const $=JSON.parse(T);if(!Array.isArray($)){w("無効なJSON形式。トークン定義の配列ではありません。");return}Bn(b=>{const me=new Map(b.map(ue=>[ue.id,ue]));let ze=0,De=0;return $.forEach(ue=>{ue&&typeof ue.id=="string"&&typeof ue.name=="string"?(me.set(ue.id,{...me.get(ue.id),...ue}),ze++):(console.warn("インポート中に無効なトークン定義構造をスキップ:",ue),De++)}),De>0?w(`${De}件のトークン定義が無効な構造のためスキップ。`):w(null),alert(`${ze}件のトークン定義がインポート/更新されました。${De>0?De+"件はスキップ。":""}`),Array.from(me.values())})}catch(T){console.error("トークン定義のインポート失敗:",T),w("トークン定義のインポート失敗。JSON形式確認。")}finally{on.current&&(on.current.value="")}},s.onerror=()=>{w("ファイル読み込みエラー。"),on.current&&(on.current.value="")},s.readAsText(c)},Qi=o=>{dn(c=>({...c,name:o.target.value}))},Ji=o=>{dn(c=>({...c,selectedCardIds:[...c.selectedCardIds,o]}))},Zl=o=>{dn(c=>{const s=c.selectedCardIds.indexOf(o);if(s===-1)return c;const d=[...c.selectedCardIds];return d.splice(s,1),{...c,selectedCardIds:d}})},ml=()=>{if(!cn.name.trim()){w("デッキ名を入力してください。");return}Cn!=null&&Cn.id?Gn(Te.map(o=>o.id===Cn.id?{...o,name:cn.name,cardIds:cn.selectedCardIds}:o)):Gn([...Te,{id:q(),name:cn.name,cardIds:cn.selectedCardIds}]),dn({name:"",selectedCardIds:[]}),Lr(null),w(null)},ql=o=>{Lr(o),dn({name:o.name,selectedCardIds:[...o.cardIds]})},$a=o=>{window.confirm("このデッキを本当に削除しますか？")&&(Gn(Te.filter(c=>c.id!==o)),w(null))},Dn=()=>{if(Te.length===0){w("エクスポートするデッキがありません。");return}try{const o=JSON.stringify(Te,null,2),c=new Blob([o],{type:"application/json"}),s=URL.createObjectURL(c),d=document.createElement("a");d.href=s,d.download="decks.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(s),w(null)}catch(o){console.error("デッキのエクスポートに失敗しました:",o),w("デッキのエクスポートに失敗しました。")}},bl=o=>{var d;const c=(d=o.target.files)==null?void 0:d[0];if(!c)return;const s=new FileReader;s.onload=g=>{var S;try{const T=(S=g.target)==null?void 0:S.result;if(typeof T!="string"){w("ファイル内容の読み取りに失敗しました。");return}const $=JSON.parse(T);if(!Array.isArray($)){w("無効なJSON形式です。デッキの配列ではありません。");return}const b=new Set(qe.map(Be=>Be.id));let me=0,ze=[];const De=$.map(Be=>{if(!Be||typeof Be.id!="string"||typeof Be.name!="string"||!Array.isArray(Be.cardIds))return console.warn("インポート中に無効なデッキ構造をスキップ:",Be),me++,null;let gn=0;const On=Be.cardIds.filter(Ka=>{const Ya=b.has(Ka);return Ya||(console.warn(`デッキ "${Be.name}" (ID: ${Be.id}) - 存在しないカードID "${Ka}" を発見。除去します。`),gn++),Ya});return gn>0&&ze.push(`デッキ「${Be.name}」から存在しないカードID ${gn}件を除去。`),{...Be,cardIds:On}}).filter(Boolean);Gn(Be=>{const gn=new Map(Be.map(On=>[On.id,On]));return De.forEach(On=>{gn.set(On.id,{...gn.get(On.id),...On})}),Array.from(gn.values())});let ue=`${De.length}件のデッキがインポート/更新されました。`;me>0&&(ue+=` ${me}件はスキップ。`),ze.length>0&&(ue+=`
詳細:
${ze.join(`
`)}`),alert(ue),w(ze.length>0||me>0?ue.split(`
`)[0]+" (詳細はコンソール確認)":null)}catch(T){console.error("デッキのインポートに失敗:",T),w("デッキのインポート失敗。JSON形式確認。")}finally{An.current&&(An.current.value="")}},s.onerror=()=>{w("ファイル読み込みエラー。"),An.current&&(An.current.value="")},s.readAsText(c)},hl=o=>{var s;const c=Te.find(d=>d.id===o);if(c){const d=lt===o,g=lt?(s=Te.find($=>$.id===lt))==null?void 0:s.name:null;al(o);const S={type:"deck_selected",deckName:c.name,deckSize:c.cardIds.length,peerId:K};Ke({messageType:"game_action",payload:S});let T="";d?T=`デッキ「${c.name}」(${c.cardIds.length}枚) を再度選択しました。`:g?T=`デッキ「${g}」から「${c.name}」(${c.cardIds.length}枚) に変更しました。`:T=`デッキ「${c.name}」(${c.cardIds.length}枚) を選択しました。`,pt?(T+=" 相手も選択済みです。",ar(!0)):T+=" 相手の選択を待っています...",R($=>[...$,{id:q(),sender:"system",text:T,timestamp:Date.now()}])}},Fa=()=>{if(!lt||!pt||!ke){w("両プレイヤーがデッキを選択し、あなたがオファー作成者である必要があります。"),ke||w("あなたはゲーム開始者(オファー作成者)ではありません。");return}const o=Te.find(b=>b.id===lt);if(!o){w("選択したデッキが見つかりません。");return}if(!pt){w("相手のデッキ情報がありません。");return}const c=o.cardIds.map(b=>Yn(b)).filter(Boolean),s=ja(c),d=s.slice(0,rt),g=s.slice(rt),S=[{id:q(),title:"Note 1",text:"",isShared:!1}],T=[{id:q(),title:"Note 1",text:"",isShared:!1}];Et({life:Jl,deck:g,hand:d,field:[],fieldTokens:[],graveyard:[],myNotes:S}),xt({life:Jl,deckCount:pt.size-rt,handCount:rt,field:[],fieldTokens:[],graveyard:[],opponentNotes:T}),Vt("MULLIGAN"),Mr(0),Or(0),Wn("deciding"),Jn("deciding"),ir([]),R(b=>[...b,{id:q(),sender:"system",text:`ゲームセットアップ完了。マリガンフェイズです。両プレイヤーは手札${rt}枚で開始。`,timestamp:Date.now()}]),Ke({messageType:"game_action",payload:{type:"game_start_request",peerId:K,initialOpponentHandSize:rt,initialOpponentLife:Jl}}),ar(!1)},gl=()=>{if(!O||Pt==="kept")return;Wn("kept");const o=O.hand.length;Ke({messageType:"game_action",payload:{type:"player_decision_mulligan",peerId:K,actionTaken:"kept_hand",mulligansTakenThisGame:et,resultingHandSize:o}}),R(s=>[...s,{id:q(),sender:"system",text:`あなたは手札をキープしました (手札${o}枚、マリガン${et}回)。相手の決定を待っています...`,timestamp:Date.now()}])},yl=()=>{if(!O||Pt==="kept"||et>=7)return;Wn("selecting_bottom");const o=ja([...O.hand,...O.deck]),c=o.slice(0,rt),s=o.slice(rt);Et(g=>g?{...g,hand:c,deck:s}:null),ir([]);const d=et+1;R(g=>[...g,{id:q(),sender:"system",text:`マリガン ${et+1}回目: 7枚ドローしました。${d}枚をデッキボトムに送ってください。`,timestamp:Date.now()}])},Ua=()=>{if(!O||Pt!=="selecting_bottom")return;const o=et+1;if(Wt.length!==o){w(`マリガンエラー: ${o}枚のカードを選択してボトムに送る必要があります。現在${Wt.length}枚選択されています。`);return}w(null);const c=O.hand.filter((S,T)=>!Wt.includes(T)),s=O.hand.filter((S,T)=>Wt.includes(T)),d=et+1;Et(S=>S?{...S,hand:c,deck:[...S.deck,...s]}:null),Mr(d),Wn("deciding"),ir([]);const g={type:"player_decision_mulligan",peerId:K,actionTaken:"performed_mulligan_step",mulligansTakenThisGame:d,resultingHandSize:c.length};Ke({messageType:"game_action",payload:g}),R(S=>[...S,{id:q(),sender:"system",text:`マリガン ${d}回目完了。新しい手札は ${c.length}枚です。この手札でキープしますか？`,timestamp:Date.now()}])},Tt=o=>{if(Pt!=="selecting_bottom")return;const c=et+1;ir(s=>{const d=[...s],g=d.indexOf(o);return g>-1?d.splice(g,1):d.length<c?d.push(o):w(`既に ${c}枚選択済みです。選択済みのカードをクリックして解除してください。`),d})},Ln=C.useCallback(o=>{if(!O||D!=="game_active")return;let c=typeof o=="string"?parseInt(o,10):o;if(isNaN(c))return;c=Math.max(0,c),Et(d=>d?{...d,life:c}:null),Ke({messageType:"game_action",payload:{type:"update_life",newLifeTotal:c,peerId:K}}),R(d=>[...d,{id:q(),sender:"system",text:`あなたはライフを ${c} に変更しました。`,timestamp:Date.now()}])},[O,D,K,Ke]),ea=()=>{if(!O||O.deck.length===0||D!=="game_active"){w(D!=="game_active"?"まだゲームがアクティブではありません。":"デッキにカードがありません。");return}const[o,...c]=O.deck;Et(d=>d?{...d,deck:c,hand:[...d.hand,o]}:null),Ke({messageType:"game_action",payload:{type:"draw_card",peerId:K}}),R(d=>[...d,{id:q(),sender:"system",text:`カード「${o.name}」をドローしました。`,timestamp:Date.now()}])},mr=(o,c)=>{if(!O||D!=="game_active"){w(D!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}const s=O.hand.filter((g,S)=>S!==c);Et(g=>g?{...g,hand:s,field:[...g.field,o]}:null),Ke({messageType:"game_action",payload:{type:"play_card",card:o,peerId:K}}),R(g=>[...g,{id:q(),sender:"system",text:`カード「${o.name}」をプレイしました。`,timestamp:Date.now()}])},Ki=o=>{if(!O||D!=="game_active"){w("ゲームがアクティブでないためトークンを生成できません。");return}const c=ur(o);if(!c){w("選択されたトークン定義が見つかりません。");return}const s=q(),d={instanceId:s,definition:c};Et(S=>S?{...S,fieldTokens:[...S.fieldTokens,d]}:null),Ke({messageType:"game_action",payload:{type:"create_token",tokenDefinition:c,instanceId:s,peerId:K}}),R(S=>[...S,{id:q(),sender:"system",text:`トークン「${c.name}」を生成しました。`,timestamp:Date.now()}]),pn()},vl=(o,c,s,d)=>{if(!O||D!=="game_active"){w(D!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}if(c==="card"){const g=o;let S=`カード「${g.name}」を`;Et($=>{if(!$)return null;let b=[...$.hand],me=[...$.field];const ze=[...$.graveyard,g];if(s==="hand")b.splice(d,1),S+="手札から墓地へ送りました。";else if(s==="field"){const De=me.findIndex((ue,Be)=>Be===d&&ue.id===g.id);if(De>-1)me.splice(De,1),S+="フィールドから墓地へ送りました。";else{const ue=me.findIndex(Be=>Be.id===g.id);ue>-1?(me.splice(ue,1),S+="フィールドから墓地へ送りました (フォールバックIDマッチ)。"):(console.warn(`SendToGraveyard (P2P Card): card ID ${g.id} not found on field at index ${d} or by ID.`),S+="フィールドから墓地へ送ろうとしましたが、見つかりませんでした。")}}return{...$,hand:b,field:me,graveyard:ze}}),Ke({messageType:"game_action",payload:{type:"move_to_graveyard",card:g,fromZone:s,fromZoneIndex:d,peerId:K}}),R($=>[...$,{id:q(),sender:"system",text:S,timestamp:Date.now()}])}else if(c==="token"){const g=o;Et(T=>T?{...T,fieldTokens:T.fieldTokens.filter($=>$.instanceId!==g.instanceId)}:null);const S={type:"remove_token_from_field",instanceId:g.instanceId,peerId:K};Ke({messageType:"game_action",payload:S}),R(T=>[...T,{id:q(),sender:"system",text:`トークン「${g.definition.name}」がフィールドを離れました。`,timestamp:Date.now()}])}},kl=C.useCallback((o,c,s)=>{if(!O||D!=="game_active")return;let d=`あなたはカード「${o.name}」を墓地から`;const g=[...O.graveyard];g.splice(c,1);let S=[...O.hand],T=[...O.field];s==="hand"?(S.push(o),d+="手札へ移動しました。"):(T.push(o),d+="フィールドへ移動しました。"),Et(b=>b?{...b,graveyard:g,hand:S,field:T}:null),$r&&fn==="my"&&Kn(g),Ke({messageType:"game_action",payload:{type:"move_from_graveyard",card:o,toZone:s,graveyardCardIndex:c,peerId:K}}),R(b=>[...b,{id:q(),sender:"system",text:d,timestamp:Date.now()}])},[O,D,K,Ke,$r,fn]),St=C.useCallback(o=>{Et(s=>s?{...s,myNotes:o}:null),Ke({messageType:"game_action",payload:{type:"update_notes",peerId:K,notes:o}})},[K,Ke]),xl=C.useCallback((o,c)=>{if(!O||D!=="game_active")return;const s=O.myNotes.map(d=>d.id===o?{...d,text:c}:d);St(s)},[O,D,St]),Aa=C.useCallback((o,c)=>{if(!O||D!=="game_active")return;const s=O.myNotes.map(d=>d.id===o?{...d,title:c}:d);St(s)},[O,D,St]),Yi=C.useCallback(o=>{if(!O||D!=="game_active")return;let c=!1;const s=O.myNotes.map(d=>d.id===o?(c=!d.isShared,{...d,isShared:c}):d);St(s),R(d=>{var g;return[...d,{id:q(),sender:"system",text:`あなたのメモ「${((g=s.find(S=>S.id===o))==null?void 0:g.title)||"無題"}」を ${c?"公開":"非公開"} にしました。`,timestamp:Date.now()}]})},[O,D,St]),Xi=C.useCallback(()=>{if(!O||D!=="game_active")return;const c={id:q(),title:`Note ${O.myNotes.length+1}`,text:"",isShared:!1},s=[...O.myNotes,c];St(s),R(d=>[...d,{id:q(),sender:"system",text:`新しいメモ「${c.title}」を追加しました。`,timestamp:Date.now()}])},[O,D,St]),Zi=C.useCallback(o=>{if(!O||D!=="game_active"||O.myNotes.length<=1)return;const c=O.myNotes.find(d=>d.id===o),s=O.myNotes.filter(d=>d.id!==o);St(s),R(d=>[...d,{id:q(),sender:"system",text:`メモ「${(c==null?void 0:c.title)||"無題"}」を削除しました。`,timestamp:Date.now()}])},[O,D,St]),Sl=()=>{sr("deck_selection"),tt(null),_a(null),jn(null),je(null),il(0),or("deciding"),zr([]),Ur(),pn()},qi=o=>{jn(o),je(null)},bi=()=>{if(!Nn){je("テスト用のデッキを選択してください。");return}const o=Te.find($=>$.id===Nn);if(!o){je("選択されたデッキが見つかりません。");return}if(o.cardIds.length===0){je("選択されたデッキにカードがありません。");return}const c=o.cardIds.map($=>Yn($)).filter(Boolean),s=ja(c),d=s.slice(0,rt),g=s.slice(rt),S=[{id:q(),title:"Test Note 1",text:"",isShared:!1}],T=[{id:q(),title:"Opponent Note 1",text:"Mock opponent notes visible for testing.",isShared:!0}];tt({life:Jl,deck:g,hand:d,field:[],fieldTokens:[],graveyard:[],myNotes:S}),_a({life:Jl,deckCount:Math.max(0,o.cardIds.length-rt),handCount:rt,field:[],fieldTokens:[],graveyard:[],opponentNotes:T}),sr("MULLIGAN"),il(0),or("deciding"),zr([]),je(`マリガンフェイズ。初期手札${rt}枚。`)},es=()=>{!F||Xt==="kept"||(or("kept"),sr("game_active"),je(`手札をキープしました (手札${F.hand.length}枚、マリガン${mt}回)。テストゲーム開始！`))},ts=()=>{if(!F||Xt==="kept"||mt>=7)return;or("selecting_bottom");const o=ja([...F.hand,...F.deck]),c=o.slice(0,rt),s=o.slice(rt);tt(g=>g?{...g,hand:c,deck:s}:null),zr([]);const d=mt+1;je(`マリガン ${mt+1}回目: 7枚ドローしました。${d}枚をデッキボトムに送ってください。`)},ns=()=>{if(!F||Xt!=="selecting_bottom")return;const o=mt+1;if(_n.length!==o){je(`マリガンエラー: ${o}枚のカードを選択してボトムに送る必要があります。現在${_n.length}枚選択されています。`);return}je(null);const c=F.hand.filter((g,S)=>!_n.includes(S)),s=F.hand.filter((g,S)=>_n.includes(S)),d=mt+1;tt(g=>g?{...g,hand:c,deck:[...g.deck,...s]}:null),il(d),or("deciding"),zr([]),je(`マリガン ${d}回目完了。新しい手札は ${c.length}枚です。この手札でキープしますか？`)},Ga=o=>{if(Xt!=="selecting_bottom")return;const c=mt+1;zr(s=>{const d=[...s],g=d.indexOf(o);return g>-1?d.splice(g,1):d.length<c?d.push(o):je(`既に ${c}枚選択済みです。選択済みのカードをクリックして解除してください。`),d})},ta=C.useCallback(o=>{if(!F||J!=="game_active")return;let c=typeof o=="string"?parseInt(o,10):o;if(isNaN(c)){je("無効なライフ値です。");return}c=Math.max(0,c),tt(s=>s?{...s,life:c}:null),je(`ライフを ${c} に変更しました。`)},[F,J]),rs=()=>{if(!F||F.deck.length===0||J!=="game_active"){je(J!=="game_active"?"まだゲームがアクティブではありません。":"デッキにカードがありません。");return}const[o,...c]=F.deck;tt(s=>s?{...s,deck:c,hand:[...s.hand,o]}:null),je(null)},Ba=(o,c)=>{if(!F||J!=="game_active"){je(J!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}const s=F.hand.filter((d,g)=>g!==c);tt(d=>d?{...d,hand:s,field:[...d.field,o]}:null),je(null)},ls=o=>{if(!F||J!=="game_active"){je("テストゲームがアクティブでないためトークンを生成できません。");return}const c=ur(o);if(!c){je("選択されたトークン定義が見つかりません。");return}const d={instanceId:q(),definition:c};tt(g=>g?{...g,fieldTokens:[...g.fieldTokens,d]}:null),je(`テストトークン「${c.name}」を生成しました。`),pn()},wl=(o,c,s,d)=>{if(!F||J!=="game_active"){je(J!=="game_active"?"まだゲームがアクティブではありません。":"ゲームの状態が正しくありません。");return}if(c==="card"){const g=o;tt(S=>{if(!S)return null;let T=[...S.hand],$=[...S.field];const b=[...S.graveyard,g];if(s==="hand")T.splice(d,1);else if(s==="field"){const me=$.findIndex((ze,De)=>De===d&&ze.id===g.id);if(me>-1)$.splice(me,1);else{const ze=$.findIndex(De=>De.id===g.id);ze>-1?$.splice(ze,1):console.warn(`TestSendToGraveyard (Card): card ID ${g.id} not found on field.`)}}return{...S,hand:T,field:$,graveyard:b}})}else if(c==="token"){const g=o;tt(S=>S?{...S,fieldTokens:S.fieldTokens.filter(T=>T.instanceId!==g.instanceId)}:null),je(`テストトークン「${g.definition.name}」がフィールドを離れました。`)}je(null)},Ha=C.useCallback((o,c,s)=>{if(!F||J!=="game_active")return;let d=`カード「${o.name}」を墓地から`;const g=[...F.graveyard];g.splice(c,1);let S=[...F.hand],T=[...F.field];s==="hand"?(S.push(o),d+="手札へ移動しました。"):(T.push(o),d+="フィールドへ移動しました。"),tt($=>$?{...$,graveyard:g,hand:S,field:T}:null),$r&&fn==="my"&&Kn(g),je(d)},[F,J,$r,fn]),as=C.useCallback((o,c)=>{!F||J!=="game_active"||tt(s=>s?{...s,myNotes:s.myNotes.map(d=>d.id===o?{...d,text:c}:d)}:null)},[F,J]),is=C.useCallback((o,c)=>{!F||J!=="game_active"||tt(s=>s?{...s,myNotes:s.myNotes.map(d=>d.id===o?{...d,title:c}:d)}:null)},[F,J]),Va=C.useCallback(o=>{if(!F||J!=="game_active")return;let c=!1,s="";tt(d=>{if(!d)return null;const g=d.myNotes.map(S=>S.id===o?(c=!S.isShared,s=S.title,{...S,isShared:c}):S);return{...d,myNotes:g}}),je(`テストメモ「${s||"無題"}」を ${c?"公開":"非公開"} にしました。`)},[F,J]),ss=C.useCallback(()=>{if(!F||J!=="game_active")return;const c={id:q(),title:`Test Note ${F.myNotes.length+1}`,text:"",isShared:!1};tt(s=>s?{...s,myNotes:[...s.myNotes,c]}:null),je(`新しいテストメモ「${c.title}」を追加しました。`)},[F,J]),os=C.useCallback(o=>{if(!F||J!=="game_active"||F.myNotes.length<=1)return;const c=F.myNotes.find(s=>s.id===o);tt(s=>s?{...s,myNotes:s.myNotes.filter(d=>d.id!==o)}:null),je(`テストメモ「${(c==null?void 0:c.title)||"無題"}」を削除しました。`)},[F,J]),Rn=C.useCallback((o,c=!1)=>{let s=[];c?o==="my"&&F?s=F.graveyard:o==="opponent"&&at&&(s=at.graveyard):o==="my"&&O?s=O.graveyard:o==="opponent"&&xe&&(s=xe.graveyard),Kn(s),sl(o),Ae(!0)},[O,xe,F,at]),Cl=C.useCallback((o,c,s,d,g,S)=>{if((S?J:D)!=="game_active")return;const $={type:s,data:c,fromZone:d,originalIndex:g,isTestGame:S};o.dataTransfer.setData("application/json",JSON.stringify($)),o.dataTransfer.effectAllowed="move",It($)},[D,J]),Nl=C.useCallback(()=>{It(null),Fr(!1),En(!1)},[]),jl=C.useCallback((o,c)=>{if(o.preventDefault(),G){if((G.isTestGame?J:D)!=="game_active"){o.dataTransfer.dropEffect="none";return}c==="field"&&G.fromZone==="hand"&&G.type==="card"?(o.dataTransfer.dropEffect="move",Fr(!0)):c==="graveyard"&&(G.fromZone==="hand"||G.fromZone==="field")?(o.dataTransfer.dropEffect="move",En(!0)):o.dataTransfer.dropEffect="none"}},[G,D,J]),_l=C.useCallback(o=>{if(G){if((G.isTestGame?J:D)!=="game_active")return;o==="field"&&G.fromZone==="hand"&&G.type==="card"?Fr(!0):o==="graveyard"&&(G.fromZone==="hand"||G.fromZone==="field")&&En(!0)}},[G,D,J]),hr=C.useCallback(o=>{o==="field"&&Fr(!1),o==="graveyard"&&En(!1)},[]),Mn=C.useCallback((o,c)=>{o.preventDefault();const s=o.dataTransfer.getData("application/json");if(s){try{const d=JSON.parse(s),{type:g,data:S,fromZone:T,originalIndex:$,isTestGame:b}=d;if((b?J:D)!=="game_active")return;c==="field"&&T==="hand"&&g==="card"?b?Ba(S,$):mr(S,$):c==="graveyard"&&(b?wl(S,g,T,$):vl(S,g,T,$))}catch(d){console.error("Error processing dropped item data:",d)}It(null),Fr(!1),En(!1)}},[mr,vl,Ba,wl,D,J]),El=(o,c,s=!1)=>{const{card:d,count:g,originalIndices:S}=o,T=S[S.length-1],$=(G==null?void 0:G.type)==="card"&&(G==null?void 0:G.data).id===d.id&&(G==null?void 0:G.originalIndex)===T&&(G==null?void 0:G.fromZone)==="field"&&(G==null?void 0:G.isTestGame)===s,b=s?J:D,me=b!=="game_active";return i.jsx(Yt,{card:d,context:"field",count:g>1?g:void 0,isMyCard:c,originalIndex:T,onDragStartItem:c?(ze,De,ue,Be,gn)=>Cl(ze,De,ue,Be,gn,s):void 0,onDragEndItem:c?Nl:void 0,isDraggable:c&&b==="game_active",isDragging:$,isDisabled:me},`${d.id}-${c?"my":"opponent"}-fieldgroup-${T}`)},Qr=(o,c,s,d=!1)=>{const g=(G==null?void 0:G.type)==="token"&&(G==null?void 0:G.data).instanceId===o.instanceId&&(G==null?void 0:G.fromZone)==="field"&&(G==null?void 0:G.isTestGame)===d,S=d?J:D,T=S!=="game_active";return i.jsx(Yt,{tokenInstance:o,isTokenDisplay:!0,context:"field",isMyCard:s,originalIndex:c,onDragStartItem:s?($,b,me,ze,De)=>Cl($,b,me,ze,De,d):void 0,onDragEndItem:s?Nl:void 0,isDraggable:s&&S==="game_active",isDragging:g,isDisabled:T},o.instanceId)},na=()=>i.jsxs("div",{className:"view-container main-view",children:[i.jsx("header",{children:i.jsx("h1",{children:"P2Pチャット & カードゲーム"})}),i.jsxs("nav",{className:"main-nav",children:[i.jsx("button",{onClick:()=>V("cardEditor"),children:"カードエディタ"}),i.jsx("button",{onClick:()=>V("deckEditor"),children:"デッキエディタ"}),i.jsx("button",{onClick:()=>V("tokenEditor"),children:"トークンエディタ"}),i.jsx("button",{onClick:()=>{Sl(),V("testGameView")},children:"テストゲーム画面"})]}),i.jsxs("section",{className:"room-actions","aria-labelledby":"room-actions-heading",children:[i.jsx("h2",{id:"room-actions-heading",className:"sr-only",children:"ルーム操作"}),i.jsxs("div",{className:"create-room-section",children:[i.jsx("h3",{children:"P2Pセッションを開始/参加"}),i.jsx("p",{className:"info-text",children:"部屋名を入力してP2Pセッションを開始または参加します。相手と同じ部屋名を使用してください。"}),i.jsxs("div",{className:"input-group",children:[i.jsx("label",{htmlFor:"roomNameInput",className:"sr-only",children:"部屋名"}),i.jsx("input",{id:"roomNameInput",type:"text",value:x,onChange:o=>te(o.target.value),placeholder:"部屋名（例: ProjectOmega）","aria-describedby":ge?"error-message":void 0,disabled:ce}),i.jsx("button",{onClick:()=>mn(x),disabled:ce||!x.trim(),"aria-live":"polite",children:ce?"準備中...":"ルームに入る"})]})]}),i.jsxs("div",{className:"join-room-section",children:[i.jsx("h3",{children:"既存の部屋に参加 (クイック選択)"}),i.jsx("p",{className:"info-text",children:"一般的な部屋名を選択して素早く参加できます。"}),Gc.length>0?i.jsx("ul",{className:"room-list",children:Gc.map(o=>i.jsxs("li",{children:[i.jsx("span",{children:o}),i.jsx("button",{onClick:()=>mn(o),disabled:ce,"aria-label":`${o} に参加する`,children:ce?"準備中...":"選択"})]},o))}):i.jsx("p",{children:"利用可能なクイック選択ルームはありません。"})]})]}),ge&&i.jsx("p",{id:"error-message",className:"error-message global-error",role:"alert",children:ge})]}),Wa=()=>i.jsxs("div",{className:"view-container card-editor-view",children:[i.jsxs("header",{children:[i.jsx("h2",{children:"カードエディタ"}),i.jsx("button",{onClick:()=>{V("main"),w(null),un(null),lr({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""})},children:"メインに戻る"})]}),ge&&i.jsx("p",{className:"error-message",role:"alert",children:ge}),i.jsxs("section",{className:"import-export-section",children:[i.jsx("h4",{children:"JSONインポート/エクスポート"}),i.jsx("input",{type:"file",accept:".json",ref:sn,onChange:fl,style:{display:"none"},id:"card-import-input"}),i.jsx("button",{onClick:()=>{var o;return(o=sn.current)==null?void 0:o.click()},className:"import-button",children:"カードをJSONからインポート"}),i.jsx("button",{onClick:za,className:"export-button",disabled:qe.length===0,children:"カードをJSONへエクスポート"})]}),i.jsxs("section",{className:"card-form-section",children:[i.jsx("h3",{children:Mt?"カードを編集":"新しいカードを作成"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"cardName",children:"カード名:"}),i.jsx("input",{type:"text",id:"cardName",name:"name",value:Bt.name||"",onChange:fr,required:!0})]}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"cardCost",children:"コスト:"}),i.jsx("input",{type:"number",id:"cardCost",name:"cost",value:Bt.cost||0,onChange:fr,min:"0"})]}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"cardAttack",children:"攻撃力:"}),i.jsx("input",{type:"number",id:"cardAttack",name:"attack",value:Bt.attack||0,onChange:fr,min:"0"})]}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"cardDefense",children:"防御力/体力:"}),i.jsx("input",{type:"number",id:"cardDefense",name:"defense",value:Bt.defense||0,onChange:fr,min:"0"})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{htmlFor:"cardText",children:"カードテキスト:"}),i.jsx("textarea",{id:"cardText",name:"text",value:Bt.text||"",onChange:fr,rows:3})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{htmlFor:"cardImageUrl",children:"画像URL (任意):"}),i.jsx("input",{type:"text",id:"cardImageUrl",name:"imageUrl",value:Bt.imageUrl||"",onChange:fr,placeholder:"https://example.com/image.png"})]})]}),i.jsx("button",{onClick:Oa,children:Mt?"カードを更新":"カードを追加"}),Mt&&i.jsx("button",{onClick:()=>{un(null),lr({name:"",cost:0,attack:0,defense:0,text:"",imageUrl:""})},className:"cancel-button",children:"キャンセル"})]}),i.jsxs("section",{className:"card-list-section",children:[i.jsxs("h3",{children:["登録済みカード一覧 (",qe.length,"枚)"]}),qe.length===0?i.jsx("p",{children:"登録されているカードはありません。"}):i.jsx("ul",{className:"card-list editor-list mtg-card-grid",children:qe.map(o=>i.jsxs("li",{className:"card-item-wrapper",children:[i.jsx(Yt,{card:o,context:"editor-list",isMyCard:!1}),i.jsxs("div",{className:"card-actions editor-actions",children:[i.jsx("button",{onClick:()=>Hr(o),children:"編集"}),i.jsx("button",{onClick:()=>Vi(o.id),className:"delete-button",children:"削除"})]})]},o.id))})]})]}),Qa=()=>i.jsxs("div",{className:"view-container token-editor-view",children:[i.jsxs("header",{children:[i.jsx("h2",{children:"トークンエディタ"}),i.jsx("button",{onClick:()=>{V("main"),w(null),Rr(null),Ht({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""})},children:"メインに戻る"})]}),ge&&i.jsx("p",{className:"error-message",role:"alert",children:ge}),i.jsxs("section",{className:"import-export-section",children:[i.jsx("h4",{children:"JSONインポート/エクスポート"}),i.jsx("input",{type:"file",accept:".json",ref:on,onChange:pl,style:{display:"none"},id:"token-import-input"}),i.jsx("button",{onClick:()=>{var o;return(o=on.current)==null?void 0:o.click()},className:"import-button",children:"トークン定義をJSONからインポート"}),i.jsx("button",{onClick:pr,className:"export-button",disabled:be.length===0,children:"トークン定義をJSONへエクスポート"})]}),i.jsxs("section",{className:"token-form-section",children:[i.jsx("h3",{children:_t?"トークン定義を編集":"新しいトークン定義を作成"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"tokenName",children:"トークン名:"}),i.jsx("input",{type:"text",id:"tokenName",name:"name",value:Ue.name||"",onChange:Tn,required:!0})]}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"tokenPower",children:"パワー:"}),i.jsx("input",{type:"number",id:"tokenPower",name:"power",value:Ue.power||0,onChange:Tn,min:"0"})]}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"tokenToughness",children:"タフネス:"}),i.jsx("input",{type:"number",id:"tokenToughness",name:"toughness",value:Ue.toughness||0,onChange:Tn,min:"0"})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{htmlFor:"tokenTypes",children:"タイプ (カンマ区切り 例: Creature - Goblin, Artifact):"}),i.jsx("input",{type:"text",id:"tokenTypes",name:"types",value:(Ue.types||[]).join(", "),onChange:Tn})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{children:"色:"}),i.jsx("div",{className:"checkbox-group",children:["W","U","B","R","G","C","Gold"].map(o=>i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",name:o,checked:(Ue.colors||[]).includes(o),onChange:Tn})," ",o]},o))})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{htmlFor:"tokenText",children:"テキスト:"}),i.jsx("textarea",{id:"tokenText",name:"text",value:Ue.text||"",onChange:Tn,rows:2})]}),i.jsxs("div",{className:"input-group-vertical full-width",children:[i.jsx("label",{htmlFor:"tokenImageUrl",children:"画像URL (任意):"}),i.jsx("input",{type:"text",id:"tokenImageUrl",name:"imageUrl",value:Ue.imageUrl||"",onChange:Tn,placeholder:"https://example.com/token.png"})]})]}),i.jsx("button",{onClick:Wi,children:_t?"トークン定義を更新":"トークン定義を追加"}),_t&&i.jsx("button",{onClick:()=>{Rr(null),Ht({name:"",power:0,toughness:0,colors:[],types:[],text:"",imageUrl:""})},className:"cancel-button",children:"キャンセル"})]}),i.jsxs("section",{className:"token-list-section",children:[i.jsxs("h3",{children:["登録済みトークン定義一覧 (",be.length,"件)"]}),be.length===0?i.jsx("p",{children:"登録されているトークン定義はありません。"}):i.jsxs("ul",{className:"card-list editor-list mtg-card-grid",children:[" ",be.map(o=>i.jsxs("li",{className:"card-item-wrapper",children:[" ",i.jsx(Yt,{tokenInstance:{instanceId:o.id,definition:o},isTokenDisplay:!0,context:"token-editor-list",isMyCard:!1}),i.jsxs("div",{className:"card-actions editor-actions",children:[i.jsx("button",{onClick:()=>Vr(o),children:"編集"}),i.jsx("button",{onClick:()=>Wr(o.id),className:"delete-button",children:"削除"})]})]},o.id))]})]})]}),Ja=()=>i.jsxs("div",{className:"view-container deck-editor-view",children:[i.jsxs("header",{children:[i.jsx("h2",{children:"デッキエディタ"}),i.jsx("button",{onClick:()=>{V("main"),w(null),Lr(null),dn({name:"",selectedCardIds:[]})},children:"メインに戻る"})]}),ge&&i.jsx("p",{className:"error-message",role:"alert",children:ge}),i.jsxs("section",{className:"import-export-section",children:[i.jsx("h4",{children:"JSONインポート/エクスポート"}),i.jsx("input",{type:"file",accept:".json",ref:An,onChange:bl,style:{display:"none"},id:"deck-import-input"}),i.jsx("button",{onClick:()=>{var o;return(o=An.current)==null?void 0:o.click()},className:"import-button",children:"デッキをJSONからインポート"}),i.jsx("button",{onClick:Dn,className:"export-button",disabled:Te.length===0,children:"デッキをJSONへエクスポート"})]}),i.jsxs("section",{className:"deck-form-section",children:[i.jsx("h3",{children:Cn?"デッキを編集":"新しいデッキを作成"}),i.jsxs("div",{className:"input-group-vertical",children:[i.jsx("label",{htmlFor:"deckName",children:"デッキ名:"}),i.jsx("input",{type:"text",id:"deckName",value:cn.name,onChange:Qi,required:!0})]}),i.jsxs("h4",{children:["カードを選択 (現在 ",cn.selectedCardIds.length,"枚)"]}),i.jsx("div",{className:"available-cards-list mtg-card-grid",children:qe.length===0?i.jsx("p",{children:"登録カードなし。まずカードエディタでカードを作成してください。"}):qe.map(o=>{const c=cn.selectedCardIds.filter(s=>s===o.id).length;return i.jsx(Yt,{card:o,context:"deck-selector",isSelected:c>0,onAddToDeck:Ji,onRemoveFromDeck:Zl,cardsInDeckCount:c},o.id)})}),i.jsx("button",{onClick:ml,children:Cn?"デッキを更新":"デッキを保存"}),Cn&&i.jsx("button",{onClick:()=>{Lr(null),dn({name:"",selectedCardIds:[]})},className:"cancel-button",children:"キャンセル"})]}),i.jsxs("section",{className:"deck-list-section",children:[i.jsxs("h3",{children:["登録済みデッキ一覧 (",Te.length,"件)"]}),Te.length===0?i.jsx("p",{children:"登録されているデッキはありません。"}):i.jsx("ul",{className:"deck-list editor-list",children:Te.map(o=>i.jsxs("li",{className:"deck-item",children:[i.jsxs("span",{children:[o.name," (",o.cardIds.length,"枚)"]}),i.jsxs("div",{className:"deck-actions",children:[i.jsx("button",{onClick:()=>ql(o),children:"編集"}),i.jsx("button",{onClick:()=>$a(o.id),className:"delete-button",children:"削除"})]})]},o.id))})]})]}),gr=()=>{var o,c;return i.jsxs("div",{className:`view-container room-view ${D==="game_active"||D==="MULLIGAN"?"game-active-scrollable":""}`,children:[i.jsxs("header",{className:"room-header",children:[i.jsxs("h2",{children:[H?`P2Pルーム: ${H}`:"P2Pルーム"," (あなたのID: ",K?K.substring(0,6):"未接続",")"]}),i.jsx("button",{onClick:Pn,disabled:ce||Le,className:"leave-button",children:"ルーム退出"})]}),ge&&i.jsx("p",{className:"error-message room-error",role:"alert",children:ge}),D!=="game_active"&&D!=="MULLIGAN"&&i.jsxs("section",{className:"connection-setup","aria-labelledby":"connection-setup-heading",children:[i.jsx("h3",{id:"connection-setup-heading",children:"接続設定"}),i.jsxs("div",{className:"ws-status-section",children:[i.jsx("h4",{children:"シグナリングサーバー接続状態"}),i.jsxs("p",{children:["WebSocket: ",i.jsx("span",{className:`status-${M}`,children:M.toUpperCase()})]}),H&&i.jsxs("p",{children:["参加中のルーム: ",H]}),ne.length>0&&i.jsxs("p",{children:["接続ユーザー数: ",ne.length,"人"]}),N&&i.jsx("p",{className:"info-text",children:"ルームに参加中..."})]}),M==="connected"&&i.jsxs("div",{className:"auto-p2p-section",children:[i.jsx("h4",{children:"自動P2P接続"}),i.jsxs("p",{children:["P2P接続状態: ",i.jsx("span",{className:`status-${se}`,children:se.toUpperCase()})]}),ae!=="waiting"&&ae!=="completed"&&i.jsxs("div",{className:"handshake-progress",children:[i.jsx("h5",{children:"ハンドシェイク進行状況:"}),i.jsxs("p",{className:"handshake-step",children:[ae==="creating-offer"&&"📝 オファーSDP作成中...",ae==="offer-sent"&&"✓ オファーSDP送信完了 → アンサー待機中",ae==="offer-received"&&"✓ オファー受信完了",ae==="setting-offer"&&"📝 オファー情報セット中...",ae==="creating-answer"&&"📝 アンサーSDP作成中...",ae==="answer-sent"&&"✓ アンサーSDP送信完了",ae==="setting-answer"&&"📝 アンサー情報セット中...",ae==="ice-exchange"&&"🔄 ICE候補交換中...",ae==="ice-checking"&&"🔍 ICE接続性チェック中...",ae==="ice-connected"&&"✓ ICE接続成功 → データチャンネル待機中",ae==="failed"&&"❌ ハンドシェイク失敗"]}),pe.length>0&&i.jsxs("p",{className:"ice-queue",children:["保留中のICE候補: ",pe.length,"個"]})]}),ne.length<2&&i.jsx("p",{className:"info-text",children:"他のユーザーの参加を待っています..."}),ne.length>=2&&se==="disconnected"&&ae==="waiting"&&i.jsx("button",{onClick:()=>Da(!0),className:"start-connection-btn",children:"P2P接続を開始"})]})]}),D!=="game_active"&&D!=="MULLIGAN"&&(M==="failed"||M==="disconnected")&&i.jsxs("section",{className:"p2p-setup manual-fallback","aria-labelledby":"p2p-setup-manual-heading",children:[i.jsx("h3",{id:"p2p-setup-manual-heading",children:"P2P接続設定 (手動フォールバック)"}),i.jsx("p",{className:"info-text",children:"自動接続が失敗しました。手動でP2P接続情報を交換してください。"}),Le&&i.jsx("p",{className:"info-text",children:"P2P接続を初期化中 (TURNサーバー情報取得中)..."}),i.jsx("p",{className:"info-text",children:"以下の手順でP2P接続情報を相手と交換してください。"}),i.jsxs("div",{className:"connection-actions",children:[i.jsx("button",{onClick:Gr,disabled:Le||se==="connected"||se==="connecting",children:"1a. オファー作成 (あなたが開始)"}),i.jsx("button",{onClick:Br,disabled:Le||se==="connected"||se==="connecting"||!oe.trim(),children:"1b. アンサー作成 (相手オファー受信後)"})]}),ot&&i.jsxs("div",{className:"sdp-section",children:[i.jsxs("label",{htmlFor:"localSdpManualTextarea",children:["あなたの",ke?"オファー":"アンサー","SDP (相手に伝えてください):"]}),i.jsx("textarea",{id:"localSdpManualTextarea",value:ot,readOnly:!0,rows:4}),i.jsx("button",{onClick:()=>hn(ot,`自分の${ke?"オファー":"アンサー"}SDP`),children:"コピー"})]}),i.jsxs("div",{className:"sdp-section",children:[i.jsxs("label",{htmlFor:"remoteSdpInputManual",children:["相手の",ke?"アンサー":"オファー","SDP (相手から受け取って入力):"]}),i.jsx("textarea",{id:"remoteSdpInputManual",value:oe,onChange:s=>Je(s.target.value),rows:4,placeholder:ke?"相手のアンサーSDPをここに貼り付け":"相手のオファーSDPをここに貼り付け"})]}),ut.length>0&&i.jsxs("div",{className:"ice-section",children:[i.jsx("label",{htmlFor:"localIceManualTextarea",children:"あなたのICE候補 (相手に伝えてください):"}),i.jsx("textarea",{id:"localIceManualTextarea",value:JSON.stringify(ut,null,2),readOnly:!0,rows:4}),i.jsx("button",{onClick:()=>hn(JSON.stringify(ut,null,2),"自分のICE候補"),children:"コピー"})]}),i.jsxs("div",{className:"ice-section",children:[i.jsx("label",{htmlFor:"remoteIceInputManual",children:"相手のICE候補 (相手から受け取って入力):"}),i.jsx("textarea",{id:"remoteIceInputManual",value:Re,onChange:s=>de(s.target.value),rows:4,placeholder:"相手のICE候補をここにJSON配列として貼り付け"})]}),i.jsx("button",{onClick:In,className:"connection-actions",disabled:Le||!oe.trim()&&!Re.trim()||se==="connected",children:"2. 相手情報セット & 接続試行"}),i.jsxs("p",{children:["P2P接続状態: ",i.jsx("span",{className:`status-${se}`,children:se.toUpperCase()})," ",ke?"(あなたはオファー側)":"(あなたはアンサー側)"]})]}),se==="connected"&&i.jsxs("section",{className:`game-section ${D==="game_active"||D==="MULLIGAN"?"full-game-board-active":""}`,"aria-labelledby":"game-heading",children:[D!=="game_active"&&D!=="MULLIGAN"&&i.jsx("h3",{id:"game-heading",children:"カードゲーム"}),D==="deck_selection"&&i.jsxs("div",{className:"deck-selection-area",children:[i.jsx("h4",{children:"デッキを選択してください"}),Te.length===0?i.jsx("p",{children:"プレイ可能なデッキがありません。デッキエディタで作成してください。"}):i.jsx("ul",{className:"deck-list game-deck-selector",children:Te.map(s=>i.jsxs("li",{className:lt===s.id?"selected":"",children:[s.name," (",s.cardIds.length,"枚)",i.jsx("button",{onClick:()=>hl(s.id),children:lt===s.id?"再選択":"選択"})]},s.id))}),lt&&i.jsxs("p",{children:["あなたが選択中のデッキ: ",(o=Te.find(s=>s.id===lt))==null?void 0:o.name," (",(c=Te.find(s=>s.id===lt))==null?void 0:c.cardIds.length,"枚)"]}),pt&&i.jsxs("p",{children:["相手(",pt.peerId.substring(0,6),")が選択中のデッキ: ",pt.name," (",pt.size,"枚)"]}),Vn&&ke&&i.jsx("button",{onClick:Fa,className:"start-game-button",children:"ゲーム開始 (あなたはオファー側)"}),Vn&&!ke&&i.jsx("p",{children:"オファー側がゲームを開始するのを待っています..."})]}),D==="MULLIGAN"&&O&&i.jsxs("div",{className:"mulligan-decision-area",children:[i.jsx("h4",{children:"マリガンフェイズ (ロンドンマリガン)"}),Pt==="deciding"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["現在のあなたの手札 (",O.hand.length,"枚、マリガン ",et,"回)。どうしますか？"]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの現在の手札（確認用）",children:O.hand.map((s,d)=>i.jsx(Yt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,isDisabled:!0,isDraggable:!1},`${s.id}-mymulligandecide-${d}`))}),i.jsxs("div",{className:"mulligan-buttons",children:[i.jsxs("button",{onClick:gl,className:"mulligan-button keep",children:["手札をキープ (",O.hand.length,"枚)"]}),et<7&&i.jsxs("button",{onClick:yl,className:"mulligan-button mulligan",children:["マリガン (7枚引き、",et+1,"枚ボトムへ)"]}),et>=7&&i.jsxs("p",{children:["これ以上マリガンできません。この手札（",O.hand.length,"枚）をキープしてください。"]})]})]}),Pt==="selecting_bottom"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["マリガン ",et+1,"回目: 新しく7枚引きました。その中から ",et+1,"枚を選んでデッキの底に送ってください。"]}),i.jsxs("p",{children:["選択済み: ",Wt.length," / ",et+1," 枚"]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone mulligan-selection-hand",children:O.hand.map((s,d)=>i.jsx(Yt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,onClick:()=>Tt(d),isSelected:Wt.includes(d),isSelectable:!0,isDisabled:!1},`${s.id}-mymulliganselect-${d}`))}),i.jsxs("button",{onClick:Ua,disabled:Wt.length!==et+1,className:"confirm-bottom-selection-button",children:["選択完了 (",et+1,"枚ボトムへ)"]})]}),Pt==="kept"&&i.jsx("p",{children:"あなたは手札をキープしました。相手の決定を待っています..."}),i.jsxs("div",{className:"opponent-mulligan-status",children:["相手のマリガン状態: ",Qn==="kept"?`キープ済み (手札 ${(xe==null?void 0:xe.handCount)??"?"}, マリガン ${Kl}回)`:`考慮中 (マリガン ${Kl}回)`]})]}),(D==="game_active"||D==="MULLIGAN"&&Pt==="kept")&&O&&xe&&i.jsxs("div",{className:"game-board arena-style",children:[i.jsxs("div",{className:"player-area opponent-area-arena",children:[i.jsxs("div",{className:"player-info-bar arena-info-bar",children:[i.jsx("div",{className:"avatar-placeholder arena-avatar",children:"O"}),i.jsxs("span",{className:"player-name-arena",children:["相手 (",dt?dt.substring(0,6):"確認中",")"]}),i.jsxs("div",{className:"life-display-arena",children:[i.jsx("span",{className:"life-label",children:"Life: "}),i.jsx("span",{className:"life-value",children:xe.life})]}),i.jsxs("div",{className:"zone-counts-arena",children:[i.jsxs("span",{children:["Hand: ",xe.handCount]}),i.jsxs("span",{children:["Deck: ",xe.deckCount]}),i.jsxs("span",{children:["GY Cards: ",xe.graveyard.length]}),i.jsxs("span",{children:["Tokens: ",xe.fieldTokens.length]})]})]}),i.jsxs("div",{className:"playing-space-arena",children:[i.jsxs("div",{className:"deck-zone-arena opponent-deck-arena","aria-label":"相手のデッキ",children:[i.jsx("div",{className:"deck-pile-visual",children:"Deck"}),i.jsx("span",{className:"count-overlay",children:xe.deckCount})]}),i.jsxs("div",{className:"field-zone-arena opponent-field-arena mtg-card-zone","aria-label":"相手のフィールド",children:[Bi(xe.field).map(s=>El(s,!1,!1)),xe.fieldTokens.map((s,d)=>Qr(s,d,!1,!1))]}),i.jsxs("div",{className:"graveyard-zone-arena opponent-graveyard-arena","aria-label":"相手の墓地 (クリックで表示)",onClick:()=>Rn("opponent"),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&Rn("opponent"),children:[i.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),i.jsx("span",{className:"count-overlay",children:xe.graveyard.length}),xe.graveyard.length>0&&i.jsx("span",{className:"graveyard-top-card-preview",children:xe.graveyard[xe.graveyard.length-1].name})]})]}),D==="game_active"&&i.jsx("div",{className:"notes-container opponent-notes-container",children:xe.opponentNotes.map(s=>i.jsxs("div",{className:"notes-area opponent-notes-area individual-note-area",children:[i.jsxs("div",{className:"notes-header",children:[i.jsx("span",{className:"notes-title",title:s.title,children:s.title}),i.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]})]}),s.isShared?i.jsx("div",{className:"notes-content scrollable-text",children:s.text||i.jsx("em",{children:"メモは空です"})}):i.jsx("div",{className:"notes-content hidden-notes",children:i.jsx("em",{children:"相手のメモは非公開です。"})})]},s.id))})]}),i.jsxs("div",{className:"player-area my-area-arena",children:[i.jsxs("div",{className:"player-info-bar arena-info-bar",children:[i.jsx("div",{className:"avatar-placeholder arena-avatar",children:"P"}),i.jsxs("span",{className:"player-name-arena",children:["あなた (",K.substring(0,6),")"]}),i.jsxs("div",{className:"life-control-arena",children:[i.jsx("span",{className:"life-label",children:"Life: "}),i.jsx("button",{onClick:()=>Ln(O.life-1),disabled:D!=="game_active","aria-label":"ライフを1減らす",children:"-"}),i.jsx("input",{type:"number",value:O.life,onChange:s=>Ln(s.target.value),disabled:D!=="game_active",className:"life-input-arena","aria-label":"現在のライフ"}),i.jsx("button",{onClick:()=>Ln(O.life+1),disabled:D!=="game_active","aria-label":"ライフを1増やす",children:"+"})]}),i.jsxs("div",{className:"zone-counts-arena",children:[i.jsxs("span",{children:["Deck: ",O.deck.length]}),i.jsxs("span",{children:["GY Cards: ",O.graveyard.length]}),i.jsxs("span",{children:["Tokens: ",O.fieldTokens.length]})]}),D==="game_active"&&i.jsx("button",{onClick:()=>Ia(!1),className:"create-token-button",children:"トークン生成"})]}),i.jsxs("div",{className:"playing-space-arena",children:[i.jsxs("div",{className:"deck-zone-arena my-deck-arena","aria-label":"あなたのデッキ",children:[i.jsx("button",{onClick:ea,disabled:O.deck.length===0||D!=="game_active",className:"deck-pile-visual draw-button-on-deck",children:"Deck"}),i.jsx("span",{className:"count-overlay",children:O.deck.length})]}),i.jsxs("div",{className:`field-zone-arena my-field-arena mtg-card-zone ${Ea?"drop-target-active":""}`,"aria-label":"あなたのフィールド (手札からドラッグ&ドロップでプレイ可能)",onDragOver:s=>jl(s,"field"),onDrop:s=>Mn(s,"field"),onDragEnter:()=>_l("field"),onDragLeave:()=>hr("field"),children:[Bi(O.field).map(s=>El(s,!0,!1)),O.fieldTokens.map((s,d)=>Qr(s,d,!0,!1))]}),i.jsxs("div",{className:`graveyard-zone-arena my-graveyard-arena ${Pa?"drop-target-graveyard-active":""}`,"aria-label":"あなたの墓地 (クリックで表示、手札/フィールドからドラッグ&ドロップで墓地へ)",onClick:()=>Rn("my"),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&Rn("my"),onDragOver:s=>jl(s,"graveyard"),onDrop:s=>Mn(s,"graveyard"),onDragEnter:()=>_l("graveyard"),onDragLeave:()=>hr("graveyard"),children:[i.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),i.jsx("span",{className:"count-overlay",children:O.graveyard.length}),O.graveyard.length>0&&i.jsx("span",{className:"graveyard-top-card-preview",children:O.graveyard[O.graveyard.length-1].name})]})]}),D==="game_active"&&i.jsxs("div",{className:"notes-container my-notes-container",children:[i.jsx("button",{onClick:Xi,className:"add-note-button",children:"新しいメモを追加"}),O.myNotes.map(s=>i.jsxs("div",{className:"notes-area my-notes-area individual-note-area",children:[i.jsxs("div",{className:"notes-header",children:[i.jsx("input",{type:"text",value:s.title,onChange:d=>Aa(s.id,d.target.value),className:"notes-title-input","aria-label":`メモ「${s.title}」のタイトル`}),i.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]}),i.jsx("button",{onClick:()=>Yi(s.id),className:"notes-toggle-button","aria-pressed":s.isShared,"aria-label":s.isShared?`メモ「${s.title}」を非公開にする`:`メモ「${s.title}」を公開する`,children:s.isShared?"非公開":"公開"}),i.jsx("button",{onClick:()=>Zi(s.id),className:"notes-delete-button",disabled:O.myNotes.length<=1,"aria-label":`メモ「${s.title}」を削除`,children:"削除"})]}),i.jsx("textarea",{className:"notes-textarea scrollable-text",value:s.text,onChange:d=>xl(s.id,d.target.value),placeholder:"ここにメモを入力...","aria-label":`メモ「${s.title}」の内容`})]},s.id))]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの手札",children:(D==="game_active"||D==="MULLIGAN"&&Pt==="kept")&&O.hand.map((s,d)=>{const g=(G==null?void 0:G.type)==="card"&&G.data.id===s.id&&G.originalIndex===d&&G.fromZone==="hand"&&!G.isTestGame;return i.jsx(Yt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,onDragStartItem:(S,T,$,b,me)=>Cl(S,T,$,b,me,!1),onDragEndItem:Nl,isDraggable:D==="game_active",isDragging:g,isDisabled:D!=="game_active"},`${s.id}-myhand-${d}`)})})]})]}),D==="game_over"&&i.jsx("p",{children:"ゲーム終了！"})]}),se==="connected"&&D!=="game_active"&&D!=="MULLIGAN"&&i.jsxs("section",{className:"chat-section","aria-labelledby":"chat-heading",children:[i.jsx("h3",{id:"chat-heading",children:"チャット"}),i.jsx("div",{className:"chat-messages",role:"log","aria-live":"polite",ref:ft,children:Oe.map(s=>i.jsxs("div",{className:`chat-message ${s.sender}`,children:[i.jsx("p",{children:s.text}),i.jsx("span",{className:"timestamp",children:new Date(s.timestamp).toLocaleTimeString()})]},s.id))}),i.jsxs("div",{className:"chat-input-area",children:[i.jsx("input",{type:"text",value:Ze,onChange:s=>Rt(s.target.value),placeholder:"メッセージを入力...",onKeyPress:s=>s.key==="Enter"&&Ar(),disabled:ce||Le||se!=="connected","aria-label":"チャットメッセージ入力"}),i.jsx("button",{onClick:Ar,disabled:ce||Le||se!=="connected",children:"送信"})]})]}),D!=="game_active"&&D!=="MULLIGAN"&&i.jsxs("div",{style:{marginTop:"20px",fontSize:"0.8em",color:"#777"},children:[i.jsxs("p",{children:["あなたのピアID: ",K||"N/A"]}),i.jsxs("p",{children:["相手のピアID (判明時): ",dt||"N/A"]})]})]})},us=()=>{var o,c;return i.jsxs("div",{className:`view-container test-game-view ${J==="game_active"||J==="MULLIGAN"?"game-active-scrollable":""}`,children:[i.jsxs("header",{className:"room-header",children:[i.jsx("h2",{children:"テストゲーム画面"}),i.jsx("button",{onClick:()=>{V("main"),Sl()},className:"leave-button",children:"メインに戻る"})]}),Yl&&i.jsx("p",{className:"error-message room-error",role:"alert",children:Yl}),J==="deck_selection"&&i.jsxs("section",{className:"deck-selection-area","aria-labelledby":"test-deck-selection-heading",children:[i.jsx("h3",{id:"test-deck-selection-heading",children:"テスト用デッキを選択"}),Te.length===0?i.jsx("p",{children:"プレイ可能なデッキがありません。デッキエディタで作成してください。"}):i.jsx("ul",{className:"deck-list game-deck-selector",children:Te.map(s=>i.jsxs("li",{className:Nn===s.id?"selected":"",children:[s.name," (",s.cardIds.length,"枚)",i.jsx("button",{onClick:()=>qi(s.id),children:Nn===s.id?"選択中":"選択"})]},s.id))}),Nn&&i.jsxs("p",{children:["選択中のデッキ: ",(o=Te.find(s=>s.id===Nn))==null?void 0:o.name," (",(c=Te.find(s=>s.id===Nn))==null?void 0:c.cardIds.length,"枚)"]}),i.jsx("button",{onClick:bi,className:"start-game-button",disabled:!Nn,children:"テストゲーム開始"})]}),J==="MULLIGAN"&&F&&i.jsxs("section",{className:"mulligan-decision-area","aria-labelledby":"test-mulligan-heading",children:[i.jsx("h3",{id:"test-mulligan-heading",children:"マリガンフェイズ (ロンドンマリガン - テスト)"}),Xt==="deciding"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["現在のあなたの手札 (",F.hand.length,"枚、マリガン ",mt,"回)。どうしますか？"]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの現在の手札（確認用）",children:F.hand.map((s,d)=>i.jsx(Yt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,isDisabled:!0,isDraggable:!1},`${s.id}-mytestmulligandecide-${d}`))}),i.jsxs("div",{className:"mulligan-buttons",children:[i.jsxs("button",{onClick:es,className:"mulligan-button keep",children:["手札をキープ (",F.hand.length,"枚)"]}),mt<7&&i.jsxs("button",{onClick:ts,className:"mulligan-button mulligan",children:["マリガン (7枚引き、",mt+1,"枚ボトムへ)"]}),mt>=7&&i.jsxs("p",{children:["これ以上マリガンできません。この手札（",F.hand.length,"枚）をキープしてください。"]})]})]}),Xt==="selecting_bottom"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["マリガン ",mt+1,"回目: 新しく7枚引きました。その中から ",mt+1,"枚を選んでデッキの底に送ってください。"]}),i.jsxs("p",{children:["選択済み: ",_n.length," / ",mt+1," 枚"]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone mulligan-selection-hand",children:F.hand.map((s,d)=>i.jsx(Yt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,onClick:()=>Ga(d),isSelected:_n.includes(d),isSelectable:!0,isDisabled:!1},`${s.id}-mytestmulliganselect-${d}`))}),i.jsxs("button",{onClick:ns,disabled:_n.length!==mt+1,className:"confirm-bottom-selection-button",children:["選択完了 (",mt+1,"枚ボトムへ)"]})]}),Xt==="kept"&&i.jsx("p",{children:"手札をキープしました。ゲームを開始しています..."})]}),(J==="game_active"||J==="MULLIGAN"&&Xt==="kept")&&F&&at&&i.jsxs("section",{className:"game-section full-game-board-active","aria-labelledby":"test-game-board-heading",children:[i.jsx("h3",{id:"test-game-board-heading",className:"sr-only",children:"テストゲームボード"}),i.jsxs("div",{className:"game-board arena-style",children:[i.jsxs("div",{className:"player-area opponent-area-arena",children:[i.jsxs("div",{className:"player-info-bar arena-info-bar",children:[i.jsx("div",{className:"avatar-placeholder arena-avatar",children:"M"}),i.jsx("span",{className:"player-name-arena",children:"相手 (モック)"}),i.jsxs("div",{className:"life-display-arena",children:[i.jsx("span",{className:"life-label",children:"Life: "}),i.jsx("span",{className:"life-value",children:at.life})]}),i.jsxs("div",{className:"zone-counts-arena",children:[i.jsxs("span",{children:["Hand: ",at.handCount]}),i.jsxs("span",{children:["Deck: ",at.deckCount]}),i.jsxs("span",{children:["GY Cards: ",at.graveyard.length]}),i.jsxs("span",{children:["Tokens: ",at.fieldTokens.length]})]})]}),i.jsxs("div",{className:"playing-space-arena",children:[i.jsxs("div",{className:"deck-zone-arena opponent-deck-arena","aria-label":"相手のデッキ(モック)",children:[i.jsx("div",{className:"deck-pile-visual",children:"Deck"}),i.jsx("span",{className:"count-overlay",children:at.deckCount})]}),i.jsxs("div",{className:"field-zone-arena opponent-field-arena mtg-card-zone","aria-label":"相手のフィールド (モック)",children:[Bi(at.field).map(s=>El(s,!1,!0)),at.fieldTokens.map((s,d)=>Qr(s,d,!1,!0))]}),i.jsxs("div",{className:"graveyard-zone-arena opponent-graveyard-arena","aria-label":"相手の墓地(モック) (クリックで表示)",onClick:()=>Rn("opponent",!0),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&Rn("opponent",!0),children:[i.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),i.jsx("span",{className:"count-overlay",children:at.graveyard.length}),at.graveyard.length>0&&i.jsx("span",{className:"graveyard-top-card-preview",children:at.graveyard[at.graveyard.length-1].name})]})]}),J==="game_active"&&i.jsx("div",{className:"notes-container opponent-notes-container",children:at.opponentNotes.map(s=>i.jsxs("div",{className:"notes-area opponent-notes-area individual-note-area",children:[i.jsxs("div",{className:"notes-header",children:[i.jsx("span",{className:"notes-title",title:s.title,children:s.title}),i.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]})]}),s.isShared?i.jsx("div",{className:"notes-content scrollable-text",children:s.text||i.jsx("em",{children:"メモは空です"})}):i.jsx("div",{className:"notes-content hidden-notes",children:i.jsx("em",{children:"相手のメモは非公開です。"})})]},s.id))})]}),i.jsxs("div",{className:"player-area my-area-arena",children:[i.jsxs("div",{className:"player-info-bar arena-info-bar",children:[i.jsx("div",{className:"avatar-placeholder arena-avatar",children:"T"}),i.jsx("span",{className:"player-name-arena",children:"あなた (テスト)"}),i.jsxs("div",{className:"life-control-arena",children:[i.jsx("span",{className:"life-label",children:"Life: "}),i.jsx("button",{onClick:()=>ta(F.life-1),disabled:J!=="game_active","aria-label":"テストライフを1減らす",children:"-"}),i.jsx("input",{type:"number",value:F.life,onChange:s=>ta(s.target.value),disabled:J!=="game_active",className:"life-input-arena","aria-label":"現在のテストライフ"}),i.jsx("button",{onClick:()=>ta(F.life+1),disabled:J!=="game_active","aria-label":"テストライフを1増やす",children:"+"})]}),i.jsxs("div",{className:"zone-counts-arena",children:[i.jsxs("span",{children:["Deck: ",F.deck.length]}),i.jsxs("span",{children:["GY Cards: ",F.graveyard.length]}),i.jsxs("span",{children:["Tokens: ",F.fieldTokens.length]})]}),J==="game_active"&&i.jsx("button",{onClick:()=>Ia(!0),className:"create-token-button",children:"テストトークン生成"})]}),i.jsxs("div",{className:"playing-space-arena",children:[i.jsxs("div",{className:"deck-zone-arena my-deck-arena","aria-label":"あなたのデッキ",children:[i.jsx("button",{onClick:rs,disabled:F.deck.length===0||J!=="game_active",className:"deck-pile-visual draw-button-on-deck",children:"Deck"}),i.jsx("span",{className:"count-overlay",children:F.deck.length})]}),i.jsxs("div",{className:`field-zone-arena my-field-arena mtg-card-zone ${Ea&&(G!=null&&G.isTestGame)?"drop-target-active":""}`,"aria-label":"あなたのフィールド (手札からドラッグ&ドロップでプレイ可能)",onDragOver:s=>jl(s,"field"),onDrop:s=>Mn(s,"field"),onDragEnter:()=>_l("field"),onDragLeave:()=>hr("field"),children:[Bi(F.field).map(s=>El(s,!0,!0)),F.fieldTokens.map((s,d)=>Qr(s,d,!0,!0))]}),i.jsxs("div",{className:`graveyard-zone-arena my-graveyard-arena ${Pa&&(G!=null&&G.isTestGame)?"drop-target-graveyard-active":""}`,"aria-label":"あなたの墓地 (クリックで表示、手札/フィールドからドラッグ&ドロップで墓地へ)",onClick:()=>Rn("my",!0),role:"button",tabIndex:0,onKeyPress:s=>(s.key==="Enter"||s.key===" ")&&Rn("my",!0),onDragOver:s=>jl(s,"graveyard"),onDrop:s=>Mn(s,"graveyard"),onDragEnter:()=>_l("graveyard"),onDragLeave:()=>hr("graveyard"),children:[i.jsx("div",{className:"graveyard-pile-visual",children:"GY"}),i.jsx("span",{className:"count-overlay",children:F.graveyard.length}),F.graveyard.length>0&&i.jsx("span",{className:"graveyard-top-card-preview",children:F.graveyard[F.graveyard.length-1].name})]})]}),J==="game_active"&&i.jsxs("div",{className:"notes-container my-notes-container",children:[i.jsx("button",{onClick:ss,className:"add-note-button",children:"新しいテストメモを追加"}),F.myNotes.map(s=>i.jsxs("div",{className:"notes-area my-notes-area individual-note-area",children:[i.jsxs("div",{className:"notes-header",children:[i.jsx("input",{type:"text",value:s.title,onChange:d=>is(s.id,d.target.value),className:"notes-title-input","aria-label":`テストメモ「${s.title}」のタイトル`}),i.jsxs("span",{className:"notes-status",children:["(",s.isShared?"公開中":"非公開",")"]}),i.jsx("button",{onClick:()=>Va(s.id),className:"notes-toggle-button","aria-pressed":s.isShared,"aria-label":s.isShared?`テストメモ「${s.title}」を非公開にする`:`テストメモ「${s.title}」を公開する`,children:s.isShared?"非公開":"公開"}),i.jsx("button",{onClick:()=>os(s.id),className:"notes-delete-button",disabled:F.myNotes.length<=1,"aria-label":`テストメモ「${s.title}」を削除`,children:"削除"})]}),i.jsx("textarea",{className:"notes-textarea scrollable-text",value:s.text,onChange:d=>as(s.id,d.target.value),placeholder:"テストメモを入力...","aria-label":`テストメモ「${s.title}」の内容`})]},s.id))]}),i.jsx("div",{className:"hand-zone-arena my-hand-arena mtg-card-zone","aria-label":"あなたの手札",children:(J==="game_active"||J==="MULLIGAN"&&Xt==="kept")&&F.hand.map((s,d)=>{const g=(G==null?void 0:G.type)==="card"&&G.data.id===s.id&&G.originalIndex===d&&G.fromZone==="hand"&&G.isTestGame;return i.jsx(Yt,{card:s,context:"hand",isMyCard:!0,originalIndex:d,onDragStartItem:(S,T,$,b,me)=>Cl(S,T,$,b,me,!0),onDragEndItem:Nl,isDraggable:J==="game_active",isDragging:g,isDisabled:J!=="game_active"},`${s.id}-mytest-hand-${d}`)})})]})]})]}),J==="game_over"&&i.jsx("p",{children:"テストゲーム終了。"})]})},cs=()=>{switch(L){case"main":return na();case"room":return gr();case"cardEditor":return Wa();case"deckEditor":return Ja();case"tokenEditor":return Qa();case"testGameView":return us();default:return na()}};return i.jsxs("div",{className:`app-container ${L==="room"&&(D==="game_active"||D==="MULLIGAN")||L==="testGameView"&&["game_active","MULLIGAN"].includes(J)?"full-width-game game-active-bg":""}`,children:[cs(),$r&&i.jsx("div",{className:"modal-overlay",onClick:Ur,role:"dialog","aria-modal":"true","aria-labelledby":"graveyard-modal-title",children:i.jsxs("div",{className:"modal-content graveyard-viewer-modal",onClick:o=>o.stopPropagation(),children:[i.jsxs("header",{className:"modal-header",children:[i.jsxs("h3",{id:"graveyard-modal-title",children:[fn==="my"?"あなたの墓地":"相手の墓地"," (",ol.length,"枚)"]}),i.jsx("button",{onClick:Ur,className:"modal-close-button","aria-label":"閉じる",children:"×"})]}),i.jsx("div",{className:"modal-body mtg-card-grid graveyard-cards-display",children:ol.length===0?i.jsx("p",{children:"墓地は空です。"}):ol.map((o,c)=>i.jsx(Yt,{card:o,context:"graveyard-viewer",isMyCard:fn==="my",originalIndex:c,onMoveFromGraveyardToHand:fn==="my"?L==="room"?(s,d)=>kl(s,d,"hand"):(s,d)=>Ha(s,d,"hand"):void 0,onMoveFromGraveyardToField:fn==="my"?L==="room"?(s,d)=>kl(s,d,"field"):(s,d)=>Ha(s,d,"field"):void 0,isGameActive:L==="room"?D==="game_active":J==="game_active"},`${o.id}-gyview-${c}-${fn}`))})]})}),Hi&&i.jsx("div",{className:"modal-overlay",onClick:pn,role:"dialog","aria-modal":"true","aria-labelledby":"create-token-modal-title",children:i.jsxs("div",{className:"modal-content create-token-modal",onClick:o=>o.stopPropagation(),children:[i.jsxs("header",{className:"modal-header",children:[i.jsx("h3",{id:"create-token-modal-title",children:"トークンを生成"}),i.jsx("button",{onClick:pn,className:"modal-close-button","aria-label":"閉じる",children:"×"})]}),i.jsx("div",{className:"modal-body mtg-card-grid token-selector-list",children:be.length===0?i.jsx("p",{children:"利用可能なトークン定義がありません。トークンエディタで作成してください。"}):be.map(o=>i.jsx(Yt,{tokenInstance:{instanceId:o.id,definition:o},isTokenDisplay:!0,context:"token-selector",onClick:()=>ul?ls(o.id):Ki(o.id),isSelectable:!0,isMyCard:!0},o.id))})]})})]})}const Hc=document.getElementById("root");Hc&&Yd.createRoot(Hc).render(i.jsxs(Bd.StrictMode,{children:[" ",i.jsx(bd,{})," "]}));
